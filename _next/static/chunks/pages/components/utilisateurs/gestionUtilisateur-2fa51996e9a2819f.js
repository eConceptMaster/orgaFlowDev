(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[48],{69472:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/components/utilisateurs/gestionUtilisateur",function(){return a(75219)}])},75219:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var i=a(74848),s=a(93107),n=a(40350),r=a(96540),l=a(96967),c=a(94335),o=a(87185);a(13084);var d=a(18987);class h extends r.Component{componentDidMount(){this.fetchData()}render(){let{data:e}=this.state;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"box-body space-y-3",children:(0,i.jsx)("div",{className:"overflow-hidden table-bordered",children:(0,i.jsx)("div",{children:(0,i.jsx)(l.ReactTabulator,{columns:this.columns,options:{pagination:"local",paginationSize:10,paginationSizeSelector:[10,20,50,100],paginationInitialPage:1,paginationButtonCount:5,paginationDataReceived:{last_page:1},paginationDataSent:{page:1,size:10}},events:{rowClick:this.rowClick},onRef:e=>this.ref=e,data:e,"data-custom-attr":"test-custom-attribute",className:"ti-custom-table ti-striped-table ti-custom-table-hover"})})})})})}constructor(e){super(e),this.ref=null,this.handleNamePage=(e,t,a)=>{let{namePage:i,isActif:s,mainPage:n,infoChecking:r,idUser:l}=this.props;r(!0),i(e),s(!0),n(t),l(a)},this.handleUserNumber=e=>{e.target.blur();let{userNumber:t}=this.props;t(!0===e.target.checked?e=>e+1:e=>e-1)},this.columns=[{title:"Nom",field:"NOM"},{title:"Mail",field:"MAIL"},{title:"Telephone",field:"TELEPHONE"},{title:"Type",field:"TYPE UTILISATEUR"}],this.handleTypeUser=e=>"".concat(o.z[e].toLowerCase().toUpperCase()[0]).concat(o.z[e].toLowerCase().slice(1)),this.fetchData=async()=>{try{let e={"X-Embarcadero-Tenant-Id":d.A.get("tenant-id"),"X-Embarcadero-Tenant-Secret":d.A.get("tenant-secret"),Secret:d.A.get("secret")},t=d.A.get("ip"),a=(await c.A.get("".concat(t,"/compteutilisateur"),{headers:e})).data.map(e=>({ID:e.ID,NOM:"".concat(e.NOM," ").concat(e.PRENOM),MAIL:e.MAIL,TELEPHONE:e.TELEPHONE,"TYPE UTILISATEUR":this.handleTypeUser(e.TYPE_USER)}));this.setState({data:a})}catch(e){console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es :",e)}},this.rowClick=(e,t)=>{let a=e.target.closest(".tabulator-cell");a&&a.querySelector('input[type="checkbox"]')||this.handleNamePage("Info utilisateur","Info utilisateur",t.getData().ID)},this.clearData=()=>{this.setState({data:[]})},this.state={data:[]}}}var u=a(71416);let m=()=>{let[e,t]=(0,r.useState)("Utilisateurs"),[a,l]=(0,r.useState)(""),[c,o]=(0,r.useState)(!1),[d,m]=(0,r.useState)(0),[p,x]=(0,r.useState)(!1),[g,j]=(0,r.useState)(""),b=(e,a)=>{t(e),o(!0),l(a)};return(0,i.jsxs)("div",{children:[(0,i.jsx)(n.A,{title:"Utilisateurs"}),(0,i.jsx)(s.A,{currentpage:e,mainpage:a,activepage:"Gestion des utilisateurs"}),(0,i.jsx)("div",{className:"grid grid-cols-12 gap-6",children:(0,i.jsxs)("div",{className:"col-span-12",children:[!c&&(0,i.jsxs)("div",{className:"box basic-data-table",children:[(0,i.jsx)("div",{className:"box-header flex items-center",children:(0,i.jsxs)("button",{type:"button",className:"ti-btn !rounded-full ti-btn-outline-success",onClick:()=>b("Ajouter un utilisateur","Ajouter un utilisateur"),children:[(0,i.jsx)("i",{className:"ti ti-plus font-bold"}),"Ajouter un utilisateur"]})}),(0,i.jsx)(h,{namePage:t,isActif:o,mainPage:l,userNomber:m,infoChecking:x,idUser:j})]}),c&&(0,i.jsx)(u.default,{namePage:t,isActif:o,mainPage:l,isChecking:p,setInfoChecking:x,idUser:g})]})})]})};m.layout="Contentlayout";let p=m},93107:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var i=a(74848),s=a(91106),n=a.n(s);a(96540);let r=e=>(0,i.jsxs)("div",{className:"block justify-between page-header md:flex",children:[(0,i.jsx)("div",{children:(0,i.jsx)("h3",{className:"text-gray-700 hover:text-gray-900 dark:text-white dark:hover:text-white text-2xl font-medium",children:e.currentpage})}),(0,i.jsxs)("ol",{className:"flex items-center whitespace-nowrap min-w-0",children:[(0,i.jsx)("li",{className:"text-sm",children:(0,i.jsxs)(n(),{className:"flex items-center font-semibold text-primary hover:text-primary dark:text-primary truncate",href:"#!",children:[e.activepage,(0,i.jsx)("i",{className:"ti ti-chevrons-right flex-shrink-0 mx-3 overflow-visible text-gray-300 dark:text-gray-300 rtl:rotate-180"})]})}),(0,i.jsx)("li",{className:"text-sm text-gray-500 hover:text-primary dark:text-white/70 ","aria-current":"page",children:e.mainpage})]})]})},40350:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var i=a(74848);a(96540);var s=a(13368),n=a.n(s);let r={src:"/orgaFlowDev/_next/static/media/favicon.3659de1b.ico"},l=e=>{let{title:t}=e;return(0,i.jsxs)(n(),{children:[(0,i.jsx)("title",{children:"Synto - ".concat(t)}),(0,i.jsx)("link",{href:r.src,rel:"icon"}),(0,i.jsx)("meta",{name:"description",content:"Synto - Nextjs Admin & Dashboard Template"}),(0,i.jsx)("meta",{name:"author",content:"Spruko Technologies Private Limited"}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,i.jsx)("meta",{name:"keywords",content:"tailwind nextjs, dashboard tailwind, tailwind admin, nextjs tailwind, tailwind in nextjs, admin dashboard tailwind, tailwind dashboards, tailwind template admin, tailwind and nextjs, admin panel, template dashboard, admin dashboard template, admin panel template"})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[833,518,928,335,512,391,416,636,593,792],()=>t(69472)),_N_E=e.O()}]);