(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[22],{13452:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/gestionResponsables",function(){return a(28380)}])},28380:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var r=a(74848),s=a(93107),n=a(40350),i=a(96540),l=a(96967),o=a(18322);a(13084);var d=a(74230);class c extends i.Component{componentDidMount(){this.fetchData()}render(){let{data:e}=this.state;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"box-body space-y-3",children:(0,r.jsx)("div",{className:"overflow-hidden table-bordered",children:(0,r.jsxs)("div",{children:[this.isLoading&&(0,r.jsx)(d.Qv,{numberOfColumns:this.columns.length}),!this.isLoading&&(0,r.jsx)(l.ReactTabulator,{columns:this.columns,options:{pagination:"local",paginationSize:10,paginationSizeSelector:[10,20,50,100],paginationInitialPage:1,paginationButtonCount:5,paginationDataReceived:{last_page:1},paginationDataSent:{page:1,size:10}},events:{rowClick:this.rowClick},onRef:e=>{this.props.refTable(e)},data:e,"data-custom-attr":"test-custom-attribute",className:"ti-custom-table ti-striped-table ti-custom-table-hover"})]})})})})}constructor(e){super(e),this.isLoading=!0,this.handleNamePage=(e,t,a)=>{let{namePage:r,isActif:s,mainPage:n,infoChecking:i,idUser:l}=this.props;i(!0),r(e),s(!0),n(t),l(a)},this.columns=[{title:"Nom",field:"NOM"},{title:"Mail",field:"MAIL"},{title:"Telephone",field:"TELEPHONE"}],this.fetchData=async()=>{var e,t;let{result:a,loading:r}=await (0,o.Fd)("/responsables"),s=null!==(e=null==a?void 0:a.data)&&void 0!==e?e:null,n=null!==(t=null==a?void 0:a.error)&&void 0!==t?t:null;n&&console.error(n);let i=(null!=s?s:[]).map(e=>({ID:e.ID,NOM:"".concat(e.NOM," ").concat(void 0!==e.PRENOM?e.PRENOM:""),MAIL:e.MAIL,TELEPHONE:e.TELEPHONE?(0,o.fk)(String(e.TELEPHONE)):""}));this.setState({data:i}),this.props.dataTable(i),this.isLoading=r,setTimeout(()=>{let e=document.querySelector(".tabulator-page[title='First Page']"),t=document.querySelector(".tabulator-page[title='Prev Page']"),a=document.querySelector(".tabulator-page[title='Next Page']"),r=document.querySelector(".tabulator-page[title='Last Page']");e&&(e.textContent="Premi\xe8re"),t&&(t.textContent="Pr\xe9c\xe9dente"),a&&(a.textContent="Suivante"),r&&(r.textContent="Derni\xe8re")},10)},this.rowClick=(e,t)=>{this.handleNamePage("Info responsable","Info responsable",t.getData().ID)},this.clearData=()=>{this.setState({data:[]})},this.state={data:[]}}}a(77571);var m=a(18940),u=a(95977),E=a(6861),b=a(11011);a(74148);var h=a(66503),g=a(86857);let p=e=>{let{namePage:t,isActif:a,mainPage:s,isChecking:n,setInfoChecking:l,idUser:o,setIdUser:c}=e,[p,N]=(0,i.useState)({}),[x,A]=(0,i.useState)([]),[I,f]=(0,i.useState)(!0),[O,v]=(0,i.useState)(!0),[y,j]=(0,i.useState)(""),[S,L]=(0,i.useState)({NOM:"",NUMERO_RESPONSABLE:0,TELEPHONE:32,TYPE_CIVILITE:0,UID:""}),[T,w]=(0,i.useState)({NOM:"",NUMERO_RESPONSABLE:0,TELEPHONE:0,TYPE_CIVILITE:0,UID:""}),[C,_]=(0,i.useState)({ADRESSE:"",CODE_POSTAL:0,LOCALITE:"",NUMERO:""}),[R,z]=(0,i.useState)({ADRESSE:"",CODE_POSTAL:0,LOCALITE:"",NUMERO:""}),P=(e,r)=>{l(!1),a(!1),t(e),s(r),c("")},D=e=>{let{name:t,value:a,type:r}=e.target;N(e=>({...e,[t]:!1})),_(e=>({...e,[t]:"number"===r?Number(a):a}))},M=e=>{let{name:t,value:a,type:r}=e.target;N(e=>({...e,[t]:!1})),L(e=>({...e,[t]:"number"===r?Number(a):a}))},k=e=>{L(t=>({...t,TELEPHONE:Number(e)})),N(e=>({...e,TELEPHONE:!1}))},U=()=>{let e=m.EY.safeParse(C);if(!e.success){let t=e.error.flatten().fieldErrors;console.log(t);let a=Object.keys(t).reduce((e,t)=>(e[t]=!0,e),{});return N(e=>({...e,...a})),!1}return!0},B=()=>{let e=m.UG.safeParse(S);if(!e.success){let t=e.error.flatten().fieldErrors;return console.log(t),N({...Object.keys(t).reduce((e,t)=>(e[t]=!0,e),{})}),U(),!1}return U()},F=async()=>{if(B())try{let e={...S,ID:o},t=await u.A.patch("/responsables/",e),a=await u.A.patch("/adresse/",C);200===t.status&&200===a.status&&f(!1)}catch(e){console.error(e)}},V=async e=>{e.preventDefault();try{let e={...S,UID:String(Math.random())},t=m.UG.safeParse(e);if(!t.success){let e=t.error.flatten().fieldErrors,a=Object.keys(e).reduce((e,t)=>(e[t]=!0,e),{});N(a);return}let a=await u.A.put("/responsables",e);200===a.status&&(L({ID:void 0,MAIL:void 0,NOM:"",NUMERO_RESPONSABLE:0,PRENOM:void 0,REGISTRE_NATIONAL:void 0,TELEPHONE:0,TYPE_CIVILITE:0,UID:""}),j(""))}catch(e){console.error(e)}},Y=async()=>{try{let e=await u.A.delete("/responsables/".concat(o));200===e.status&&setTimeout(()=>P("Responsables",""),50)}catch(e){console.error(e)}},H=(e,t)=>{var a;let r=String(e.TYPE_CIVILITE);L({NOM:e.NOM,PRENOM:e.PRENOM,REGISTRE_NATIONAL:e.REGISTRE_NATIONAL,TYPE_CIVILITE:e.TYPE_CIVILITE,NUMERO_RESPONSABLE:e.NUMERO_RESPONSABLE,UID:e.UID,TELEPHONE:e.TELEPHONE,MAIL:e.MAIL}),j(r?({0:"Gar\xe7on",1:"Fille",2:"Autres"})[r]:""),_({CODE_POSTAL:t.CODE_POSTAL,LOCALITE:t.LOCALITE,NUMERO:t.NUMERO,NUM_BOITE:null!==(a=t.NUM_BOITE)&&void 0!==a?a:"",ADRESSE:t.ADRESSE,ADRESSE_ID:t.ADRESSE_ID})};return(0,i.useEffect)(()=>{(async()=>{try{let e=await g.A.get("/listtype/reference/type_civilite");if(o){let e=await u.A.get("/responsables/".concat(o)),t=await u.A.get("/adresse/responsable/".concat(o));f(!1),H(e.data,t.data)}v(!1),A(e.data)}catch(e){console.error(e)}})()},[]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"grid grid-cols-12 gap-6",children:(0,r.jsx)("div",{className:"col-span-12",children:(0,r.jsxs)("div",{className:"box",children:[(0,r.jsx)("div",{className:"box-header",children:(0,r.jsxs)("button",{type:"button",className:"ti-btn !rounded-full ti-btn-outline-info",onClick:()=>P("Responsables",""),children:[(0,r.jsx)("i",{className:"ti ti-arrow-back font-bold"}),"Retour"]})}),(0,r.jsxs)("div",{className:"box-body",children:[O&&(0,r.jsx)(d.eI,{}),!O&&(0,r.jsxs)("form",{className:"ti-validation",children:[(0,r.jsxs)("fieldset",{children:[(0,r.jsx)("legend",{className:"text-xl font-semibold bg-white dark:dark:bg-bgdark px-3 translate-y-3 translate-x-3",children:"Informations personnelles"}),(0,r.jsx)("hr",{className:"mb-6"}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2 relative",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Nom"}),(0,r.jsx)("input",{type:"text",className:p.NOM?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input",name:"NOM",value:S.NOM,onChange:M,readOnly:!I,required:!0}),(0,E.B)(p.NUMERO_RESPONSABLE)]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Pr\xe9nom"}),(0,r.jsx)("input",{type:"text",className:"my-auto ti-form-input",name:"PRENOM",value:S.PRENOM,onChange:M,readOnly:!I})]}),(0,r.jsxs)("div",{className:"space-y-2 relative",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Num\xe9ro de responsable"}),(0,r.jsx)("input",{type:"number",className:p.NUMERO_RESPONSABLE?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input",name:"NUMERO_RESPONSABLE",value:null===S.NUMERO_RESPONSABLE?"":S.NUMERO_RESPONSABLE,onChange:M,readOnly:!I}),(0,E.B)(p.NUMERO_RESPONSABLE)]}),(0,r.jsxs)("div",{className:"space-y-2 relative",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Civilit\xe9"}),(0,r.jsxs)("select",{className:p.TYPE_CIVILITE?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input",name:"TYPE_CIVILITE",value:y,onChange:e=>{let t=e.target.selectedOptions[0];t&&(j(t.value),""!==y&&N(e=>({...e,TYPE_CIVILITE:!1})),L(e=>({...e,TYPE_CIVILITE:Number(t.dataset.type)})))},disabled:!I,defaultValue:"Choisir une civilit\xe9",children:[(0,r.jsx)("option",{children:"Choisir une civilit\xe9"}),x.map(e=>(0,r.jsx)("option",{"data-type":e.ID_REFERENCE,children:e.LIBELLE_REFERENCE},e.ID))]}),(0,E.B)(p.TYPE_CIVILITE)]}),(0,r.jsxs)("div",{className:"space-y-2 relative",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Mail"}),(0,r.jsx)("input",{type:"email",className:p.MAIL?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input",name:"MAIL",value:null===S.MAIL?"":S.MAIL,onChange:M,readOnly:!I}),(0,E.B)(p.MAIL)]}),(0,r.jsxs)("div",{className:"space-y-2 relative",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"T\xe9l\xe9phone"}),(0,r.jsx)(b.LR,{defaultCountry:"be",value:String(S.TELEPHONE),onChange:e=>k(e),countries:h.X,className:"w-full",disabled:!I,inputClassName:p.TELEPHONE?"w-full dark:bg-bgdark !ml-[1px] !border-l !border-red-600":"w-full dark:bg-bgdark !border-[#e2e8f0]"}),(0,E.B)(p.TELEPHONE)]})]})]}),(0,r.jsxs)("fieldset",{className:"mt-6",children:[(0,r.jsx)("legend",{className:"text-xl font-semibold bg-white dark:dark:bg-bgdark px-3 translate-y-3 translate-x-3",children:"Adresse"}),(0,r.jsx)("hr",{className:"mb-6"}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2 relative",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Adresse"}),(0,r.jsx)("input",{type:"text",name:"ADRESSE",readOnly:!I,onChange:D,value:C.ADRESSE,className:p.ADRESSE?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input"}),(0,E.B)(p.ADRESSE)]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsxs)("div",{className:"space-y-2 relative",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Num\xe9ro"}),(0,r.jsx)("input",{type:"text",name:"NUMERO",readOnly:!I,onChange:D,value:C.NUMERO,className:p.NUMERO?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input"}),(0,E.B)(p.NUMERO)]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Boite"}),(0,r.jsx)("input",{type:"text",name:"NUM_BOITE",readOnly:!I,onChange:D,value:C.NUM_BOITE,className:"my-auto ti-form-input"})]}),(0,r.jsxs)("div",{className:"space-y-2 relative",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Code postal"}),(0,r.jsx)("input",{type:"number",name:"CODE_POSTAL",readOnly:!I,onChange:D,value:null===C.CODE_POSTAL?"":C.CODE_POSTAL,className:p.CODE_POSTAL?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input"}),(0,E.B)(p.CODE_POSTAL)]})]}),(0,r.jsxs)("div",{className:"space-y-2 relative",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Localit\xe9"}),(0,r.jsx)("input",{type:"text",name:"LOCALITE",readOnly:!I,onChange:D,value:C.LOCALITE,className:p.LOCALITE?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input"}),(0,E.B)(p.LOCALITE)]})]})]}),(0,r.jsxs)("div",{children:[!n&&(0,r.jsx)("button",{type:"button",onClick:V,className:"mt-4 ti-btn ti-btn-primary",children:"Cr\xe9er"}),n&&!I&&(0,r.jsx)("button",{type:"button",className:"mt-4 ti-btn ti-btn-warning",onClick:()=>{f(!0),w({...S}),z({...C})},children:"Editer"}),n&&!I&&(0,r.jsx)("button",{type:"button",className:"mt-4 ti-btn ti-btn-danger","data-hs-overlay":"#deleteModal",children:"Supprimer"}),I&&n&&(0,r.jsx)("button",{type:"button",className:"mt-4 ti-btn ti-btn-success",onClick:F,children:"Valider"}),I&&n&&(0,r.jsx)("button",{type:"submit",className:"hs-dropdown-toggle ti-btn ti-border font-medium bg-white text-gray-700 shadow-sm align-middle hover:bg-gray-50 focus:ring-offset-white focus:ring-primary dark:bg-bgdark dark:hover:bg-black/20 dark:border-white/10 dark:text-white/70 dark:hover:text-white dark:focus:ring-offset-white/10",onClick:()=>{f(!1),L({...T}),_({...R})},children:"Annuler"})]})]}),(0,r.jsx)("div",{id:"deleteModal",className:"hs-overlay hidden ti-modal",children:(0,r.jsx)("div",{className:"hs-overlay-open:mt-7 ti-modal-box mt-0 ease-out",children:(0,r.jsxs)("div",{className:"ti-modal-content",children:[(0,r.jsxs)("div",{className:"ti-modal-header",children:[(0,r.jsx)("h3",{className:"ti-modal-title",children:"Suppression de responsable"}),(0,r.jsxs)("button",{type:"button",className:"hs-dropdown-toggle ti-modal-close-btn","data-hs-overlay":"#deleteModal",children:[(0,r.jsx)("span",{className:"sr-only",children:"Fermer"}),(0,r.jsx)("svg",{className:"w-3.5 h-3.5",width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M0.258206 1.00652C0.351976 0.912791 0.479126 0.860131 0.611706 0.860131C0.744296 0.860131 0.871447 0.912791 0.965207 1.00652L3.61171 3.65302L6.25822 1.00652C6.30432 0.958771 6.35952 0.920671 6.42052 0.894471C6.48152 0.868271 6.54712 0.854471 6.61352 0.853901C6.67992 0.853321 6.74572 0.865971 6.80722 0.891111C6.86862 0.916251 6.92442 0.953381 6.97142 1.00032C7.01832 1.04727 7.05552 1.1031 7.08062 1.16454C7.10572 1.22599 7.11842 1.29183 7.11782 1.35822C7.11722 1.42461 7.10342 1.49022 7.07722 1.55122C7.05102 1.61222 7.01292 1.6674 6.96522 1.71352L4.31871 4.36002L6.96522 7.00648C7.05632 7.10078 7.10672 7.22708 7.10552 7.35818C7.10442 7.48928 7.05182 7.61468 6.95912 7.70738C6.86642 7.80018 6.74102 7.85268 6.60992 7.85388C6.47882 7.85498 6.35252 7.80458 6.25822 7.71348L3.61171 5.06702L0.965207 7.71348C0.870907 7.80458 0.744606 7.85498 0.613506 7.85388C0.482406 7.85268 0.357007 7.80018 0.264297 7.70738C0.171597 7.61468 0.119017 7.48928 0.117877 7.35818C0.116737 7.22708 0.167126 7.10078 0.258206 7.00648L2.90471 4.36002L0.258206 1.71352C0.164476 1.61976 0.111816 1.4926 0.111816 1.36002C0.111816 1.22744 0.164476 1.10028 0.258206 1.00652Z",fill:"currentColor"})})]})]}),(0,r.jsx)("div",{className:"ti-modal-body",children:(0,r.jsx)("p",{className:"mt-1 text-gray-800 dark:text-white/70",children:"\xcates-vous s\xfbr de vouloir supprimer ce responsable ?"})}),(0,r.jsxs)("div",{className:"ti-modal-footer",children:[(0,r.jsx)("button",{type:"button",className:"hs-dropdown-toggle ti-btn ti-btn-danger bg-danger font-medium shadow-sm align-middle hover:bg-danger/80 focus:ring-offset-white focus:ring-danger dark:bg-danger dark:hover:bg-danger/80 dark:focus:ring-offset-white/10","data-hs-overlay":"#deleteModal",onClick:Y,children:"Supprimer"}),(0,r.jsx)("button",{type:"button",className:"hs-dropdown-toggle ti-btn ti-border font-medium bg-white text-gray-700 shadow-sm align-middle hover:bg-gray-50 focus:ring-offset-white focus:ring-primary dark:bg-bgdark dark:hover:bg-black/20 dark:border-white/10 dark:text-white/70 dark:hover:text-white dark:focus:ring-offset-white/10","data-hs-overlay":"#deleteModal",children:"Annuler"})]})]})})})]})]})})})})},N=()=>{let[e,t]=(0,i.useState)("Responsables"),[a,l]=(0,i.useState)(""),[d,m]=(0,i.useState)(!1),[u,E]=(0,i.useState)(void 0),[b,h]=(0,i.useState)(void 0),[g,N]=(0,i.useState)(["NOM","MAIL","TELEPHONE"]),[x,A]=(0,i.useState)(!1),[I,f]=(0,i.useState)(""),O=(e,a)=>{t(e),m(!0),l(a)},v=(e,t,a,r)=>{let s=e.target.value.trim().toLowerCase(),n=(0,o.eV)(s);if(r.current){let e=s?a.filter(e=>t.some(t=>{var a;let r=null===(a=e[t])||void 0===a?void 0:a.toString().toLowerCase();return(0,o.eV)(r).includes(n)})):a;r.current.replaceData(e),r.current.redraw()}};return(0,r.jsxs)("div",{children:[(0,r.jsx)(n.A,{title:"Responsables"}),(0,r.jsx)(s.A,{currentpage:e,mainpage:a,activepage:"Gestion des responsables"}),(0,r.jsx)("div",{className:"grid grid-cols-12 gap-6",children:(0,r.jsxs)("div",{className:"col-span-12",children:[!d&&(0,r.jsxs)("div",{className:"box basic-data-table",children:[(0,r.jsxs)("div",{className:"box-header flex items-center ",children:[(0,r.jsxs)("button",{type:"button",className:"ti-btn !rounded-full ti-btn-outline-success mr-auto",onClick:()=>O("Ajouter un responsable","Ajouter un responsable"),children:[(0,r.jsx)("i",{className:"ti ti-plus font-bold"}),"Ajouter un responsable"]}),(0,r.jsx)("div",{className:"max-w-sm space-y-3",children:(0,r.jsxs)("div",{className:"flex rounded-sm",children:[(0,r.jsx)("input",{onChange:e=>v(e,g,u,b),placeholder:"Rerchercher...",type:"text",id:"hs-trailing-button-add-on-with-icon",name:"hs-trailing-button-add-on-with-icon",className:"ti-form-input rounded-none ltr:rounded-l-sm rtl:rounded-r-sm focus:z-10"}),(0,r.jsx)("button",{"aria-label":"button",type:"button",className:"inline-flex flex-shrink-0 justify-center items-center h-[2.875rem] w-[2.875rem] ltr:rounded-r-sm rtl:rounded-l-sm border border-transparent font-semibold bg-primary text-white hover:bg-primary focus:z-10 focus:outline-none focus:ring-0 focus:ring-primary transition-all text-sm",children:(0,r.jsx)("svg",{className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:(0,r.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})})})]})})]}),(0,r.jsx)(c,{namePage:t,isActif:m,mainPage:l,infoChecking:A,idUser:f,dataTable:E,refTable:h})]}),d&&(0,r.jsx)(p,{namePage:t,isActif:m,mainPage:l,isChecking:x,setInfoChecking:A,idUser:I,setIdUser:f})]})})]})};N.layout="Contentlayout";let x=N},74230:(e,t,a)=>{"use strict";a.d(t,{Qv:()=>i,_N:()=>l,eI:()=>n,mH:()=>s});var r=a(74848);a(96540);let s=()=>(0,r.jsx)("div",{className:"h-4 w-40 bg-gray-200 rounded-sm dark:bg-black/20"}),n=()=>(0,r.jsxs)("div",{className:"border rounded-sm shadow-sm p-6 dark:bg-bgdark dark:border-white/10",children:[(0,r.jsx)("h3",{className:"h-4 bg-gray-200 rounded-sm dark:bg-black/20 w-2/5]"}),(0,r.jsx)("ul",{className:"mt-5 space-y-3",children:Array.from({length:5}).map((e,t)=>(0,r.jsx)("li",{className:"w-full h-4 bg-gray-200 rounded-sm dark:bg-black/20"},t))})]}),i=e=>{let{numberOfColumns:t}=e;return(0,r.jsxs)("table",{className:"table-auto w-full rounded-sm shadow-sm dark:bg-bgdark dark:border-white/10",children:[(0,r.jsx)("thead",{className:"border-b",children:(0,r.jsx)("tr",{children:Array.from({length:t}).map((e,t)=>(0,r.jsx)("th",{className:"w-1/4 py-3 pl-6",children:(0,r.jsx)("div",{className:"h-4 w-10 bg-gray-200 rounded-sm dark:bg-black/20"})},t))})}),(0,r.jsx)("tbody",{children:Array.from({length:5}).map((e,a)=>(0,r.jsx)("tr",{children:Array.from({length:t}).map((e,t)=>(0,r.jsx)("td",{className:"w-1/4 py-3 pl-6",children:(0,r.jsx)("div",{className:"h-4 w-40 bg-gray-200 rounded-sm dark:bg-black/20"})},t))},a))})]})},l=()=>(0,r.jsx)("ul",{className:"w-full flex flex-col",children:Array.from({length:5}).map((e,t)=>(0,r.jsx)("li",{className:"ti-list-group gap-x-3.5 bg-white text-gray-800 dark:bg-bgdark dark:border-white/10 dark:text-white",children:(0,r.jsx)("div",{className:"h-4 w-40 bg-gray-200 rounded-sm dark:bg-black/20"})},t))})},93107:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var r=a(74848),s=a(91106),n=a.n(s);a(96540);let i=e=>(0,r.jsxs)("div",{className:"block justify-between page-header md:flex",children:[(0,r.jsx)("div",{children:(0,r.jsx)("h3",{className:"text-gray-700 hover:text-gray-900 dark:text-white dark:hover:text-white text-2xl font-medium",children:e.currentpage})}),(0,r.jsxs)("ol",{className:"flex items-center whitespace-nowrap min-w-0",children:[(0,r.jsx)("li",{className:"text-sm",children:(0,r.jsxs)(n(),{className:"flex items-center font-semibold text-primary hover:text-primary dark:text-primary truncate",href:"#!",children:[e.activepage,(0,r.jsx)("i",{className:"ti ti-chevrons-right flex-shrink-0 mx-3 overflow-visible text-gray-300 dark:text-gray-300 rtl:rotate-180"})]})}),(0,r.jsx)("li",{className:"text-sm text-gray-500 hover:text-primary dark:text-white/70 ","aria-current":"page",children:e.mainpage})]})]})},40350:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(74848);a(96540);var s=a(13368),n=a.n(s);let i={src:"/orgaFlowDev/V8.1/_next/static/media/favicon.3659de1b.ico"},l=e=>{let{title:t}=e;return(0,r.jsxs)(n(),{children:[(0,r.jsx)("title",{children:"".concat(t)}),(0,r.jsx)("link",{href:i.src,rel:"icon"}),(0,r.jsx)("meta",{name:"description",content:"Synto - Nextjs Admin & Dashboard Template"}),(0,r.jsx)("meta",{name:"author",content:"Spruko Technologies Private Limited"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,r.jsx)("meta",{name:"keywords",content:"tailwind nextjs, dashboard tailwind, tailwind admin, nextjs tailwind, tailwind in nextjs, admin dashboard tailwind, tailwind dashboards, tailwind template admin, tailwind and nextjs, admin panel, template dashboard, admin dashboard template, admin panel template"})]})}},18940:(e,t,a)=>{"use strict";a.d(t,{EY:()=>o,JO:()=>d,LB:()=>n,Sg:()=>l,UG:()=>i});var r=a(18322),s=a(14476);let n=s.z.object({MAIL:s.z.string().min(1),TEL:s.z.string().optional(),PASSWORD:s.z.string()});s.z.object({MAIL:s.z.string().email().optional(),TELEPHONE:s.z.number().refine(e=>{let t=e.toString();return!(t.length<3)&&(0,r.Q7)("+".concat(t))},{message:"Le num\xe9ro doit contenir au moins 3 chiffres et \xeatre valide avec l'indicatif du pays.,"}),PASSWORD:s.z.string().min(1),TYPE_USER:s.z.number().min(1),FLAG_MAIL_VERIFIED:s.z.number().optional(),FLAG_TELEPHONE_VERIFIED:s.z.number().optional(),DATETIME_CREATION:s.z.string().datetime().min(1),CODE_PIN:s.z.number().optional(),REGISTRE_NATIONAL:s.z.string(),NOM:s.z.string(),PRENOM:s.z.string(),DATE_NAISSANCE:s.z.string().datetime()});let i=s.z.object({ID:s.z.number().optional(),NOM:s.z.string().min(1),PRENOM:s.z.string().optional(),REGISTRE_NATIONAL:s.z.string().optional(),TYPE_CIVILITE:s.z.number().refine(e=>e>=0&&e<=2,{message:"Vous devez choisir un genre"}),NUMERO_RESPONSABLE:s.z.number().min(1),UID:s.z.string().min(1),TELEPHONE:s.z.number().refine(e=>{let t=e.toString();return(0,r.Q7)("+".concat(t))},{message:"Le num\xe9ro doit \xeatre valide avec le format du pays."}),MAIL:s.z.string().email().optional()});s.z.object({username:s.z.string().min(1),password:s.z.string().min(1)});let l=s.z.object({NOM:s.z.string().min(1),ELEVE_ID:s.z.number().optional(),PRENOM:s.z.string().optional(),SEXE_TYPE:s.z.string().min(1),LIEU_NAISSANCE:s.z.string().min(1),CODE_PAYS_NAIS:s.z.string().optional(),NAISSANCE_DATE:s.z.string().datetime({local:!0}).min(1),CODE_NATIONALITE:s.z.string().optional(),NISS:s.z.string().optional(),TELEPHONE:s.z.string().optional().refine(e=>!e||e.length<3||(0,r.Q7)("+".concat(e)),{message:"le num\xe9ro doit contenir au moins 3 chiffres et быть valide avec l'indicatif du pays."})}),o=s.z.object({ADRESSE_ID:s.z.number().optional(),ELEVE_ID:s.z.number().optional(),RESPONSABLE_ID:s.z.number().optional(),ADRESSE:s.z.string().min(1),NUMERO:s.z.string().min(1),CODE_POSTAL:s.z.number().min(4).nullable(),LOCALITE:s.z.string().min(1),NUM_BOITE:s.z.string().optional(),CODE_POSTAL2:s.z.string().optional()}),d=s.z.object({LIBELLE:s.z.string().min(1),MONTANT:s.z.number().min(1),ANNEE_SCOLAIRE:s.z.number().min(1),TYPE_FRAIS:s.z.number().min(0),DATE_FRAIS:s.z.string().datetime({local:!0}).optional(),DATE_ECHEANCE:s.z.string().datetime({local:!0}).optional(),DATE_FRAIS_FIN:s.z.string().datetime({local:!0}).optional(),FRAIS_ID:s.z.number().optional()});s.z.object({FRAIS_INSCRIPTION_ID:s.z.number().optional(),ELEVE_ID:s.z.number(),FRAIS_ID:s.z.number(),DATE_INSCRIPTION:s.z.string().datetime({local:!0}),DATE_DEPART:s.z.string().datetime({local:!0}).optional()}),s.z.object({FRAIS_ITEM_ID:s.z.number().optional(),FRAIS_PARENT_ID:s.z.number().optional(),LIBELLE:s.z.string().optional(),PRIX:s.z.number().optional()}),s.z.object({FRAIS_ITEM_ELEVE_ID:s.z.number().optional(),FRAIS_ITEM_ID:s.z.number().optional(),ELEVE_ID:s.z.number().optional(),QTE:s.z.number().optional(),COUT_UNIT:s.z.number(),COUT_TOTAL:s.z.number().optional(),DATE_FRAIS:s.z.string().datetime({local:!0}),DATE_MODIF:s.z.string().optional(),USER_ENCODE:s.z.string().optional(),USER_ID:s.z.number().optional(),PROF_ID:s.z.string().optional()});let c=s.z.object({ELEVE_ID:s.z.number(),FRAIS_ID:s.z.number(),LIBELLE:s.z.string(),COUT_TOTAL:s.z.number(),MONTANT_PAYE:s.z.number(),RESTE_A_PAYER:s.z.number()}),m=s.z.object({ELEVE_ID:s.z.number(),COUT_TOTAL:s.z.number(),MONTANT_PAYE:s.z.number(),BALANCE:s.z.number()});s.z.object({COUT_TOTAL:s.z.number(),MONTANT_PAYE:s.z.number(),BALANCE:s.z.number()}),s.z.object({ELEVE_ID:s.z.number(),FRAIS_ID:s.z.number(),LIBELLE:s.z.string(),DATE_FRAIS:s.z.string().datetime({local:!0})}),s.z.object({ListFrais:s.z.array(c),ListBalance:s.z.array(m)})},86857:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(94335),s=a(18987),n=a(18322);new AbortController;let i=r.A.create({baseURL:"https://rest.pre.econcept.be"});i.interceptors.request.use(async e=>{await (0,n.RI)();let t=s.A.get("secret");return t&&(e.headers.Secret=t),e},e=>Promise.reject(e)),i.interceptors.response.use(e=>((0,n.cH)(),e),e=>Promise.reject(e));let l=i},95977:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(94335),s=a(18987),n=a(18322);let i=new AbortController,l=r.A.create({baseURL:s.A.get("ip")});l.interceptors.request.use(async e=>{await (0,n.RI)();let t=s.A.get("session-token"),a=s.A.get("tenant-id"),r=s.A.get("tenant-secret");return t&&(e.headers["X-Embarcadero-Session-Token"]=t),a&&(e.headers["X-Embarcadero-Tenant-Id"]=a),r&&(e.headers["X-Embarcadero-Tenant-Secret"]=r),e.signal=i.signal,e},e=>Promise.reject(e)),l.interceptors.response.use(e=>((0,n.cH)(),e),e=>Promise.reject(e));let o=l},66503:(e,t,a)=>{"use strict";a.d(t,{X:()=>i});var r=a(11011),s=a(50810),n=a(84477);s.registerLocale(n);let i=r.i4.map(e=>{let t=(0,r.Ot)(e);return t.name=s.getName(t.iso2,"fr")||t.name,(0,r.vg)(t)})},6861:(e,t,a)=>{"use strict";a.d(t,{B:()=>o,s:()=>l});var r=a(74848),s=a(96540),n=a(86857),i=a(95977);let l=(e,t,a)=>{let[r,l]=(0,s.useState)(null),[o,d]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{(async()=>{try{let r=(t?await (0,n.A)(e):await (0,i.A)(e,{params:a})).data;o&&(l({data:r,error:null}),d(!1))}catch(e){o&&(l({data:null,error:e}),d(!1))}})()},[e,t,a]),{result:r,loading:o}},o=e=>{if(e)return(0,r.jsx)("svg",{className:"h-5 w-5 text-danger absolute top-[45%] right-8",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:(0,r.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"})})}},18322:(e,t,a)=>{"use strict";a.d(t,{FI:()=>A,Fd:()=>p,Q7:()=>E,RI:()=>g,We:()=>c,Wv:()=>x,Ys:()=>m,cH:()=>h,eV:()=>I,fk:()=>u,sS:()=>N,wj:()=>b});var r=a(87e3),s=a(18987),n=a(86715),i=a.n(n),l=a(95977),o=a(86857);let d=r.PhoneNumberUtil.getInstance(),c=e=>"".concat(e[0]).concat(e.slice(1).toLowerCase()),m=e=>{let t=new Date(e),a=t.getDate().toString().padStart(2,"0"),r=(t.getMonth()+1).toString().padStart(2,"0");return"".concat(a,"/").concat(r,"/").concat(t.getFullYear())},u=e=>{try{let t=d.parse("+".concat(e)),a=d.format(t,r.PhoneNumberFormat.INTERNATIONAL);return"".concat(a)}catch(e){return console.error(e),""}},E=e=>{try{return d.isValidNumber(d.parseAndKeepRawInput(e))}catch(e){return!1}},b=e=>e?new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())).toISOString():new Date(Date.UTC(new Date().getFullYear(),new Date().getMonth(),new Date().getDate())).toISOString(),h=()=>{let e=s.A.get("session-token");e&&s.A.set("session-token",e,{path:"/",secure:!0,sameSite:"strict",expires:new Date(new Date().getTime()+24e5)})},g=async()=>{let e=s.A.get("session-token");return e||await i().replace("/"),void 0!==e},p=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"json";try{let n=new URLSearchParams;a&&(Array.isArray(a)&&Array.isArray(r)?a.forEach((e,t)=>{n.append(r[t],JSON.stringify(e))}):Array.isArray(a)&&!Array.isArray(r)?n.append(r,JSON.stringify(a)):Object.entries(a).forEach(e=>{let[t,a]=e;Array.isArray(a)?n.append(t,JSON.stringify(a)):n.append(t,a)}));let i={responseType:s},d="".concat(e,"?").concat(n.toString());return{result:{data:(t?await (0,o.A)(d,i):await (0,l.A)(d,i)).data,error:null},loading:!1}}catch(e){return{result:{data:null,error:e},loading:!1}}},N=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0;try{return{data:(t?await o.A.put(e,a):await l.A.put(e,a)).data,error:null}}catch(e){return{data:null,error:e}}},x=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{return{data:(t?await o.A.delete(e):await l.A.delete(e)).data,error:null}}catch(e){return{data:null,error:e}}},A=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0;try{return{data:(t?await o.A.patch(e,a):await l.A.patch(e,a)).data,error:null}}catch(e){return{data:null,error:e}}},I=e=>e?e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase():""},77571:()=>{},74148:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[374,518,846,150,476,230,328,636,593,792],()=>t(13452)),_N_E=e.O()}]);