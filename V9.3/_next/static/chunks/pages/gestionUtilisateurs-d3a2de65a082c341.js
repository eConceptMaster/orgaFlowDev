(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[441],{32336:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/gestionUtilisateurs",function(){return a(9966)}])},20757:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var r={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}};function i(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.width?String(t.width):e.defaultWidth;return e.formats[a]||e.formats[e.defaultWidth]}}var n={date:i({formats:{full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:i({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:i({formats:{full:"{{date}} '\xe0' {{time}}",long:"{{date}} '\xe0' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},s={lastWeek:"eeee 'dernier \xe0' p",yesterday:"'hier \xe0' p",today:"'aujourd’hui \xe0' p",tomorrow:"'demain \xe0' p'",nextWeek:"eeee 'prochain \xe0' p",other:"P"};function o(e){return function(t,a){var r;if("formatting"===(null!=a&&a.context?String(a.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,n=null!=a&&a.width?String(a.width):i;r=e.formattingValues[n]||e.formattingValues[i]}else{var s=e.defaultWidth,o=null!=a&&a.width?String(a.width):e.defaultWidth;r=e.values[o]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function l(e){return function(t){var a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.width,n=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],s=t.match(n);if(!s)return null;var o=s[0],l=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?function(e,t){for(var a=0;a<e.length;a++)if(t(e[a]))return a}(l,function(e){return e.test(o)}):function(e,t){for(var a in e)if(e.hasOwnProperty(a)&&t(e[a]))return a}(l,function(e){return e.test(o)});return a=e.valueCallback?e.valueCallback(d):d,{value:a=r.valueCallback?r.valueCallback(a):a,rest:t.slice(o.length)}}}let d={code:"fr",formatDistance:function(e,t,a){var i,n=r[e];return(i="string"==typeof n?n:1===t?n.one:n.other.replace("{{count}}",String(t)),null!=a&&a.addSuffix)?a.comparison&&a.comparison>0?"dans "+i:"il y a "+i:i},formatLong:n,formatRelative:function(e,t,a,r){return s[e]},localize:{ordinalNumber:function(e,t){var a,r=Number(e),i=null==t?void 0:t.unit;return 0===r?"0":(a=1===r?i&&["year","week","hour","minute","second"].includes(i)?"\xe8re":"er":"\xe8me",r+a)},era:o({values:{narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant J\xe9sus-Christ","apr\xe8s J\xe9sus-Christ"]},defaultWidth:"wide"}),quarter:o({values:{narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2\xe8me trim.","3\xe8me trim.","4\xe8me trim."],wide:["1er trimestre","2\xe8me trimestre","3\xe8me trimestre","4\xe8me trimestre"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:o({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."],wide:["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"]},defaultWidth:"wide"}),day:o({values:{narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},defaultWidth:"wide"}),dayPeriod:o({values:{narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"apr\xe8s-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’apr\xe8s-midi",evening:"du soir",night:"du matin"}},defaultWidth:"wide"})},match:{ordinalNumber:function(e){return function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],n=t.match(e.parsePattern);if(!n)return null;var s=e.valueCallback?e.valueCallback(n[0]):n[0];return{value:s=a.valueCallback?a.valueCallback(s):s,rest:t.slice(i.length)}}}({matchPattern:/^(\d+)(ième|ère|ème|er|e)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e)}}),era:l({matchPatterns:{narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^av/i,/^ap/i]},defaultParseWidth:"any"}),quarter:l({matchPatterns:{narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:l({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:l({matchPatterns:{narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:l({matchPatterns:{narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:4}}},9966:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>A});var r=a(74848),i=a(93107),n=a(40350),s=a(96540),o=a(96967);a(13084);var l=a(18322),d=a(18382);class u extends s.Component{componentDidMount(){this.fetchData()}render(){let{data:e}=this.state;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"box-body space-y-3",children:(0,r.jsx)("div",{className:"overflow-hidden table-bordered",children:(0,r.jsxs)("div",{children:[this.isLoading&&(0,r.jsx)(d.Qv,{numberOfColumns:this.columns.length}),!this.isLoading&&(0,r.jsx)(o.ReactTabulator,{columns:this.columns,options:{pagination:"local",paginationSize:10,paginationSizeSelector:[10,20,50,100],paginationInitialPage:1,paginationButtonCount:5,paginationDataReceived:{last_page:1},paginationDataSent:{page:1,size:10}},events:{rowClick:this.rowClick},onRef:e=>{this.props.refTable(e)},data:e,"data-custom-attr":"test-custom-attribute",className:"ti-custom-table ti-striped-table ti-custom-table-hover"})]})})})})}constructor(e){super(e),this.isLoading=!0,this.handleNamePage=(e,t,a)=>{let{namePage:r,isActif:i,mainPage:n,infoChecking:s,idUser:o}=this.props;s(!0),r(e),i(!0),n(t),o(a)},this.columns=[{title:"Mail",field:"MAIL"},{title:"Telephone",field:"TELEPHONE"},{title:"Type",field:"TYPE_UTILISATEUR"}],this.fetchData=async()=>{var e,t,a,r;let{result:i,loading:n}=await (0,l.Fd)("/compteutilisateur",!0),s=null!==(e=null==i?void 0:i.data)&&void 0!==e?e:null,o=null!==(t=null==i?void 0:i.error)&&void 0!==t?t:null;o&&console.error(o);let{result:d,loading:u}=await (0,l.Fd)("/listtype",!0),c=null!==(a=null==d?void 0:d.data)&&void 0!==a?a:null,m=null!==(r=null==d?void 0:d.error)&&void 0!==r?r:null;m&&console.error(m);let h=(null!=s?s:[]).map(e=>{var t;return{ID:e.ID,MAIL:e.MAIL,TELEPHONE:(0,l.fk)(e.TELEPHONE),TYPE_UTILISATEUR:(0,l.We)((null===(t=(c||[]).find(t=>t.ID_REFERENCE===String(e.TYPE_USER)))||void 0===t?void 0:t.LIBELLE_REFERENCE)||"")}});this.setState({data:h}),this.props.dataTable(h),this.isLoading=n&&u,setTimeout(()=>{let e=document.querySelector(".tabulator-page[title='First Page']"),t=document.querySelector(".tabulator-page[title='Prev Page']"),a=document.querySelector(".tabulator-page[title='Next Page']"),r=document.querySelector(".tabulator-page[title='Last Page']");e&&(e.textContent="Premi\xe8re"),t&&(t.textContent="Pr\xe9c\xe9dente"),a&&(a.textContent="Suivante"),r&&(r.textContent="Derni\xe8re")},10)},this.rowClick=(e,t)=>{this.handleNamePage("Info utilisateur","Info utilisateur",String(t.getData().ID))},this.clearData=()=>{this.setState({data:[]})},this.state={data:[]}}}var c=a(59386),m=a.n(c);a(77571);var h=a(18940),g=a(20757),E=a(86857),b=a(11011),p=a(66503),v=a(6861);let f=e=>{let{namePage:t,isActif:a,mainPage:i,isChecking:n,setInfoChecking:o,idUser:u,setIdUser:c}=e,[f,N]=(0,s.useState)(""),[A,I]=(0,s.useState)(!0),[w,x]=(0,s.useState)(!0),[S,j]=(0,s.useState)(),[y,T]=(0,s.useState)([]),[C,L]=(0,s.useState)({}),[_,D]=(0,s.useState)({CODE_PIN:void 0,DATETIME_CREATION:"",DATE_NAISSANCE:"",FLAG_MAIL_VERIFIED:void 0,FLAG_TELEPHONE_VERIFIED:void 0,MAIL:void 0,PASSWORD:"",REGISTRE_NATIONAL:"",TELEPHONE:32,TYPE_USER:0}),P=(e,r)=>{a(!1),t(e),i(r),o(!1),c("")},R=()=>{let e=h.iR.safeParse(_);if(!e.success)return L({...Object.keys(e.error.flatten().fieldErrors).reduce((e,t)=>(e[t]=!0,e),{})}),!1},z=async()=>{try{if(!R())return;let e={..._,ID:u},{error:t}=await (0,l.FI)("/compteutilisateur/",!0,e);t||I(!1)}catch(e){console.error(e)}},O=async()=>{try{let{error:e}=await (0,l.Wv)("/compteutilisateur/".concat(u),!0);e||setTimeout(()=>P("Utilisateurs",""),50)}catch(e){console.error(e)}},k=(e,t)=>{let a=(0,l.We)(t.find(t=>t.ID_REFERENCE===String(e.TYPE_USER)).LIBELLE_REFERENCE);D({MAIL:e.MAIL,TELEPHONE:e.TELEPHONE,PASSWORD:e.PASSWORD,REGISTRE_NATIONAL:e.REGISTRE_NATIONAL,DATE_NAISSANCE:"",FLAG_MAIL_VERIFIED:e.FLAG_MAIL_VERIFIED,FLAG_TELEPHONE_VERIFIED:e.FLAG_TELEPHONE_VERIFIED,TYPE_USER:Number(e.TYPE_USER),CODE_PIN:e.CODE_PIN,DATETIME_CREATION:e.DATETIME_CREATION}),N(a),void 0!==e.DATE_NAISSANCE&&j(new Date(e.DATE_NAISSANCE))},M=(e,t)=>{if(e){let{name:t,value:a}=e.target;D(e=>({...e,[t]:a}))}t&&(D(e=>({...e,DATE_NAISSANCE:t.toISOString()})),j(t))},F=async()=>{if(R()){D(e=>({...e,DATETIME_CREATION:new Date().toISOString()}));try{let e=await E.A.put("/compteutilisateur/interne",_);200===e.status&&(D({MAIL:"",TELEPHONE:32,PASSWORD:"",TYPE_USER:0,FLAG_MAIL_VERIFIED:0,FLAG_TELEPHONE_VERIFIED:0,DATETIME_CREATION:"",CODE_PIN:0,REGISTRE_NATIONAL:"",DATE_NAISSANCE:""}),N("Demo"),j(void 0))}catch(e){console.log(e)}}},W=e=>{e.length>5&&(D(t=>({...t,TELEPHONE:Number(e)})),L(e=>({...e,TELEPHONE:!1}))),e.length<5&&(D(e=>({...e,TELEPHONE:0})),L(e=>({...e,TELEPHONE:!1})))};return(0,s.useEffect)(()=>{(async()=>{try{let e=await E.A.get("/listtype/reference/type_user");if(u){let t=await E.A.get("/compteutilisateur/".concat(u));k(t.data,e.data),I(!1)}x(!1),T(e.data)}catch(e){console.error(e)}})()},[]),(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"grid grid-cols-12 gap-6",children:(0,r.jsx)("div",{className:"col-span-12",children:(0,r.jsxs)("div",{className:"box",children:[(0,r.jsx)("div",{className:"box-header",children:(0,r.jsxs)("button",{type:"button",className:"ti-btn !rounded-full ti-btn-outline-info",onClick:()=>P("Utilisateurs",""),children:[(0,r.jsx)("i",{className:"ti ti-arrow-back font-bold"}),"Retour"]})}),(0,r.jsxs)("div",{className:"box-body",children:[w&&(0,r.jsx)(d.eI,{}),!w&&(0,r.jsxs)("form",{className:"ti-validation",children:[(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"T\xe9l\xe9phone"}),(0,r.jsx)(b.LR,{defaultCountry:"be",value:String(32===_.TELEPHONE?"32":_.TELEPHONE),onChange:e=>W(e),countries:p.X,className:"w-full",disabled:!A,inputClassName:C.TELEPHONE?"w-full dark:bg-bgdark !ml-[1px] !border-l !border-red-600":"w-full dark:bg-bgdark !border-[#e2e8f0]"}),(0,v.B)(C.TELPHONE)]}),(0,r.jsxs)("div",{className:"space-y-2 relative",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Mail"}),(0,r.jsx)("input",{type:"email",className:C.MAIL?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input",name:"MAIL",value:_.MAIL,onChange:M}),(0,v.B)(C.MAIL)]}),(0,r.jsxs)("div",{className:"space-y-2 relative",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Mot de passe"}),(0,r.jsx)("input",{type:"password",className:C.PASSWORD?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input",name:"PASSWORD",value:_.PASSWORD,onChange:M,readOnly:!A}),(0,v.B)(C.PASSWORD)]}),(0,r.jsxs)("div",{className:"space-y-2 date-of-birth relative",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Date de naissance"}),(0,r.jsx)(m(),{className:C.DATE_NAISSANCE?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input",name:"DATE_NAISSANCE",showIcon:!0,locale:g.A,dateFormat:"dd/MM/yyyy",selected:S,disabled:!A,onChange:e=>M(void 0,e)}),(0,v.B)(C.DATE_NAISSANCE)]}),(0,r.jsxs)("div",{className:"space-y-2 relative",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Registre national"}),(0,r.jsx)("input",{type:"text",name:"REGISTRE_NATIONAL",onChange:M,value:_.REGISTRE_NATIONAL,className:C.REGISTRE_NATIONAL?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input",required:!0,readOnly:!A}),(0,v.B)(C.REGISTRE_NATIONAL)]}),(0,r.jsxs)("div",{className:"space-y-2 relative",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Type d'utilisateur"}),(0,r.jsxs)("select",{name:"TYPE_USER",className:"my-auto ti-form-input",value:f,onChange:e=>{N(e.target.value),D(t=>({...t,TYPE_USER:Number(e.target.selectedOptions[0].dataset.type)}))},required:!0,disabled:!A,children:[y.map(e=>(0,r.jsx)("option",{"data-type":e.ID_REFERENCE,children:(0,l.We)(e.LIBELLE_REFERENCE)},e.ID_REFERENCE)),";"]})]})]}),(0,r.jsxs)("div",{children:[!n&&(0,r.jsx)("button",{type:"button",className:"mt-4 ti-btn ti-btn-primary",onClick:F,children:"Cr\xe9er"}),n&&!A&&(0,r.jsx)("button",{type:"button",className:"mt-4 ti-btn ti-btn-warning",onClick:()=>{I(!0)},children:"Editer"}),n&&!A&&(0,r.jsx)("button",{type:"button",className:"mt-4 ti-btn ti-btn-danger","data-hs-overlay":"#deleteModal",children:"Supprimer"}),A&&n&&(0,r.jsx)("button",{type:"button",className:"mt-4 ti-btn ti-btn-success",onClick:z,children:"Valider"}),A&&n&&(0,r.jsx)("button",{type:"submit",className:"hs-dropdown-toggle ti-btn ti-border font-medium bg-white text-gray-700 shadow-sm align-middle hover:bg-gray-50 focus:ring-offset-white focus:ring-primary dark:bg-bgdark dark:hover:bg-black/20 dark:border-white/10 dark:text-white/70 dark:hover:text-white dark:focus:ring-offset-white/10",onClick:()=>{I(!1)},children:"Annuler"})]})]}),(0,r.jsx)("div",{id:"deleteModal",className:"hs-overlay hidden ti-modal",children:(0,r.jsx)("div",{className:"hs-overlay-open:mt-7 ti-modal-box mt-0 ease-out",children:(0,r.jsxs)("div",{className:"ti-modal-content",children:[(0,r.jsxs)("div",{className:"ti-modal-header",children:[(0,r.jsx)("h3",{className:"ti-modal-title",children:"Suppression de compte"}),(0,r.jsxs)("button",{type:"button",className:"hs-dropdown-toggle ti-modal-close-btn","data-hs-overlay":"#deleteModal",children:[(0,r.jsx)("span",{className:"sr-only",children:"Close"}),(0,r.jsx)("svg",{className:"w-3.5 h-3.5",width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M0.258206 1.00652C0.351976 0.912791 0.479126 0.860131 0.611706 0.860131C0.744296 0.860131 0.871447 0.912791 0.965207 1.00652L3.61171 3.65302L6.25822 1.00652C6.30432 0.958771 6.35952 0.920671 6.42052 0.894471C6.48152 0.868271 6.54712 0.854471 6.61352 0.853901C6.67992 0.853321 6.74572 0.865971 6.80722 0.891111C6.86862 0.916251 6.92442 0.953381 6.97142 1.00032C7.01832 1.04727 7.05552 1.1031 7.08062 1.16454C7.10572 1.22599 7.11842 1.29183 7.11782 1.35822C7.11722 1.42461 7.10342 1.49022 7.07722 1.55122C7.05102 1.61222 7.01292 1.6674 6.96522 1.71352L4.31871 4.36002L6.96522 7.00648C7.05632 7.10078 7.10672 7.22708 7.10552 7.35818C7.10442 7.48928 7.05182 7.61468 6.95912 7.70738C6.86642 7.80018 6.74102 7.85268 6.60992 7.85388C6.47882 7.85498 6.35252 7.80458 6.25822 7.71348L3.61171 5.06702L0.965207 7.71348C0.870907 7.80458 0.744606 7.85498 0.613506 7.85388C0.482406 7.85268 0.357007 7.80018 0.264297 7.70738C0.171597 7.61468 0.119017 7.48928 0.117877 7.35818C0.116737 7.22708 0.167126 7.10078 0.258206 7.00648L2.90471 4.36002L0.258206 1.71352C0.164476 1.61976 0.111816 1.4926 0.111816 1.36002C0.111816 1.22744 0.164476 1.10028 0.258206 1.00652Z",fill:"currentColor"})})]})]}),(0,r.jsx)("div",{className:"ti-modal-body",children:(0,r.jsx)("p",{className:"mt-1 text-gray-800 dark:text-white/70",children:"\xcates-vous s\xfbr de vouloir supprimer ce compte ?"})}),(0,r.jsxs)("div",{className:"ti-modal-footer",children:[(0,r.jsx)("button",{type:"button",className:"hs-dropdown-toggle ti-btn ti-btn-danger bg-danger font-medium shadow-sm align-middle hover:bg-danger/80 focus:ring-offset-white focus:ring-danger dark:bg-danger dark:hover:bg-danger/80 dark:focus:ring-offset-white/10","data-hs-overlay":"#deleteModal",onClick:O,children:"Supprimer"}),(0,r.jsx)("button",{type:"button",className:"hs-dropdown-toggle ti-btn ti-border font-medium bg-white text-gray-700 shadow-sm align-middle hover:bg-gray-50 focus:ring-offset-white focus:ring-primary dark:bg-bgdark dark:hover:bg-black/20 dark:border-white/10 dark:text-white/70 dark:hover:text-white dark:focus:ring-offset-white/10","data-hs-overlay":"#deleteModal",children:"Annuler"})]})]})})})]})]})})})})};f.layout="Contentlayout";let N=()=>{let[e,t]=(0,s.useState)("Utilisateurs"),[a,o]=(0,s.useState)(""),[d,c]=(0,s.useState)(!1),[m,h]=(0,s.useState)(void 0),[g,E]=(0,s.useState)(void 0),[b,p]=(0,s.useState)(["NOM","MAIL","TELEPHONE","TYPE_UTILISATEUR"]),[v,N]=(0,s.useState)(!1),[A,I]=(0,s.useState)(""),w=(e,a)=>{t(e),c(!0),o(a)},x=(e,t,a,r)=>{let i=e.target.value.trim().toLowerCase(),n=(0,l.eV)(i);if(r.current){let e=i?a.filter(e=>t.some(t=>{var a;let r=null===(a=e[t])||void 0===a?void 0:a.toString().toLowerCase();return(0,l.eV)(r).includes(n)})):a;r.current.replaceData(e),r.current.redraw()}};return(0,r.jsxs)("div",{children:[(0,r.jsx)(n.A,{title:"Utilisateurs"}),(0,r.jsx)(i.A,{currentpage:e,mainpage:a,activepage:"Gestion des utilisateurs"}),(0,r.jsx)("div",{className:"grid grid-cols-12 gap-6",children:(0,r.jsxs)("div",{className:"col-span-12",children:[!d&&(0,r.jsxs)("div",{className:"box basic-data-table",children:[(0,r.jsxs)("div",{className:"box-header flex items-center ",children:[(0,r.jsxs)("button",{type:"button",className:"ti-btn !rounded-full ti-btn-outline-success mr-auto",onClick:()=>w("Ajouter un utilisateur","Ajouter un utilisateur"),children:[(0,r.jsx)("i",{className:"ti ti-plus font-bold"}),"Ajouter un utilisateur"]}),(0,r.jsx)("div",{className:"max-w-sm space-y-3",children:(0,r.jsxs)("div",{className:"flex rounded-sm",children:[(0,r.jsx)("input",{onChange:e=>x(e,b,m,g),placeholder:"Rerchercher...",type:"text",id:"hs-trailing-button-add-on-with-icon",name:"hs-trailing-button-add-on-with-icon",className:"ti-form-input rounded-none ltr:rounded-l-sm rtl:rounded-r-sm focus:z-10"}),(0,r.jsx)("button",{"aria-label":"button",type:"button",className:"inline-flex flex-shrink-0 justify-center items-center h-[2.875rem] w-[2.875rem] ltr:rounded-r-sm rtl:rounded-l-sm border border-transparent font-semibold bg-primary text-white hover:bg-primary focus:z-10 focus:outline-none focus:ring-0 focus:ring-primary transition-all text-sm",children:(0,r.jsx)("svg",{className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:(0,r.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})})})]})})]}),(0,r.jsx)(u,{namePage:t,isActif:c,mainPage:o,infoChecking:N,idUser:I,dataTable:h,refTable:E})]}),d&&(0,r.jsx)(f,{namePage:t,isActif:c,mainPage:o,isChecking:v,setInfoChecking:N,idUser:A,setIdUser:I})]})})]})};N.layout="Contentlayout";let A=N},18382:(e,t,a)=>{"use strict";a.d(t,{Qv:()=>s,_N:()=>o,eI:()=>n,mH:()=>i});var r=a(74848);a(96540);let i=()=>(0,r.jsx)("div",{className:"h-4 w-40 bg-gray-200 rounded-sm dark:bg-black/20"}),n=()=>(0,r.jsxs)("div",{className:"border rounded-sm shadow-sm p-6 dark:bg-bgdark dark:border-white/10",children:[(0,r.jsx)("h3",{className:"h-4 bg-gray-200 rounded-sm dark:bg-black/20 w-2/5]"}),(0,r.jsx)("ul",{className:"mt-5 space-y-3",children:Array.from({length:5}).map((e,t)=>(0,r.jsx)("li",{className:"w-full h-4 bg-gray-200 rounded-sm dark:bg-black/20"},t))})]}),s=e=>{let{numberOfColumns:t}=e;return(0,r.jsxs)("table",{className:"table-auto w-full rounded-sm shadow-sm dark:bg-bgdark dark:border-white/10",children:[(0,r.jsx)("thead",{className:"border-b",children:(0,r.jsx)("tr",{children:Array.from({length:t}).map((e,t)=>(0,r.jsx)("th",{className:"w-1/4 py-3 pl-6",children:(0,r.jsx)("div",{className:"h-4 w-10 bg-gray-200 rounded-sm dark:bg-black/20"})},t))})}),(0,r.jsx)("tbody",{children:Array.from({length:5}).map((e,a)=>(0,r.jsx)("tr",{children:Array.from({length:t}).map((e,t)=>(0,r.jsx)("td",{className:"w-1/4 py-3 pl-6",children:(0,r.jsx)("div",{className:"h-4 w-40 bg-gray-200 rounded-sm dark:bg-black/20"})},t))},a))})]})},o=()=>(0,r.jsx)("ul",{className:"w-full flex flex-col",children:Array.from({length:5}).map((e,t)=>(0,r.jsx)("li",{className:"ti-list-group gap-x-3.5 bg-white text-gray-800 dark:bg-bgdark dark:border-white/10 dark:text-white",children:(0,r.jsx)("div",{className:"h-4 w-40 bg-gray-200 rounded-sm dark:bg-black/20"})},t))})},93107:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(74848),i=a(91106),n=a.n(i);a(96540);let s=e=>(0,r.jsxs)("div",{className:"block justify-between page-header md:flex",children:[(0,r.jsx)("div",{children:(0,r.jsx)("h3",{className:"text-gray-700 hover:text-gray-900 dark:text-white dark:hover:text-white text-2xl font-medium",children:e.currentpage})}),(0,r.jsxs)("ol",{className:"flex items-center whitespace-nowrap min-w-0",children:[(0,r.jsx)("li",{className:"text-sm",children:(0,r.jsxs)(n(),{className:"flex items-center font-semibold text-primary hover:text-primary dark:text-primary truncate",href:"#!",children:[e.activepage,(0,r.jsx)("i",{className:"ti ti-chevrons-right flex-shrink-0 mx-3 overflow-visible text-gray-300 dark:text-gray-300 rtl:rotate-180"})]})}),(0,r.jsx)("li",{className:"text-sm text-gray-500 hover:text-primary dark:text-white/70 ","aria-current":"page",children:e.mainpage})]})]})},40350:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(74848);a(96540);var i=a(13368),n=a.n(i);let s={src:"/orgaFlowDev/V9.3/_next/static/media/favicon.ab2d95a1.ico"},o=e=>{let{title:t}=e;return(0,r.jsxs)(n(),{children:[(0,r.jsx)("title",{children:"".concat(t)}),(0,r.jsx)("link",{href:s.src,rel:"icon"}),(0,r.jsx)("meta",{name:"description",content:"Synto - Nextjs Admin & Dashboard Template"}),(0,r.jsx)("meta",{name:"author",content:"Spruko Technologies Private Limited"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,r.jsx)("meta",{name:"keywords",content:"tailwind nextjs, dashboard tailwind, tailwind admin, nextjs tailwind, tailwind in nextjs, admin dashboard tailwind, tailwind dashboards, tailwind template admin, tailwind and nextjs, admin panel, template dashboard, admin dashboard template, admin panel template"})]})}},18940:(e,t,a)=>{"use strict";a.d(t,{EY:()=>d,JO:()=>u,LB:()=>n,Sg:()=>l,UG:()=>o,iR:()=>s});var r=a(18322),i=a(14476);let n=i.z.object({MAIL:i.z.string().min(1),TEL:i.z.string().optional(),PASSWORD:i.z.string()}),s=i.z.object({MAIL:i.z.string().email().optional(),TELEPHONE:i.z.number().refine(e=>{let t=e.toString();return!(t.length<3)&&(0,r.Q7)("+".concat(t))},{message:"Le num\xe9ro doit contenir au moins 3 chiffres et \xeatre valide avec l'indicatif du pays.,"}),PASSWORD:i.z.string().min(1),TYPE_USER:i.z.number().min(1),FLAG_MAIL_VERIFIED:i.z.number().optional(),FLAG_TELEPHONE_VERIFIED:i.z.number().optional(),DATETIME_CREATION:i.z.string().datetime().min(1),CODE_PIN:i.z.number().optional(),REGISTRE_NATIONAL:i.z.string(),DATE_NAISSANCE:i.z.string().datetime()}),o=i.z.object({ID:i.z.number().optional(),NOM:i.z.string().min(1),PRENOM:i.z.string().optional(),REGISTRE_NATIONAL:i.z.string().optional(),TYPE_CIVILITE:i.z.number().refine(e=>e>=0&&e<=2,{message:"Vous devez choisir un genre"}),NUMERO_RESPONSABLE:i.z.number().min(1),UID:i.z.string().min(1),TELEPHONE:i.z.number().refine(e=>{let t=e.toString();return(0,r.Q7)("+".concat(t))},{message:"Le num\xe9ro doit \xeatre valide avec le format du pays."}),MAIL:i.z.string().email().optional()});i.z.object({username:i.z.string().min(1),password:i.z.string().min(1)});let l=i.z.object({NOM:i.z.string().min(1),ELEVE_ID:i.z.number().optional(),PRENOM:i.z.string().optional(),SEXE_TYPE:i.z.string().min(1),LIEU_NAISSANCE:i.z.string().min(1),CODE_PAYS_NAIS:i.z.string().optional(),NAISSANCE_DATE:i.z.string().datetime({local:!0}).min(1),CODE_NATIONALITE:i.z.string().optional(),NISS:i.z.string().optional(),TELEPHONE:i.z.string().optional().refine(e=>!e||e.length<3||(0,r.Q7)("+".concat(e)),{message:"le num\xe9ro doit contenir au moins 3 chiffres et быть valide avec l'indicatif du pays."})}),d=i.z.object({ADRESSE_ID:i.z.number().optional(),ELEVE_ID:i.z.number().optional(),RESPONSABLE_ID:i.z.number().optional(),ADRESSE:i.z.string().min(1),NUMERO:i.z.string().min(1),CODE_POSTAL:i.z.number().min(4).nullable(),LOCALITE:i.z.string().min(1),NUM_BOITE:i.z.string().optional(),CODE_POSTAL2:i.z.string().optional()}),u=i.z.object({LIBELLE:i.z.string().min(1),MONTANT:i.z.number().min(1),ANNEE_SCOLAIRE:i.z.number().min(1),TYPE_FRAIS:i.z.number().min(0),DATE_FRAIS:i.z.string().datetime({local:!0}).optional(),DATE_ECHEANCE:i.z.string().datetime({local:!0}).optional(),DATE_FRAIS_FIN:i.z.string().datetime({local:!0}).optional(),FRAIS_ID:i.z.number().optional()});i.z.object({FRAIS_INSCRIPTION_ID:i.z.number().optional(),ELEVE_ID:i.z.number(),FRAIS_ID:i.z.number(),DATE_INSCRIPTION:i.z.string().datetime({local:!0}),DATE_DEPART:i.z.string().datetime({local:!0}).optional()}),i.z.object({FRAIS_ITEM_ID:i.z.number().optional(),FRAIS_PARENT_ID:i.z.number().optional(),LIBELLE:i.z.string().optional(),PRIX:i.z.number().optional()}),i.z.object({FRAIS_ITEM_ELEVE_ID:i.z.number().optional(),FRAIS_ITEM_ID:i.z.number().optional(),ELEVE_ID:i.z.number().optional(),QTE:i.z.number().optional(),COUT_UNIT:i.z.number(),COUT_TOTAL:i.z.number().optional(),DATE_FRAIS:i.z.string().datetime({local:!0}),DATE_MODIF:i.z.string().optional(),USER_ENCODE:i.z.string().optional(),USER_ID:i.z.number().optional(),PROF_ID:i.z.string().optional()});let c=i.z.object({ELEVE_ID:i.z.number().optional(),FRAIS_ID:i.z.number(),LIBELLE:i.z.string(),COUT_TOTAL:i.z.number(),COMMUNICATION_STRUCTUREE:i.z.string().optional()}),m=i.z.object({ELEVE_ID:i.z.number(),FRAIS_ITEM:i.z.array(c)});i.z.array(m),i.z.object({COUT_TOTAL:i.z.number(),MONTANT_PAYE:i.z.number(),BALANCE:i.z.number()}),i.z.object({ELEVE_ID:i.z.number(),FRAIS_ID:i.z.number(),LIBELLE:i.z.string(),DATE_FRAIS:i.z.string().datetime({local:!0})})},86857:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(94335),i=a(18987),n=a(18322);new AbortController;let s=r.A.create({baseURL:"https://rest.pre.econcept.be"});s.interceptors.request.use(async e=>{await (0,n.RI)();let t=i.A.get("secret");return t&&(e.headers.Secret=t),e},e=>Promise.reject(e)),s.interceptors.response.use(e=>((0,n.cH)(),e),e=>Promise.reject(e));let o=s},95977:(e,t,a)=>{"use strict";a.d(t,{w:()=>l});var r=a(18987),i=a(94335),n=a(18322);let s=null,o=new AbortController,l=()=>{if(!s){let e=r.A.get("ip");if(!e)throw window.location.href="/",Error("IP non d\xe9finie dans les cookies.");(s=i.A.create({baseURL:e})).interceptors.request.use(async e=>{try{if(!await (0,n.RI)())return Promise.reject(Error("No session token"));let t=r.A.get("session-token"),a=r.A.get("tenant-id"),i=r.A.get("tenant-secret");return t&&(e.headers["X-Embarcadero-Session-Token"]=t),a&&(e.headers["X-Embarcadero-Tenant-Id"]=a),i&&(e.headers["X-Embarcadero-Tenant-Secret"]=i),e.signal=o.signal,e}catch(e){return Promise.reject(e)}},e=>Promise.reject(e)),s.interceptors.response.use(e=>((0,n.cH)(),e),e=>Promise.reject(e))}return s}},66503:(e,t,a)=>{"use strict";a.d(t,{X:()=>s,i:()=>o});var r=a(11011),i=a(50810),n=a(84477);i.registerLocale(n);let s=r.i4.map(e=>{let t=(0,r.Ot)(e);return t.name=i.getName(t.iso2,"fr")||t.name,(0,r.vg)(t)}),o=["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"]},6861:(e,t,a)=>{"use strict";a.d(t,{B:()=>l,s:()=>o});var r=a(74848),i=a(96540),n=a(86857),s=a(95977);let o=(e,t,a)=>{let[r,o]=(0,i.useState)(null),[l,d]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{(async()=>{try{let r=new URLSearchParams;a&&Object.entries(a).forEach(e=>{let[t,a]=e;Array.isArray(a)||"object"==typeof a?r.append(t,JSON.stringify(a)):r.append(t,a)});let i="".concat(e,"?").concat(r.toString()),u=(0,s.w)(),c=t?await n.A.get(e):await u.get(i);l&&(o({data:c.data,error:null}),d(!1))}catch(e){l&&(o({data:null,error:e}),d(!1))}})()},[e,t,a]),{result:r,loading:l}},l=e=>{if(e)return(0,r.jsx)("svg",{className:"h-5 w-5 text-danger absolute top-[45%] right-8",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:(0,r.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"})})}},18322:(e,t,a)=>{"use strict";a.d(t,{FI:()=>N,Fd:()=>p,Q7:()=>h,RI:()=>b,We:()=>u,Wv:()=>f,Ys:()=>c,ZH:()=>I,cH:()=>E,eV:()=>A,fk:()=>m,sS:()=>v,wj:()=>g});var r=a(87e3),i=a(18987),n=a(86715),s=a.n(n),o=a(95977),l=a(86857);let d=r.PhoneNumberUtil.getInstance(),u=e=>"".concat(e[0]).concat(e.slice(1).toLowerCase()),c=e=>{let t=new Date(e),a=t.getDate().toString().padStart(2,"0"),r=(t.getMonth()+1).toString().padStart(2,"0");return"".concat(a,"/").concat(r,"/").concat(t.getFullYear())},m=e=>{try{let t=d.parse("+".concat(e)),a=d.format(t,r.PhoneNumberFormat.INTERNATIONAL);return"".concat(a)}catch(e){return console.error(e),""}},h=e=>{try{return d.isValidNumber(d.parseAndKeepRawInput(e))}catch(e){return!1}},g=e=>e?new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())).toISOString():new Date(Date.UTC(new Date().getFullYear(),new Date().getMonth(),new Date().getDate())).toISOString(),E=()=>{let e=i.A.get("session-token");e&&i.A.set("session-token",e,{path:"/",secure:!0,sameSite:"strict",expires:new Date(new Date().getTime()+24e5)})},b=async()=>!!i.A.get("session-token")||(await s().replace("/"),!1),p=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"json";try{let i=new URLSearchParams;a&&Object.entries(a).forEach(e=>{let[t,a]=e;Array.isArray(a)||"object"==typeof a?i.append(t,JSON.stringify(a)):i.append(t,a)});let n={responseType:r},s="".concat(e,"?").concat(i.toString()),d=(0,o.w)();return{result:{data:(t?await (0,l.A)(s,n):await d(s,n)).data,error:null},loading:!1}}catch(e){return{result:{data:null,error:e},loading:!1}}},v=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0;try{let r=(0,o.w)();return{data:(t?await l.A.put(e,a):await r.put(e,a)).data,error:null}}catch(e){return{data:null,error:e}}},f=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{let a=(0,o.w)();return{data:(t?await l.A.delete(e):await a.delete(e)).data,error:null}}catch(e){return{data:null,error:e}}},N=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0;try{let r=(0,o.w)();return{data:(t?await l.A.patch(e,a):await r.patch(e,a)).data,error:null}}catch(e){return{data:null,error:e}}},A=e=>e?e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase():"",I=e=>{if(!(e instanceof Date)||isNaN(e.getTime()))throw Error("Date invalide pass\xe9e \xe0 extractMonthDays");return{FirstDayOfMonth:g(new Date(e.getFullYear(),e.getMonth(),1,0,0,0,0)),LastDayOfMonth:g(new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999))}}}},e=>{var t=t=>e(e.s=t);e.O(0,[374,833,518,718,150,844,476,230,328,636,593,792],()=>t(32336)),_N_E=e.O()}]);