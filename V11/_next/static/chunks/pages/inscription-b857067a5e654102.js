(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[890],{96088:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/inscription",function(){return a(25151)}])},93503:(e,t,a)=>{"use strict";function r(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}a.d(t,{A:()=>r})},20068:(e,t,a)=>{"use strict";function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}a.d(t,{A:()=>r})},52496:(e,t,a)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a.d(t,{A:()=>s});var n=a(93503);function s(e){(0,n.A)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===r(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(Error().stack)),new Date(NaN))}},25151:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var r=a(74848),n=a(96540),s=a(59386),l=a.n(s),i=a(20757);a(77571);var o=a(40350),c=a(93107),d=a(18940),u=a(18322),m=a(6861),E=a(86715),N=a(20068),h=a(52496),x=a(93503),p=a(11011);a(74148);var b=a(66503);let f=()=>{var e,t,a,s,f,g,v,S,A,I,O,j,T,y,L,_,D,w,C;let R=(0,E.useRouter)(),P=(0,n.useRef)(),M=(0,n.useRef)(),z=(0,n.useRef)(),[k,U]=(0,n.useState)(""),[F,B]=(0,n.useState)("Nouvelle inscription"),[Y,V]=(0,n.useState)("Enfant"),[H,J]=(0,n.useState)([""]),[X,G]=(0,n.useState)(""),[q,Q]=(0,n.useState)(void 0),[W,K]=(0,n.useState)([void 0]),[Z,$]=(0,n.useState)(new Date().getFullYear().toString()),[ee,et]=(0,n.useState)({}),[ea,er]=(0,n.useState)({}),[en,es]=(0,n.useState)(!0),[el,ei]=(0,n.useState)(!1),[eo,ec]=(0,n.useState)([!0]),[ed,eu]=(0,n.useState)([]),[em,eE]=(0,n.useState)(!1),[eN,eh]=(0,n.useState)(!1),[ex,ep]=(0,n.useState)(!1),[eb,ef]=(0,n.useState)(!1),[eg,ev]=(0,n.useState)(!1),[eS,eA]=(0,n.useState)([!1]),[eI,eO]=(0,n.useState)(!1),[ej,eT]=(0,n.useState)(),[ey,eL]=(0,n.useState)(0),[e_,eD]=(0,n.useState)([]),[ew,eC]=(0,n.useState)([]),[eR,eP]=(0,n.useState)([{NOM:"",NUMERO_RESPONSABLE:0,TELEPHONE:32,UID:"".concat(Math.random()),TYPE_CIVILITE:null}]),[eM,ez]=(0,n.useState)({LIEU_NAISSANCE:"",NAISSANCE_DATE:"",NOM:"",SEXE_TYPE:"",CODE_PAYS_NAIS:"IND",CODE_NATIONALITE:"BE"}),[ek,eU]=(0,n.useState)({ADRESSE:"",CODE_POSTAL:0,LOCALITE:"",NUMERO:""}),[eF,eB]=(0,n.useState)([{ADRESSE:"",CODE_POSTAL:0,LOCALITE:"",NUMERO:""}]),eY=async e=>{if(!("key"in e)||"Enter"===e.key)try{var t,a,r;let{result:e}=await (0,u.Fd)("/responsables/telephone/".concat(Number(eR[ey].TELEPHONE))),n=null!==(t=null==e?void 0:e.data)&&void 0!==t?t:[],s=null!==(a=null==e?void 0:e.error)&&void 0!==a?a:null;if(s){alert(JSON.stringify(null===(r=s.response)||void 0===r?void 0:r.data));return}eC(n),n.length>0?ef(!0):ef(!1)}catch(e){alert(e)}},eV=e=>{eP(t=>t.map((t,a)=>a===ey?{...t,TELEPHONE:Number(e)}:t)),et(e=>({...e,TELEPHONE:!1})),void 0!==W[ey]&&eA(e=>e.map((e,t)=>t===ey||e))},eH=e=>{let{name:t,value:a,type:r}=e.target;et(e=>({...e,[t]:!1})),void 0!==W[ey]&&eA(e=>e.map((e,t)=>t===ey||e)),eA(e=>{let t=[...e];return t[ey]||t.push(!0),t[ey]=!0,t}),eB(e=>{let n=[...e];return n[ey]||n.push({ADRESSE:"",CODE_POSTAL:0,LOCALITE:"",NUMERO:""}),n[ey]={...n[ey],[t]:"number"===r?Number(a):a},n})},eJ=e=>{let{name:t,value:a}=e.target;eP(e=>e.map((e,r)=>r===ey?{...e,[t]:a}:e)),void 0!==W[ey]&&eA(e=>e.map((e,t)=>t===ey||e)),et(e=>({...e,[t]:!1}))},eX=e=>{eA(e=>{let t=[...e];return t[ey]=!0,t.push(!1),t}),e9(),eP(t=>t.map((t,a)=>{var r;return a===ey?{NOM:e.NOM,PRENOM:e.PRENOM,REGISTRE_NATIONAL:e.REGISTRE_NATIONAL,DATE_NAISSANCE:e.DATE_NAISSANCE,TYPE_CIVILITE:e.TYPE_CIVILITE,NUMERO_RESPONSABLE:e.NUMERO_RESPONSABLE,UID:e.UID,TELEPHONE:e.TELEPHONE,MAIL:null!==(r=e.MAIL)&&void 0!==r?r:""}:t})),K(t=>{let a=[...t];return a[ey]||a.push(void 0),a[ey]=e.ID,a}),J(t=>{let a=[...t];return a[ey]||(a[ey]=""),a[ey]=0===e.TYPE_CIVILITE?"Gar\xe7on":1===e.TYPE_CIVILITE?"Fille":2===e.TYPE_CIVILITE?"Autres":"",a}),ev(!0)},eG=()=>{let e=d.EY.safeParse(eF[ey]);if(!e.success){let t=Object.keys(e.error.flatten().fieldErrors).reduce((e,t)=>(e[t]=!0,e),{});return et(e=>({...e,...t})),!1}return!0},eq=()=>{let e=d.UG.safeParse(eR[ey]);return e.success?eG():(et({...Object.keys(e.error.flatten().fieldErrors).reduce((e,t)=>(e[t]=!0,e),{})}),eG(),!1)},eQ=async(e,t)=>{ed[t]?eu(e=>{let a=[...e];return a[t]=!1,a}):eu(e=>{let a=[...e];return a[t]=!0,a})},eW=e=>{ez(t=>({...t,NAISSANCE_DATE:e?(0,u.wj)(e):""})),eT(e),er(e=>({...e,NAISSANCE_DATE:!1})),void 0!==q&&eO(!0)},eK=e=>{e.length>5&&(ez(t=>({...t,TELEPHONE:e})),er(e=>({...e,TELEPHONE:!1}))),e.length<5&&(ez(e=>({...e,TELEPHONE:""})),er(e=>({...e,TELEPHONE:!1}))),void 0!==q&&eO(!0)},eZ=e=>{let{name:t,value:a,type:r}=e.target;eU(e=>({...e,[t]:"number"===r?Number(a):a})),er(e=>({...e,[t]:!1})),void 0!==q&&eO(!0)},e$=e=>{let{name:t,value:a}=e.target;er(e=>({...e,[t]:!1})),ez(e=>({...e,[t]:a})),void 0!==q&&eO(!0)},e0=async e=>{var t,a,r;if("key"in e&&"Enter"!==e.key)return;let{result:n}=await (0,u.Fd)("/eleves/datenaissance/".concat((0,u.wj)(new Date(eM.NAISSANCE_DATE)))),s=null!==(t=null==n?void 0:n.data)&&void 0!==t?t:[],l=null!==(a=null==n?void 0:n.error)&&void 0!==a?a:null;if(l){alert(JSON.stringify(null===(r=l.response)||void 0===r?void 0:r.data));return}eD(s),s.length>0?ef(!0):ef(!1)},e1=async e=>{var t,a,r,n,s,l,i,o;e9(),Q(e.ELEVE_ID);let{result:c}=await (0,u.Fd)("/responsableEleve/Eleve/".concat(e.ELEVE_ID)),{result:d}=await (0,u.Fd)("/adresse/eleve/".concat(e.ELEVE_ID)),m=null!==(t=null==c?void 0:c.error)&&void 0!==t?t:null;if(m){alert(JSON.stringify(null===(a=m.response)||void 0===a?void 0:a.data));return}let E=null!==(r=null==d?void 0:d.error)&&void 0!==r?r:null;if(E){alert(JSON.stringify(null===(n=E.response)||void 0===n?void 0:n.data));return}let N=Array.isArray(null==c?void 0:c.data)?c.data:[],h=null!==(s=null==d?void 0:d.data)&&void 0!==s?s:null;if(eU(h),N.length>0){let e=N.map(e=>(0,u.Fd)("/responsables/".concat(e.ID_RESPONSABLE))),t=await Promise.all(e),a=t.map((e,t)=>{var a,r;let n=null===(a=e.result)||void 0===a?void 0:a.error;if(n){let e=JSON.stringify(null===(r=n.response)||void 0===r?void 0:r.data)||"Erreur inconnue";return"Erreur responsable ".concat(t+1,": ").concat(e)}return null}).filter(Boolean);if(a.length>0){alert("Des erreurs sont survenues lors de la r\xe9cup\xe9ration des responsables :\n\n".concat(a.join("\n")));return}let r=t.map(e=>{var t;return null===(t=e.result)||void 0===t?void 0:t.data}).filter(Boolean);for(let e=0;e<r.length;e++){let t=r[e];K(a=>{let r=[...a];return r[e]=t.ID,r}),eP(a=>{let r=[...a];return r[e]={...t},r}),J(a=>{let r=[...a];return r[e]=0===t.TYPE_CIVILITE?"Gar\xe7on":1===t.TYPE_CIVILITE?"Fille":2===t.TYPE_CIVILITE?"Autres":"",r});let{result:a}=await (0,u.Fd)("/adresse/responsable/".concat(t.ID)),n=null!==(l=null==a?void 0:a.error)&&void 0!==l?l:null;if(n){alert(JSON.stringify(null===(i=n.response)||void 0===i?void 0:i.data));return}let s=null!==(o=null==a?void 0:a.data)&&void 0!==o?o:null;if(s){eB(t=>{let a=[...t];return a[e]=s,a});let t=JSON.stringify({ADRESSE:h.ADRESSE,CODE_POSTAL:h.CODE_POSTAL,LOCALITE:h.LOCALITE,NUMERO:h.NUMERO,NUM_BOITE:h.NUM_BOITE})===JSON.stringify({ADRESSE:s.ADRESSE,CODE_POSTAL:s.CODE_POSTAL,LOCALITE:s.LOCALITE,NUMERO:s.NUMERO,NUM_BOITE:s.NUM_BOITE});ec(a=>{let r=[...a];return r[e]=t,r})}}}ez(t=>({...t,NOM:e.NOM,PRENOM:e.PRENOM,SEXE_TYPE:e.SEXE_TYPE,LIEU_NAISSANCE:e.LIEU_NAISSANCE,CODE_PAYS_NAIS:e.CODE_PAYS_NAIS,NAISSANCE_DATE:e.NAISSANCE_DATE,CODE_NATIONALITE:e.CODE_NATIONALITE,NISS:e.NISS,TELEPHONE:e.TELEPHONE})),G("M"===e.SEXE_TYPE?"Gar\xe7on":"F"===e.SEXE_TYPE?"Fille":"X"===e.SEXE_TYPE?"Autres":""),er({})},e2=()=>{let e=d.EY.safeParse(ek);if(!e.success){let t=Object.keys(e.error.flatten().fieldErrors).reduce((e,t)=>(e[t]=!0,e),{});return er(e=>({...e,...t})),!1}return!0},e5=()=>{console.log(ek);let e=d.Sg.safeParse(eM);return e.success?e2():(er({...Object.keys(e.error.flatten().fieldErrors).reduce((e,t)=>(e[t]=!0,e),{})}),e2(),!1)},e6=()=>{requestAnimationFrame(()=>{if(M.current||z.current){let e=(M.current?M.current.value:z.current.value).length+1;M.current?M.current.setSelectionRange(e,e):z.current.setSelectionRange(e,e)}})},e8=()=>{ep(!0),eE(!1),setTimeout(()=>{es(!0),ep(!1),e7("Enfant","Nouvelle inscription"),ez({NOM:"",PRENOM:"",SEXE_TYPE:"",LIEU_NAISSANCE:"",CODE_PAYS_NAIS:"IND",NAISSANCE_DATE:"",CODE_NATIONALITE:"BE",NISS:"",TELEPHONE:""}),eU({ADRESSE_ID:0,ELEVE_ID:0,ADRESSE:"",NUMERO:"",CODE_POSTAL:0,LOCALITE:"",CODE_POSTAL2:""}),eP([]),eL(0),ec([!0]),eA([!1]),eO(!1),eT(null),J([""]),G("");for(let e=0;e<ed.length;e++)eu(t=>{let a=[...t];return a[e]=!1,a})},1e3)},e7=(e,t)=>{B(t),V(e)},e3=e=>{let t=e.target.selectedOptions[0];if(!t)return;let a={0:"M",1:"F",2:"X"}[t.dataset.type]||"";en?(G(t.value),""!==a&&er(e=>({...e,SEXE_TYPE:!1})),ez(e=>({...e,SEXE_TYPE:a}))):(J(t=>t.map((t,a)=>a===ey?e.target.selectedOptions[0].value:t)),eP(t=>t.map((t,a)=>a===ey?{...t,TYPE_CIVILITE:Number(e.target.selectedOptions[0].dataset.type)}:t)),et(e=>({...e,TYPE_CIVILITE:!1})))},e4=()=>{if(eb){let e=document.querySelector("#researchResult");setTimeout(()=>window.HSOverlay.open(e),50),ef(!1)}},e9=()=>{let e=document.querySelector("#researchResult");window.HSOverlay.close(e)},te=async()=>{var e,t,a,r,n,s,l,i,o,c,d;let m=0;if(void 0!==q&&eI){let r={...eM,ELEVE_ID:q},{data:n,error:s}=await (0,u.FI)("/eleves",!1,r);if(s){alert(JSON.stringify(null===(e=s.response)||void 0===e?void 0:e.data));return}let{data:l,error:i}=await (0,u.FI)("/adresse",!1,ek);if(i){alert(JSON.stringify(null===(t=i.response)||void 0===t?void 0:t.data));return}for(let e=0;e<ed.length;e++)if(ed[e]){let t={ELEVE_ID:q,FRAIS_ID:tl[e].FRAIS_ID,DATE_INSCRIPTION:(0,u.wj)(new Date)},{data:r,error:n}=await (0,u.sS)("/fraisinscription",!1,t);if(n){alert(JSON.stringify(null===(a=n.response)||void 0===a?void 0:a.data));return}console.log(r)}}else if(void 0===q){let{data:e,error:t}=await (0,u.sS)("/eleves",!1,eM);if(t){alert(JSON.stringify(null===(r=t.response)||void 0===r?void 0:r.data));return}m=e.ELEVE_ID;let a={...ek,ELEVE_ID:m},{data:l,error:i}=await (0,u.sS)("/adresse",!1,a);if(i){alert(JSON.stringify(null===(n=i.response)||void 0===n?void 0:n.data));return}console.log(ed);for(let e=0;e<ed.length;e++)if(console.log(ed[e]),ed[e]){let t={ELEVE_ID:m,FRAIS_ID:tl[e].FRAIS_ID,DATE_INSCRIPTION:(0,u.wj)(new Date)},{data:a,error:r}=await (0,u.sS)("/fraisinscription",!1,t);if(r){alert(JSON.stringify(null===(s=r.response)||void 0===s?void 0:s.data));return}console.log(a)}}for(let e=0;e<eR.length;e++){let t=eR[e];if(void 0!==W[e]&&eS[e]){let a={...t,RESPONSABLE_ID:W[e]},{data:r,error:n}=await (0,u.FI)("/responsables",!1,a);if(n){alert(JSON.stringify(null===(l=n.response)||void 0===l?void 0:l.data));return}let{data:s,error:o}=await (0,u.FI)("/adresse",!1,eF[e]);if(o){alert(JSON.stringify(null===(i=o.response)||void 0===i?void 0:i.data));return}}else if(void 0===W[e]){let{data:a,error:r}=await (0,u.sS)("/responsables",!1,t);if(r){alert(JSON.stringify(null===(o=r.response)||void 0===o?void 0:o.data));return}let n={ID_RESPONSABLE:a.ID,ID_ELEVE:void 0!==q?q:m},{data:s,error:l}=await (0,u.sS)("/responsableEleve",!1,n);if(l){alert(JSON.stringify(null===(c=l.response)||void 0===c?void 0:c.data));return}let i={...eF[e],RESPONSABLE_ID:a.ID},{data:E,error:N}=await (0,u.sS)("/adresse",!1,i);if(N){alert(JSON.stringify(null===(d=N.response)||void 0===d?void 0:d.data));return}}}e8()};(0,n.useEffect)(()=>{U(window.location.href);let e=e=>{if(!el){if(window.confirm("Voulez-vous vraiment quitter cette page ?"))ei(!0);else throw R.events.emit("routeChangeError"),window.history.pushState(null,"",k),Error("Navigation annul\xe9e")}},t=e=>{e.preventDefault(),e.returnValue=""};return window.addEventListener("beforeunload",t),R.events.on("routeChangeStart",e),()=>{window.removeEventListener("beforeunload",t),R.events.off("routeChangeStart",e)}},[R,el,k]),(0,n.useEffect)(()=>{e4()},[eb]),(0,n.useEffect)(()=>{let e=localStorage.getItem("annee");console.log(e),e&&$(e)},[]);let{result:tt,loading:ta}=(0,m.s)("/listtype/reference/TYPE_CIVILITE",!0),tr=null!==(y=null==tt?void 0:tt.data)&&void 0!==y?y:[],tn=null!==(L=null==tt?void 0:tt.error)&&void 0!==L?L:null;if(tn){alert(JSON.stringify(null===(_=tn.response)||void 0===_?void 0:_.data));return}let{result:ts}=(0,m.s)("/frais/typefrais/2",!1,{anneescolaire:Z}),tl=null!==(D=null==ts?void 0:ts.data)&&void 0!==D?D:[],ti=null!==(w=null==ts?void 0:ts.error)&&void 0!==w?w:null;if(ti){alert(JSON.stringify(null===(C=ti.response)||void 0===C?void 0:C.data));return}return(0,n.useEffect)(()=>{(null==tl?void 0:tl.length)&&eu(Array(tl.length).fill(!1))},[null==tl?void 0:tl.length]),(0,n.useEffect)(()=>{P.current&&P.current.setState({open:!1})},[]),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.A,{title:"Inscription"}),(0,r.jsx)(c.A,{currentpage:F,mainpage:Y,activepage:"Inscription"}),(0,r.jsxs)("div",{className:"grid grid-cols-12 gap-6",children:[(0,r.jsx)("div",{id:"researchResult",className:"hs-overlay hidden ti-modal",children:(0,r.jsx)("div",{className:"hs-overlay-open:mt-7 ti-modal-box mt-0 ease-out lg:!max-w-4xl lg:w-full m-3 lg:!mx-auto",children:(0,r.jsxs)("div",{className:"ti-modal-content",children:[(0,r.jsxs)("div",{className:"ti-modal-header",children:[(0,r.jsx)("h3",{className:"ti-modal-title",children:"Resultat de recherche"}),(0,r.jsxs)("button",{type:"button",className:"hs-dropdown-toggle ti-modal-close-btn","data-hs-overlay":"#researchResult",children:[(0,r.jsx)("span",{className:"sr-only",children:"Fermer"}),(0,r.jsx)("svg",{className:"w-3.5 h-3.5",width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M0.258206 1.00652C0.351976 0.912791 0.479126 0.860131 0.611706 0.860131C0.744296 0.860131 0.871447 0.912791 0.965207 1.00652L3.61171 3.65302L6.25822 1.00652C6.30432 0.958771 6.35952 0.920671 6.42052 0.894471C6.48152 0.868271 6.54712 0.854471 6.61352 0.853901C6.67992 0.853321 6.74572 0.865971 6.80722 0.891111C6.86862 0.916251 6.92442 0.953381 6.97142 1.00032C7.01832 1.04727 7.05552 1.1031 7.08062 1.16454C7.10572 1.22599 7.11842 1.29183 7.11782 1.35822C7.11722 1.42461 7.10342 1.49022 7.07722 1.55122C7.05102 1.61222 7.01292 1.6674 6.96522 1.71352L4.31871 4.36002L6.96522 7.00648C7.05632 7.10078 7.10672 7.22708 7.10552 7.35818C7.10442 7.48928 7.05182 7.61468 6.95912 7.70738C6.86642 7.80018 6.74102 7.85268 6.60992 7.85388C6.47882 7.85498 6.35252 7.80458 6.25822 7.71348L3.61171 5.06702L0.965207 7.71348C0.870907 7.80458 0.744606 7.85498 0.613506 7.85388C0.482406 7.85268 0.357007 7.80018 0.264297 7.70738C0.171597 7.61468 0.119017 7.48928 0.117877 7.35818C0.116737 7.22708 0.167126 7.10078 0.258206 7.00648L2.90471 4.36002L0.258206 1.71352C0.164476 1.61976 0.111816 1.4926 0.111816 1.36002C0.111816 1.22744 0.164476 1.10028 0.258206 1.00652Z",fill:"currentColor"})})]})]}),(0,r.jsxs)("div",{className:"ti-modal-body",children:[e_.length>0&&en&&(0,r.jsxs)(r.Fragment,{children:[e_.map(e=>(0,r.jsx)("div",{className:"xxl:col-span-3 col-span-12",children:(0,r.jsx)("div",{className:"box !bg-text-dark text-dark",children:(0,r.jsx)("div",{className:"box-body",children:(0,r.jsx)("button",{type:"button",onClick:()=>e1(e),className:"flex items-center w-full",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-base font-semibold",children:"".concat(e.PRENOM," ").concat(e.NOM)}),(0,r.jsx)("p",{className:"mb-0 text-text-dark opacity-70 text-xs",children:(0,u.Ys)(e.NAISSANCE_DATE)})]})})})})},e.ELEVE_ID)),(0,r.jsx)("div",{className:"box !bg-primary text-white mt-6",children:(0,r.jsx)("div",{className:"box-body",children:(0,r.jsx)("button",{type:"button",className:"flex items-center w-full",onClick:()=>{e9(),es(!0)},children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("i",{className:"ri-account-circle-line text-5xl"}),(0,r.jsx)("div",{className:"text-base font-semibold",children:"Cr\xe9er un nouvel enfant"})]})})})})]}),ew&&eg&&(0,r.jsx)("div",{className:"xxl:col-span-3 col-span-12",children:(0,r.jsx)("div",{className:"box !bg-text-dark text-dark",children:(0,r.jsx)("div",{className:"box-body",children:(0,r.jsx)("button",{type:"button",onClick:()=>eX(ew),className:"flex items-center w-full",children:(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("div",{className:"text-base font-semibold",children:"".concat(null===(e=ew[0])||void 0===e?void 0:e.PRENOM," ").concat(null===(t=ew[0])||void 0===t?void 0:t.NOM)}),(0,r.jsx)("p",{className:"mb-0 text-text-dark opacity-70 text-xs",children:null===(a=ew[0])||void 0===a?void 0:a.REGISTRE_NATIONAL})]})})})})})]}),(0,r.jsx)("div",{className:"ti-modal-footer",children:(0,r.jsx)("button",{type:"button",className:"hs-dropdown-toggle ti-btn ti-border font-medium bg-white text-gray-700 shadow-sm align-middle hover:bg-gray-50 focus:ring-offset-white focus:ring-primary dark:bg-bgdark dark:hover:bg-black/20 dark:border-white/10 dark:text-white/70 dark:hover:text-white dark:focus:ring-offset-white/10","data-hs-overlay":"#researchResult",children:"Fermer"})})]})})}),(0,r.jsx)("div",{className:"col-span-12",children:(0,r.jsxs)("div",{className:"box mt-5",children:[(0,r.jsx)("div",{className:"box-header",children:(0,r.jsx)("h5",{className:"box-title",children:en?"Enfant":em?"R\xe9capitulatif":eN?"Activit\xe9s":eg?"Responsable ".concat(ey+1):""})}),(0,r.jsxs)("div",{className:"box-body",children:[en&&(0,r.jsxs)("form",{className:"ti-validation",children:[(0,r.jsxs)("fieldset",{children:[(0,r.jsx)("legend",{className:"text-xl font-semibold bg-white dark:dark:bg-bgdark px-3 translate-y-3 translate-x-3",children:"Informations personnelles"}),(0,r.jsx)("hr",{className:"mb-6"}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2 date-of-birth relative",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Date de naissance"}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(l(),{className:ea.NAISSANCE_DATE?"my-auto ti-form-input rounded-r-none !border-red-600":"my-auto ti-form-input rounded-r-none h-[42px]",name:"NAISSANCE_DATE",autoFocus:!0,ref:P,onKeyDown:e=>{switch(e.code){case"Digit1":case"Digit2":case"Digit3":case"Digit4":case"Digit5":case"Digit6":case"Digit7":case"Digit8":case"Digit9":case"Digit0":e.shiftKey&&P.current.setState({open:!0});break;case"Numpad0":case"Numpad1":case"Numpad2":case"Numpad3":case"Numpad4":case"Numpad5":case"Numpad6":case"Numpad7":case"Numpad8":case"Numpad9":P.current.setState({open:!0})}},showIcon:!0,locale:i.A,dateFormat:"dd/MM/yyyy",selected:ej,maxDate:new Date(function(e,t){return(0,x.A)(2,arguments),function(e,t){return(0,x.A)(2,arguments),function(e,t){(0,x.A)(2,arguments);var a=(0,h.A)(e),r=(0,N.A)(t);if(isNaN(r))return new Date(NaN);if(!r)return a;var n=a.getDate(),s=new Date(a.getTime());return(s.setMonth(a.getMonth()+r+1,0),n>=s.getDate())?s:(a.setFullYear(s.getFullYear(),s.getMonth(),n),a)}(e,12*(0,N.A)(t))}(e,-(0,N.A)(t))}(new Date,3)),onChange:e=>eW(e)}),(0,r.jsx)("button",{disabled:!ej,onClick:e0,"aria-label":"button",type:"button",className:"inline-flex flex-shrink-0 justify-center items-center h-[42px] w-[2.875rem] ltr:rounded-r-sm ltr:rounded-l-none rtl:rounded-r-none rtl:rounded-l-sm ti-btn ti-btn-outline ti-btn-outline-primary m-0 !border-l-0 font-semibold text-sm focus:ti-btn-primary",children:(0,r.jsx)("svg",{className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:(0,r.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})})})]}),ea.NAISSANCE_DATE&&(0,r.jsx)("svg",{className:"h-5 w-5 text-danger absolute top-[45%] right-16",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:(0,r.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"})})]}),(0,r.jsxs)("div",{className:"space-y-2 relative",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Nom"}),(0,r.jsx)("input",{type:"text",className:ea.NOM?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input",name:"NOM",value:eM.NOM,onChange:e$}),(0,m.B)(ea.NOM)]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Pr\xe9nom"}),(0,r.jsx)("input",{type:"text",className:"my-auto ti-form-input",name:"PRENOM",value:eM.PRENOM,onChange:e$})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Telephone"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(p.LR,{defaultCountry:"be",ref:M,onFocus:e6,value:eM.TELEPHONE,name:"TELEPHONE",countries:b.X,onChange:e=>eK(e),inputClassName:ea.TELEPHONE?"w-full rounded-r-sm dark:!dark:bg-bgdark !ml-[1px] !border-l !border-red-600":"w-full rounded-r-sm dark:!dark:bg-bgdark !border-[#e2e8f0]"}),ea.TELEPHONE&&(0,r.jsx)("svg",{className:"h-5 w-5 text-danger absolute top-1/4 right-8",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:(0,r.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"})})]})]}),(0,r.jsxs)("div",{className:"space-y-2 relative",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Genre"}),(0,r.jsxs)("select",{className:ea.SEXE_TYPE?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input",name:"SEXE_TYPE",defaultValue:"Choisir un genre",value:X,onChange:e3,children:[(0,r.jsx)("option",{selected:!0,children:"Choisir un genre"}),null==tr?void 0:tr.map(e=>(0,r.jsx)("option",{"data-type":e.ID_REFERENCE,children:e.LIBELLE_REFERENCE},e.ID))]}),(0,m.B)(ea.SEXE_TYPE)]}),(0,r.jsxs)("div",{className:"space-y-2 relative",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Lieu de naissance"}),(0,r.jsx)("input",{type:"text",className:ea.LIEU_NAISSANCE?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input",name:"LIEU_NAISSANCE",onChange:e$,value:eM.LIEU_NAISSANCE}),(0,m.B)(ea.LIEU_NAISSANCE)]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Registre national"}),(0,r.jsx)("input",{type:"text",name:"NISS",onChange:e$,value:eM.NISS,className:ea.NISS?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input"})]})]})]}),(0,r.jsxs)("fieldset",{className:"mt-6",children:[(0,r.jsx)("legend",{className:"text-xl font-semibold bg-white dark:dark:bg-bgdark px-3 translate-y-3 translate-x-3",children:"Adresse"}),(0,r.jsx)("hr",{className:"mb-6"}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2 relative",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Adresse"}),(0,r.jsx)("input",{type:"text",name:"ADRESSE",onChange:eZ,value:ek.ADRESSE,className:ea.ADRESSE?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input"}),(0,m.B)(ea.ADRESSE)]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsxs)("div",{className:"space-y-2 relative",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Num\xe9ro"}),(0,r.jsx)("input",{type:"text",name:"NUMERO",onChange:eZ,value:ek.NUMERO,className:ea.NUMERO?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input"}),(0,m.B)(ea.NUMERO)]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Boite"}),(0,r.jsx)("input",{type:"text",name:"NUM_BOITE",onChange:eZ,value:ek.NUM_BOITE,className:"my-auto ti-form-input"})]}),(0,r.jsxs)("div",{className:"space-y-2 relative",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Code postal"}),(0,r.jsx)("input",{type:"number",name:"CODE_POSTAL",onChange:eZ,value:0===ek.CODE_POSTAL||null===ek.CODE_POSTAL?"":ek.CODE_POSTAL,className:ea.CODE_POSTAL?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input"}),(0,m.B)(ea.CODE_POSTAL)]})]}),(0,r.jsxs)("div",{className:"space-y-2 relative",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Localit\xe9"}),(0,r.jsx)("input",{type:"text",name:"LOCALITE",onChange:eZ,value:ek.LOCALITE,className:ea.LOCALITE?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input"}),(0,m.B)(ea.LOCALITE)]})]})]})]}),eN&&(0,r.jsx)("ul",{className:"flex flex-col gap-3",children:null==tl?void 0:tl.map((e,t)=>(0,r.jsx)("li",{children:(0,r.jsxs)("label",{className:"max-w-xs flex items-center p-3 w-full bg-white border border-gray-200 rounded-sm text-sm focus:border-primary focus:ring-primary dark:bg-bgdark dark:border-white/10 dark:text-white/70",children:[(0,r.jsx)("input",{id:"hs-list-group-item-checkbox-1",type:"checkbox",className:"ti-form-checkbox",checked:ed[t],onChange:()=>eQ(e.FRAIS_ID,t)}),(0,r.jsx)("span",{className:"text-sm text-gray-500 ltr:ml-2 rtl:mr-2 dark:text-white/70",children:e.LIBELLE})]})},t))}),eg&&(0,r.jsxs)("form",{className:"ti-validation",children:[(0,r.jsxs)("fieldset",{children:[(0,r.jsx)("legend",{className:"text-xl font-semibold bg-white dark:dark:bg-bgdark px-3 translate-y-3 translate-x-3",children:"Informations personnelles"}),(0,r.jsx)("hr",{className:"mb-6"}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Telephone"}),(0,r.jsxs)("div",{className:"relative flex",children:[(0,r.jsx)(p.LR,{defaultCountry:"be",value:(null===(f=eR[ey])||void 0===f?void 0:null===(s=f.TELEPHONE)||void 0===s?void 0:s.toString())||"32",onChange:e=>eV(e),ref:z,onFocus:e6,countries:b.X,className:"w-full",autoFocus:!0,inputClassName:ee.TELEPHONE?"w-full !rounded-r-none dark:bg-bgdark !ml-[1px] !border-l !border-red-600":"w-full !rounded-r-none dark:bg-bgdark !border-[#e2e8f0]"}),(0,r.jsx)("button",{onClick:eY,"aria-label":"button",type:"button",className:"inline-flex flex-shrink-0 justify-center items-center h-[42px] w-[2.875rem] ltr:rounded-r-sm ltr:rounded-l-none rtl:rounded-r-none rtl:rounded-l-sm ti-btn ti-btn-outline ti-btn-outline-primary m-0 !border-l-0 font-semibold text-sm focus:ti-btn-primary",children:(0,r.jsx)("svg",{className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:(0,r.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})})}),ee.TELEPHONE&&(0,r.jsx)("svg",{className:"h-5 w-5 text-danger absolute top-1/4 right-16",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:(0,r.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"})})]})]}),(0,r.jsxs)("div",{className:"space-y-2 relative",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Nom"}),(0,r.jsx)("input",{type:"text",className:ee.NOM?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input",name:"NOM",value:(null===(g=eR[ey])||void 0===g?void 0:g.NOM)||"",onChange:eJ}),(0,m.B)(ee.NOM)]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Pr\xe9nom"}),(0,r.jsx)("input",{type:"text",className:"my-auto ti-form-input",name:"PRENOM",value:(null===(v=eR[ey])||void 0===v?void 0:v.PRENOM)||"",onChange:eJ})]}),(0,r.jsxs)("div",{className:"space-y-2 relative",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Genre"}),(0,r.jsxs)("select",{className:ee.TYPE_CIVILITE?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input",name:"TYPE_CIVILITE",defaultValue:"Choisir un genre",value:H[ey],onChange:e3,children:[(0,r.jsx)("option",{selected:!0,children:"Choisir un genre"}),null==tr?void 0:tr.map(e=>(0,r.jsx)("option",{"data-type":e.ID_REFERENCE,children:e.LIBELLE_REFERENCE},e.ID))]}),(0,m.B)(ee.TYPE_CIVILITE)]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Registre national"}),(0,r.jsx)("input",{type:"text",name:"REGISTRE_NATIONAL",onChange:eJ,value:(null===(S=eR[ey])||void 0===S?void 0:S.REGISTRE_NATIONAL)||"",className:"my-auto ti-form-input"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"email"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"mail",name:"MAIL",onChange:eJ,value:(null===(A=eR[ey])||void 0===A?void 0:A.MAIL)||"",className:"ti-form-input ltr:pl-11 rtl:pr-11 focus:z-10"}),(0,r.jsx)("div",{className:"absolute inset-y-0 ltr:left-0 rtl:right-0 flex items-center pointer-events-none z-20 ltr:pl-4 rtl:pr-4",children:(0,r.jsx)("i",{className:"ri-mail-line"})})]})]})]})]}),(0,r.jsxs)("fieldset",{className:"mt-6",children:[(0,r.jsx)("legend",{className:"text-xl font-semibold bg-white dark:bg-bgdark  px-3 translate-y-3 translate-x-3",children:"Adresse"}),(0,r.jsx)("hr",{className:"mb-6"}),(0,r.jsxs)("label",{className:"mb-6 p-3 max-w-sm flex items-center gap-3 bg-white border border-gray-200 rounded-sm text-sm focus:border-primary focus:ring-primary dark:bg-bgdark dark:border-white/10 dark:text-white/70",children:[(0,r.jsx)("input",{type:"checkbox",className:"ti-form-checkbox mt-0.5 pointer-events-none",checked:eo[ey],onChange:()=>{ec(e=>{let t=[...e];return t[ey]||t.push(!0),t[ey]=!t[ey],t[ey]?eB(e=>{let t=[...e];return t[ey]||t.push({ADRESSE:"",ADRESSE_ID:0,CODE_POSTAL:0,LOCALITE:"",NUMERO:""}),t[ey]={...ek},console.log(t[ey]),t}):eB(e=>{let t=[...e];return t[ey]||t.push({ADRESSE:"",CODE_POSTAL:null,LOCALITE:"",NUMERO:""}),t[ey]={ADRESSE:"",CODE_POSTAL:null,LOCALITE:"",NUMERO:""},console.log(t[ey]),t}),t})}}),(0,r.jsx)("i",{className:"ri-account-circle-line text-3xl text-success"}),(0,r.jsx)("span",{className:"text-sm text-gray-500 ltr:ml-2 rtl:mr-2 dark:text-white/70",children:"M\xeame Adresse que l'enfant"})]}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2 relative",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Adresse"}),(0,r.jsx)("input",{type:"text",name:"ADRESSE",onChange:eH,value:(null===(I=eF[ey])||void 0===I?void 0:I.ADRESSE)||"",className:ee.ADRESSE?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input"}),(0,m.B)(ee.ADRESSE)]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsxs)("div",{className:"space-y-2 relative",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Num\xe9ro"}),(0,r.jsx)("input",{type:"text",name:"NUMERO",onChange:eH,value:eF[ey].NUMERO||"",className:ee.NUMERO?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input"}),(0,m.B)(ee.NUMERO)]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Boite"}),(0,r.jsx)("input",{type:"text",name:"NUM_BOITE",onChange:eH,value:(null===(O=eF[ey])||void 0===O?void 0:O.NUM_BOITE)||void 0,className:"my-auto ti-form-input"})]}),(0,r.jsxs)("div",{className:"space-y-2 relative",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Code postal"}),(0,r.jsx)("input",{type:"number",name:"CODE_POSTAL",onChange:eH,value:(null===(j=eF[ey])||void 0===j?void 0:j.CODE_POSTAL)||"",className:ee.CODE_POSTAL?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input"}),(0,m.B)(ee.CODE_POSTAL)]})]}),(0,r.jsxs)("div",{className:"space-y-2 relative",children:[(0,r.jsx)("label",{className:"ti-form-label mb-0",children:"Localit\xe9"}),(0,r.jsx)("input",{type:"text",name:"LOCALITE",onChange:eH,value:(null===(T=eF[ey])||void 0===T?void 0:T.LOCALITE)||"",className:ee.LOCALITE?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input"}),(0,m.B)(ee.LOCALITE)]})]})]})]}),em&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"text-[0.813rem] mb-3",children:"Vous \xeates sur le point d'inscrire :"}),(0,r.jsxs)("div",{className:"flex flex-col xl:flex-row gap-6 w-full",children:[(0,r.jsxs)("div",{className:"xl:w-1/3 w-full",children:[(0,r.jsx)("h4",{className:"badge bg-green-100 text-green-800 text-base",children:"Enfant"}),(0,r.jsxs)("div",{className:"box w-full",children:[(0,r.jsx)("div",{className:"box-header",children:(0,r.jsx)("div",{className:"flex items-center w-full",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("i",{className:"ri-account-circle-line text-3xl absolute"}),(0,r.jsxs)("div",{className:"text-base font-semibold pl-12",children:[eM.PRENOM," ",eM.NOM.toUpperCase()]})]})})}),(0,r.jsx)("div",{className:"box-body",children:(0,r.jsx)("table",{children:(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"w-1/2 font-medium text-sm",children:"Date de naissance :"}),(0,r.jsx)("td",{className:"text-sm",children:(0,u.Ys)(eM.NAISSANCE_DATE)})]}),eM.NISS&&(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"w-1/2 font-medium text-sm",children:"Registre national :"}),(0,r.jsx)("td",{className:"text-sm",children:eM.NISS})]}),eM.TELEPHONE&&(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"w-1/2 font-medium text-sm",children:"Telephone :"}),(0,r.jsx)("td",{className:"text-sm",children:(0,u.fk)(eM.TELEPHONE)})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"w-1/2 font-medium text-sm",children:"Adresse compl\xe8te :"}),(0,r.jsxs)("td",{children:[ek.NUMERO,ek.NUM_BOITE?"/".concat(ek.NUM_BOITE):"",", ",ek.ADRESSE," ",ek.CODE_POSTAL," ",ek.LOCALITE]})]})]})})})]})]}),(0,r.jsxs)("div",{className:"xl:w-1/3 w-full",children:[(0,r.jsx)("h4",{className:"badge rounded-mb bg-yellow-100 text-yellow-800 text-base",children:eR.length>1?"Responsables":"Responsable"}),eR.map((e,t)=>(0,r.jsx)(n.Fragment,{children:(0,r.jsxs)("div",{className:"box",children:[(0,r.jsx)("div",{className:"box-header",children:(0,r.jsxs)("div",{className:"flex items-center w-full relative justify-between",children:[(0,r.jsx)("div",{className:"",children:(0,r.jsxs)("h3",{className:"text-base font-semibold pl-12",children:[e.PRENOM," ",e.NOM.toUpperCase()]})}),(0,r.jsx)("span",{className:"rounded-r-full pr-4 py-3.5 absolute -left-4 bg-secondary/10 text-secondary",children:(0,r.jsx)("i",{className:"ri-number-".concat(e.NUMERO_RESPONSABLE," pl-2")})})]})}),(0,r.jsx)("div",{className:"box-body",children:(0,r.jsx)("table",{children:(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"w-1/2 font-medium text-sm",children:"T\xe9l\xe9phone :"}),(0,r.jsx)("td",{className:"text-sm",children:(0,u.fk)(String(e.TELEPHONE))})]}),e.MAIL&&(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"w-1/2 font-medium text-sm",children:"Mail :"}),(0,r.jsx)("td",{className:"text-sm",children:e.MAIL})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"w-1/2 font-medium text-sm",children:"Adresse compl\xe8te :"}),(0,r.jsxs)("td",{className:"text-sm",children:[eF[t].NUMERO,eF[t].NUM_BOITE?"/".concat(eF[t].NUM_BOITE,", "):", ",eF[t].ADRESSE," ",eF[t].CODE_POSTAL," ",eF[t].LOCALITE]})]})]})})})]})},t))]}),(0,r.jsxs)("div",{className:"w-1/3",children:[(0,r.jsx)("h4",{className:"badge bg-pink-100 text-pink-800 text-base",children:"Activit\xe9s"}),ed.map((e,t)=>e?(0,r.jsx)(n.Fragment,{children:(0,r.jsx)("div",{className:"box",children:(0,r.jsx)("div",{className:"box-header",children:(0,r.jsx)("div",{className:"flex items-center w-full relative justify-between",children:(0,r.jsx)("div",{className:"",children:(0,r.jsx)("h3",{className:"text-base font-semibold pl-12",children:tl[t].LIBELLE})})})})})},t):null)]})]})]}),ex&&(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("h3",{className:"text-2xl font-semibold",children:"L'inscription a bien \xe9t\xe9 effectu\xe9e !"}),(0,r.jsx)("i",{className:"ri-checkbox-circle-line text-[150px] leading-none text-success relative",children:(0,r.jsx)("span",{className:"bg-success/10 rounded-full absolute w-4/5 h-[105px] bottom-[15%] left-[10%]"})})]}),(0,r.jsxs)(r.Fragment,{children:[ey+1>1&&eg&&(0,r.jsx)("button",{type:"button",className:"ti-btn !rounded-full ti-btn-outline ti-btn-outline-danger mt-6 focus:mt-6 focus:ti-btn focus:!rounded-full focus:ti-btn-danger",onClick:()=>{ev(!0),eP(e=>{let t=[...e];return t.splice(ey,1),t}),J(e=>{let t=[...e];return t.splice(ey,1),t}),eB(e=>{let t=[...e];return t.splice(ey,1),t}),eL(e=>e-1)},children:"Annuler"}),(eg||em||eN)&&(0,r.jsx)("button",{type:"button",className:"ti-btn !rounded-full ti-btn-outline ti-btn-outline-secondary mt-6 focus:mt-6 focus:ti-btn focus:!rounded-full focus:ti-btn-secondary",onClick:()=>{em?(eL(eR.length-1),eE(!1),ev(!0),e7("Responsable","Nouvelle inscription")):eN?(eh(!1),es(!0)):(eL(e=>e>0?e-1:0),0===ey&&(eh(!0),ev(!1),e7("Enfant","Nouvelle inscription")),et({}))},children:"Pr\xe9c\xe9dent"}),!em&&!ex&&(0,r.jsx)("button",{type:"button",className:"ti-btn !rounded-full ti-btn-outline ti-btn-outline-primary mt-6 focus:mt-6 focus:ti-btn focus:!rounded-full focus:ti-btn-primary",onClick:()=>{if(en){if(!e5())return;e7("Responsable","Nouvelle inscription"),es(!1),eh(!0)}if(eN&&(void 0===W[ey]&&eo[ey]&&eB(e=>{let t=[...e];return t[ey]={...ek},t}),eh(!1),ev(!0)),eg){if(ey<eR.length-1){if(!eq())return;eL(e=>e+1)}else eP(e=>{let t=[...e];return t[ey]||t.push({NOM:"",NUMERO_RESPONSABLE:0,TELEPHONE:0,TYPE_CIVILITE:0,UID:"".concat(Math.random())}),t[ey].NUMERO_RESPONSABLE=ey+1,t}),setTimeout(()=>{eq()&&(eE(!0),ev(!1),e7("R\xe9capitulatif","Nouvelle inscription"))},50)}},children:"Suivant"}),em&&(0,r.jsx)("button",{type:"button",className:"ti-btn !rounded-full ti-btn-outline ti-btn-outline-success mt-6 focus:mt-6 focus:ti-btn focus:!rounded-full focus:ti-btn-success",onClick:te,children:"Valider"}),eg&&ey===eR.length-1&&(0,r.jsx)("button",{type:"button",className:"ti-btn !rounded-full ti-btn-outline ti-btn-outline-info mt-6 focus:mt-6 focus:ti-btn focus:!rounded-full focus:ti-btn-info",onClick:()=>{eq()&&(eP(e=>{let t=[...e];return t[ey].NUMERO_RESPONSABLE=ey+1,t}),eL(e=>e+1),J(e=>{let t=[...e];return t.push(""),t}),eP(e=>{let t=[...e];return t.push({NUMERO_RESPONSABLE:0,TELEPHONE:32,NOM:"",PRENOM:"",REGISTRE_NATIONAL:"",TYPE_CIVILITE:null,MAIL:"",UID:"".concat(Math.random())}),t}),ec(e=>{let t=[...e];return t.push(!0),t}),eB(e=>{let t=[...e];return t.push({ADRESSE:ek.ADRESSE,CODE_POSTAL:ek.CODE_POSTAL,LOCALITE:ek.LOCALITE,NUMERO:ek.NUMERO}),t}))},children:"Ajouter un nouveau responsable"})]})]})]})})]})]})};f.layout="Contentlayout";let g=f},93107:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(74848),n=a(91106),s=a.n(n);a(96540);let l=e=>(0,r.jsxs)("div",{className:"block justify-between page-header md:flex",children:[(0,r.jsx)("div",{children:(0,r.jsx)("h3",{className:"text-gray-700 hover:text-gray-900 dark:text-white dark:hover:text-white text-2xl font-medium",children:e.currentpage})}),(0,r.jsxs)("ol",{className:"flex items-center whitespace-nowrap min-w-0",children:[(0,r.jsx)("li",{className:"text-sm",children:(0,r.jsxs)(s(),{className:"flex items-center font-semibold text-primary hover:text-primary dark:text-primary truncate",href:"#!",children:[e.activepage,(0,r.jsx)("i",{className:"ti ti-chevrons-right flex-shrink-0 mx-3 overflow-visible text-gray-300 dark:text-gray-300 rtl:rotate-180"})]})}),(0,r.jsx)("li",{className:"text-sm text-gray-500 hover:text-primary dark:text-white/70 ","aria-current":"page",children:e.mainpage})]})]})},40350:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var r=a(74848);a(96540);var n=a(13368),s=a.n(n);let l={src:"/orgaFlowDev/V11/_next/static/media/favicon.ab2d95a1.ico"},i=e=>{let{title:t}=e;return(0,r.jsxs)(s(),{children:[(0,r.jsx)("title",{children:"".concat(t)}),(0,r.jsx)("link",{href:l.src,rel:"icon"}),(0,r.jsx)("meta",{name:"description",content:"Synto - Nextjs Admin & Dashboard Template"}),(0,r.jsx)("meta",{name:"author",content:"Spruko Technologies Private Limited"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,r.jsx)("meta",{name:"keywords",content:"tailwind nextjs, dashboard tailwind, tailwind admin, nextjs tailwind, tailwind in nextjs, admin dashboard tailwind, tailwind dashboards, tailwind template admin, tailwind and nextjs, admin panel, template dashboard, admin dashboard template, admin panel template"})]})}},18940:(e,t,a)=>{"use strict";a.d(t,{EY:()=>c,JO:()=>d,LB:()=>s,Sg:()=>o,UG:()=>i,Yo:()=>E,iR:()=>l});var r=a(18322),n=a(14476);let s=n.z.object({MAIL:n.z.string().min(1),TEL:n.z.string().optional(),PASSWORD:n.z.string()}),l=n.z.object({MAIL:n.z.string().email().optional(),TELEPHONE:n.z.number().refine(e=>{let t=e.toString();return!(t.length<3)&&(0,r.Q7)("+".concat(t))},{message:"Le num\xe9ro doit contenir au moins 3 chiffres et \xeatre valide avec l'indicatif du pays.,"}),PASSWORD:n.z.string().min(1),TYPE_USER:n.z.number().min(1),FLAG_MAIL_VERIFIED:n.z.number().optional(),FLAG_TELEPHONE_VERIFIED:n.z.number().optional(),DATETIME_CREATION:n.z.string().datetime().min(1),CODE_PIN:n.z.number().optional()}),i=n.z.object({ID:n.z.number().optional(),NOM:n.z.string().min(1),PRENOM:n.z.string().optional(),REGISTRE_NATIONAL:n.z.string().optional(),TYPE_CIVILITE:n.z.number().refine(e=>e>=0&&e<=2,{message:"Vous devez choisir un genre"}),NUMERO_RESPONSABLE:n.z.number(),UID:n.z.string().min(1),TELEPHONE:n.z.number().refine(e=>{let t=e.toString();return(0,r.Q7)("+".concat(t))},{message:"Le num\xe9ro doit \xeatre valide avec le format du pays."}),MAIL:n.z.string().email().optional()});n.z.object({username:n.z.string().min(1),password:n.z.string().min(1)});let o=n.z.object({NOM:n.z.string().min(1),ELEVE_ID:n.z.number().optional(),PRENOM:n.z.string().optional(),SEXE_TYPE:n.z.string().min(1),LIEU_NAISSANCE:n.z.string().min(1),CODE_PAYS_NAIS:n.z.string().optional(),NAISSANCE_DATE:n.z.string().datetime({local:!0}).min(1),CODE_NATIONALITE:n.z.string().optional(),NISS:n.z.string().optional(),TELEPHONE:n.z.string().optional().refine(e=>!e||e.length<3||(0,r.Q7)("+".concat(e)),{message:"le num\xe9ro doit contenir au moins 3 chiffres et быть valide avec l'indicatif du pays."})}),c=n.z.object({ADRESSE_ID:n.z.number().optional(),ELEVE_ID:n.z.number().optional(),RESPONSABLE_ID:n.z.number().optional(),ADRESSE:n.z.string().min(1),NUMERO:n.z.string().min(1),CODE_POSTAL:n.z.number().min(4).nullable(),LOCALITE:n.z.string().min(1),NUM_BOITE:n.z.string().optional(),CODE_POSTAL2:n.z.string().optional()}),d=n.z.object({LIBELLE:n.z.string().min(1),MONTANT:n.z.number().min(1).nullable(),ANNEE_SCOLAIRE:n.z.number().min(1),TYPE_FRAIS:n.z.number().min(0),DATE_FRAIS:n.z.string().optional(),DATE_ECHEANCE:n.z.string().datetime().optional(),DATE_FRAIS_FIN:n.z.string().datetime().optional(),FRAIS_ID:n.z.number().optional(),CATEGORIE_ID:n.z.number()});n.z.object({FRAIS_INSCRIPTION_ID:n.z.number().optional(),ELEVE_ID:n.z.number(),FRAIS_ID:n.z.number(),DATE_INSCRIPTION:n.z.string().datetime({local:!0}),DATE_DEPART:n.z.string().datetime({local:!0}).optional()}),n.z.object({FRAIS_ITEM_ID:n.z.number().optional(),FRAIS_PARENT_ID:n.z.number().optional(),LIBELLE:n.z.string().optional(),PRIX:n.z.number().optional()}),n.z.object({FRAIS_ITEM_ELEVE_ID:n.z.number().optional(),FRAIS_ITEM_ID:n.z.number().optional(),ELEVE_ID:n.z.number().optional(),QTE:n.z.number().optional(),COUT_UNIT:n.z.number(),COUT_TOTAL:n.z.number().optional(),DATE_FRAIS:n.z.string().datetime({local:!0}),DATE_MODIF:n.z.string().optional(),USER_ENCODE:n.z.string().optional(),USER_ID:n.z.number().optional(),PROF_ID:n.z.string().optional()});let u=n.z.object({ELEVE_ID:n.z.number().optional(),FRAIS_ID:n.z.number(),LIBELLE:n.z.string(),COUT_TOTAL:n.z.number(),COMMUNICATION_STRUCTUREE:n.z.string().optional()}),m=n.z.object({ELEVE_ID:n.z.number(),FRAIS_ITEM:n.z.array(u)});n.z.array(m),n.z.object({COUT_TOTAL:n.z.number(),MONTANT_PAYE:n.z.number(),BALANCE:n.z.number()}),n.z.object({ELEVE_ID:n.z.number(),COUT_TOTAL:n.z.number(),MONTANT_PAYE:n.z.number(),BALANCE:n.z.number()}),n.z.object({ELEVE_ID:n.z.number(),FRAIS_ID:n.z.number(),LIBELLE:n.z.string(),DATE_FRAIS:n.z.string().datetime({local:!0})}),n.z.object({ID:n.z.number(),REFERENCE:n.z.string(),ID_REFERENCE:n.z.string(),LIBELLE_REFERENCE:n.z.string()});let E=n.z.object({FRAIS_PAIEMENT_ID:n.z.number().optional(),ELEVE_ID:n.z.number(),MONTANT:n.z.number().optional(),TYPE_PAIEMENT:n.z.number(),DATE_PAIEMENT:n.z.string().datetime({local:!0}),FRAIS_ID:n.z.number(),REMARQUE:n.z.string(),FLG_REMBOURSEMENT:n.z.number(),EXTRAIT_ID:n.z.number(),ANNEE_SCOLAIRE:n.z.number(),PARENT_PAIEMENT_ID:n.z.number(),TRANSFERT_LIER_ID:n.z.number(),MODULE_TYPE_TRANSFERT:n.z.number()})},86857:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var r=a(94335),n=a(18987),s=a(18322);new AbortController;let l=r.A.create({baseURL:"https://rest.econcept.be"});l.interceptors.request.use(async e=>{await (0,s.RI)();let t=n.A.get("secret");return t&&(e.headers.Secret=t),e},e=>Promise.reject(e)),l.interceptors.response.use(e=>((0,s.cH)(),e),e=>Promise.reject(e));let i=l},95977:(e,t,a)=>{"use strict";a.d(t,{w:()=>o});var r=a(18987),n=a(94335),s=a(18322);let l=null,i=new AbortController,o=()=>{if(!l){let e=r.A.get("ip");if(!e)throw window.location.href="/",Error("IP non d\xe9finie dans les cookies.");(l=n.A.create({baseURL:e})).interceptors.request.use(async e=>{try{if(!await (0,s.RI)())return Promise.reject(Error("No session token"));let t=r.A.get("session-token"),a=r.A.get("tenant-id"),n=r.A.get("tenant-secret");return t&&(e.headers["X-Embarcadero-Session-Token"]=t),a&&(e.headers["X-Embarcadero-Tenant-Id"]=a),n&&(e.headers["X-Embarcadero-Tenant-Secret"]=n),e.signal=i.signal,e}catch(e){return Promise.reject(e)}},e=>Promise.reject(e)),l.interceptors.response.use(e=>((0,s.cH)(),e),e=>Promise.reject(e))}return l}},66503:(e,t,a)=>{"use strict";a.d(t,{X:()=>l,i:()=>i});var r=a(11011),n=a(50810),s=a(84477);n.registerLocale(s);let l=r.i4.map(e=>{let t=(0,r.Ot)(e);return t.name=n.getName(t.iso2,"fr")||t.name,(0,r.vg)(t)}),i=["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"]},6861:(e,t,a)=>{"use strict";a.d(t,{B:()=>d,s:()=>c});var r=a(74848),n=a(96540),s=a(86857),l=a(95977);let i=()=>navigator.onLine,o=()=>{alert("No internet connection. Please check your network and try again.")},c=(e,t,a)=>{let[r,c]=(0,n.useState)(null),[d,u]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{(async()=>{try{if(!i()){o(),c({data:null,error:{message:"No internet connection"}}),u(!1);return}let r=new URLSearchParams;a&&Object.entries(a).forEach(e=>{let[t,a]=e;Array.isArray(a)||"object"==typeof a?r.append(t,JSON.stringify(a)):r.append(t,a)});let n="".concat(e,"?").concat(r.toString()),m=(0,l.w)(),E=t?await s.A.get(e):await m.get(n);d&&(c({data:E.data,error:null}),u(!1))}catch(e){d&&(c({data:null,error:e}),u(!1))}})()},[e,t,a]),{result:r,loading:d}},d=e=>{if(e)return(0,r.jsx)("svg",{className:"h-5 w-5 text-danger absolute top-[45%] right-8",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:(0,r.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"})})}},18322:(e,t,a)=>{"use strict";a.d(t,{FI:()=>A,Fd:()=>f,LS:()=>v,Q7:()=>h,RI:()=>b,We:()=>m,Wv:()=>S,Ys:()=>E,ZH:()=>O,cH:()=>p,eV:()=>I,fk:()=>N,sS:()=>g,wj:()=>x});var r=a(87e3),n=a(18987),s=a(86715),l=a.n(s),i=a(95977),o=a(86857);let c=()=>navigator.onLine,d=()=>{alert("No internet connection. Please check your network and try again.")},u=r.PhoneNumberUtil.getInstance(),m=e=>"".concat(e[0]).concat(e.slice(1).toLowerCase()),E=e=>{let t=new Date(e),a=t.getDate().toString().padStart(2,"0"),r=(t.getMonth()+1).toString().padStart(2,"0");return"".concat(a,"/").concat(r,"/").concat(t.getFullYear())},N=e=>{try{let t=u.parse("+".concat(e)),a=u.format(t,r.PhoneNumberFormat.INTERNATIONAL);return"".concat(a)}catch(e){return console.error(e),""}},h=e=>{try{return u.isValidNumber(u.parseAndKeepRawInput(e))}catch(e){return!1}},x=e=>e?new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())).toISOString():new Date(Date.UTC(new Date().getFullYear(),new Date().getMonth(),new Date().getDate())).toISOString(),p=()=>{let e=n.A.get("session-token");e&&n.A.set("session-token",e,{path:"/",secure:!0,sameSite:"strict",expires:new Date(new Date().getTime()+24e5)})},b=async()=>!!n.A.get("session-token")||(await l().replace("/"),!1),f=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"json";try{if(!c())return d(),{result:{data:null,error:{message:"No internet connection"}},loading:!1};let n=new URLSearchParams;a&&Object.entries(a).forEach(e=>{let[t,a]=e;Array.isArray(a)||"object"==typeof a?n.append(t,JSON.stringify(a)):n.append(t,a)});let s={responseType:r},l="".concat(e,"?").concat(n.toString()),u=(0,i.w)();return{result:{data:(t?await (0,o.A)(l,s):await u(l,s)).data,error:null},loading:!1}}catch(e){return{result:{data:null,error:e},loading:!1}}},g=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0;try{if(!c())return d(),{data:null,error:{message:"No internet connection"}};let r=(0,i.w)();return{data:(t?await o.A.put(e,a):await r.put(e,a)).data,error:null}}catch(e){return{data:null,error:e}}},v=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0;try{if(!c())return d(),{data:null,error:{message:"No internet connection"}};let r=(0,i.w)();return{data:(t?await o.A.post(e,a):await r.post(e,a)).data,error:null}}catch(e){return{data:null,error:e}}},S=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{if(!c())return d(),{data:null,error:{message:"No internet connection"}};let a=(0,i.w)();return{data:(t?await o.A.delete(e):await a.delete(e)).data,error:null}}catch(e){return{data:null,error:e}}},A=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0;try{if(!c())return d(),{data:null,error:{message:"No internet connection"}};let r=(0,i.w)();return{data:(t?await o.A.patch(e,a):await r.patch(e,a)).data,error:null}}catch(e){return{data:null,error:e}}},I=e=>e?e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase():"",O=e=>{if(!(e instanceof Date)||isNaN(e.getTime()))throw Error("Date invalide pass\xe9e \xe0 extractMonthDays");return{FirstDayOfMonth:x(new Date(e.getFullYear(),e.getMonth(),1,0,0,0,0)),LastDayOfMonth:x(new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999))}}},74148:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[374,833,718,150,476,552,328,636,593,792],()=>t(96088)),_N_E=e.O()}]);