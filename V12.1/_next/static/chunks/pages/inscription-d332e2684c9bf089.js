(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[890],{96088:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/inscription",function(){return a(25151)}])},93503:(e,t,a)=>{"use strict";function s(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}a.d(t,{A:()=>s})},20068:(e,t,a)=>{"use strict";function s(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}a.d(t,{A:()=>s})},52496:(e,t,a)=>{"use strict";function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a.d(t,{A:()=>r});var l=a(93503);function r(e){(0,l.A)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===s(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(Error().stack)),new Date(NaN))}},25151:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>S});var s=a(74848),l=a(96540),r=a(59386),n=a.n(r),i=a(20757);a(77571);var o=a(40350),d=a(93107),c=a(18940),u=a(18322),m=a(6861),E=a(86715),N=a(20068),x=a(52496),p=a(93503),b=a(11011);a(74148);var h=a(66503);let f=()=>{var e,t,a,r,f,S,v,I,g,A,O,j,T,L,_,y;let D=(0,E.useRouter)(),R=(0,l.useRef)(),C=(0,l.useRef)(),w=(0,l.useRef)(),[M,P]=(0,l.useState)(""),[z,U]=(0,l.useState)("Nouvelle inscription"),[k,F]=(0,l.useState)("Enfant"),[B,V]=(0,l.useState)([""]),[Y,J]=(0,l.useState)([""]),[H,X]=(0,l.useState)(""),[G,Q]=(0,l.useState)(void 0),[q,K]=(0,l.useState)([void 0]),[W,Z]=(0,l.useState)(null),[$,ee]=(0,l.useState)({}),[et,ea]=(0,l.useState)({}),[es,el]=(0,l.useState)(!0),[er,en]=(0,l.useState)(!1),[ei,eo]=(0,l.useState)([!0]),[ed,ec]=(0,l.useState)([]),[eu,em]=(0,l.useState)([]),[eE,eN]=(0,l.useState)(!1),[ex,ep]=(0,l.useState)(!1),[eb,eh]=(0,l.useState)(!1),[ef,eS]=(0,l.useState)(!1),[ev,eI]=(0,l.useState)(!1),[eg,eA]=(0,l.useState)(!1),[eO,ej]=(0,l.useState)([!1]),[eT,eL]=(0,l.useState)(!1),[e_,ey]=(0,l.useState)(),[eD,eR]=(0,l.useState)(0),[eC,ew]=(0,l.useState)([]),[eM,eP]=(0,l.useState)(null),[ez,eU]=(0,l.useState)(null),[ek,eF]=(0,l.useState)({NOM:"",NUMERO_RESPONSABLE:0,TELEPHONE:0,UID:""}),[eB,eV]=(0,l.useState)([{NOM:"",NUMERO_RESPONSABLE:0,TELEPHONE:32,UID:"".concat(Math.random())}]),[eY,eJ]=(0,l.useState)({NAISSANCE_DATE:"",NOM:"",CODE_PAYS_NAIS:"IND",CODE_NATIONALITE:"BE"}),[eH,eX]=(0,l.useState)({ADRESSE:"",CODE_POSTAL:0,LOCALITE:"",NUMERO:"",NUM_BOITE:""}),[eG,eQ]=(0,l.useState)([{ADRESSE:"",CODE_POSTAL:0,LOCALITE:"",NUMERO:"",NUM_BOITE:"",ADRESSE_ID:0}]),eq=e=>{eV(t=>t.map((t,a)=>a===eD?{...t,TELEPHONE:Number(e)}:t)),ee(e=>({...e,TELEPHONE:!1})),void 0!==q[eD]&&ej(e=>e.map((e,t)=>t===eD||e))},eK=e=>{let{name:t,value:a,type:s}=e.target;ee(e=>({...e,[t]:!1})),void 0!==q[eD]&&ej(e=>e.map((e,t)=>t===eD||e)),ej(e=>{let t=[...e];return t[eD]||t.push(!0),t[eD]=!0,t}),eQ(e=>{let l=[...e];return l[eD]||l.push({ADRESSE:"",CODE_POSTAL:0,LOCALITE:"",NUMERO:"",NUM_BOITE:"",ADRESSE_ID:0}),l[eD]={...l[eD],[t]:"number"===s?Number(a):a},l})},eW=e=>{let{name:t,value:a}=e.target;eV(e=>e.map((e,s)=>s===eD?{...e,[t]:a}:e)),void 0!==q[eD]&&ej(e=>e.map((e,t)=>t===eD||e)),ee(e=>({...e,[t]:!1}))},eZ=async e=>{var t,a;ej(e=>{let t=[...e];return t[eD]=!0,t.push(!1),t}),tl();let{result:s}=await (0,u.Fd)("/adresse/responsable/".concat(e.ID));null==s||s.data;let l=null!==(t=null==s?void 0:s.error)&&void 0!==t?t:null;if(l){alert(JSON.stringify(null===(a=l.response)||void 0===a?void 0:a.data));return}eQ(e=>{let t=[...e];return t[eD]||t.push({ADRESSE:"",CODE_POSTAL:0,LOCALITE:"",NUMERO:"",NUM_BOITE:"",ADRESSE_ID:0}),alert(JSON.stringify(t[eD])),t}),eV(t=>t.map((t,a)=>{var s;return a===eD?{NOM:e.NOM,PRENOM:e.PRENOM,REGISTRE_NATIONAL:e.REGISTRE_NATIONAL,DATE_NAISSANCE:e.DATE_NAISSANCE,TYPE_CIVILITE:e.TYPE_CIVILITE,NUMERO_RESPONSABLE:e.NUMERO_RESPONSABLE,UID:e.UID,TELEPHONE:e.TELEPHONE,MAIL:null!==(s=e.MAIL)&&void 0!==s?s:"",QUALITE:e.QUALITE}:t})),K(t=>{let a=[...t];return a[eD]||a.push(void 0),a[eD]=e.ID,a}),V(t=>{let a=[...t];return a[eD]||(a[eD]=""),a[eD]=0===e.TYPE_CIVILITE?"Gar\xe7on":1===e.TYPE_CIVILITE?"Fille":2===e.TYPE_CIVILITE?"Autres":"",a}),eA(!0)},e$=()=>{let e=c.EY.safeParse(eG[eD]);if(!e.success){let t=Object.keys(e.error.flatten().fieldErrors).reduce((e,t)=>(e[t]=!0,e),{});return ee(e=>({...e,...t})),!1}return!0},e0=()=>{let e=c.UG.safeParse(eB[eD]);if(!e.success){let t=Object.keys(e.error.flatten().fieldErrors).reduce((e,t)=>(e[t]=!0,e),{});return ee({...t}),alert(JSON.stringify(t)),e$(),!1}return e$()},e1=async(e,t)=>{ed[t]?ec(e=>{let a=[...e];return a[t]=!1,a}):ec(e=>{let a=[...e];return a[t]=!0,a})},e2=async(e,t)=>{eu[t]?em(e=>{let a=[...e];return a[t]=!1,a}):em(e=>{let a=[...e];return a[t]=!0,a})},e6=e=>{eJ(t=>({...t,NAISSANCE_DATE:e?(0,u.wj)(e):""})),ey(e),ea(e=>({...e,NAISSANCE_DATE:!1})),void 0!==G&&eL(!0)},e5=e=>{let{name:t,value:a,type:s}=e.target;eX(e=>({...e,[t]:"number"===s?Number(a):a})),ea(e=>({...e,[t]:!1})),void 0!==G&&eL(!0)},e7=e=>{let{name:t,value:a}=e.target;ea(e=>({...e,[t]:!1})),eJ(e=>({...e,[t]:a})),void 0!==G&&eL(!0)},e8=async e=>{var t,a,s;if("key"in e&&"Enter"!==e.key)return;let{result:l}=await (0,u.Fd)("/eleves/datenaissance/".concat((0,u.wj)(new Date(eY.NAISSANCE_DATE)))),r=null!==(t=null==l?void 0:l.data)&&void 0!==t?t:[],n=null!==(a=null==l?void 0:l.error)&&void 0!==a?a:null;if(n){alert(JSON.stringify(null===(s=n.response)||void 0===s?void 0:s.data));return}ew(r),r.length>0?eI(!0):eI(!1)},e3=async e=>{var t,a,s,l,r,n,i,o;tl(),Q(e.ELEVE_ID);let{result:d}=await (0,u.Fd)("/responsableEleve/Eleve/".concat(e.ELEVE_ID)),{result:c}=await (0,u.Fd)("/adresse/eleve/".concat(e.ELEVE_ID)),m=null!==(t=null==d?void 0:d.error)&&void 0!==t?t:null;if(m){alert(JSON.stringify(null===(a=m.response)||void 0===a?void 0:a.data));return}let E=null!==(s=null==c?void 0:c.error)&&void 0!==s?s:null;if(E){alert(JSON.stringify(null===(l=E.response)||void 0===l?void 0:l.data));return}let N=Array.isArray(null==d?void 0:d.data)?d.data:[],x=null!==(r=null==c?void 0:c.data)&&void 0!==r?r:null;if(eX(x),N.length>0){let e=N.map(e=>(0,u.Fd)("/responsables/".concat(e.ID_RESPONSABLE))),t=await Promise.all(e),a=t.map((e,t)=>{var a,s;let l=null===(a=e.result)||void 0===a?void 0:a.error;if(l){let e=JSON.stringify(null===(s=l.response)||void 0===s?void 0:s.data)||"Erreur inconnue";return"Erreur responsable ".concat(t+1,": ").concat(e)}return null}).filter(Boolean);if(a.length>0){alert("Des erreurs sont survenues lors de la r\xe9cup\xe9ration des responsables :\n\n".concat(a.join("\n")));return}let s=t.map(e=>{var t;return null===(t=e.result)||void 0===t?void 0:t.data}).filter(Boolean);for(let e=0;e<s.length;e++){let t=s[e];K(a=>{let s=[...a];return s[e]=t.ID,s}),eV(a=>{let s=[...a];return s[e]={...t},s}),V(a=>{let s=[...a];return s[e]=0===t.TYPE_CIVILITE?"Gar\xe7on":1===t.TYPE_CIVILITE?"Fille":2===t.TYPE_CIVILITE?"Autres":"",s});let{result:a}=await (0,u.Fd)("/adresse/responsable/".concat(t.ID)),l=null!==(n=null==a?void 0:a.error)&&void 0!==n?n:null;if(l){alert(JSON.stringify(null===(i=l.response)||void 0===i?void 0:i.data));return}let r=null!==(o=null==a?void 0:a.data)&&void 0!==o?o:null;if(r){eQ(t=>{let a=[...t];return a[e]=r,a});let t=JSON.stringify({ADRESSE:x.ADRESSE,CODE_POSTAL:x.CODE_POSTAL,LOCALITE:x.LOCALITE,NUMERO:x.NUMERO,NUM_BOITE:x.NUM_BOITE})===JSON.stringify({ADRESSE:r.ADRESSE,CODE_POSTAL:r.CODE_POSTAL,LOCALITE:r.LOCALITE,NUMERO:r.NUMERO,NUM_BOITE:r.NUM_BOITE});eo(a=>{let s=[...a];return s[e]=t,s})}}}eJ(t=>({...t,NOM:e.NOM,PRENOM:e.PRENOM,SEXE_TYPE:e.SEXE_TYPE,LIEU_NAISSANCE:e.LIEU_NAISSANCE,CODE_PAYS_NAIS:e.CODE_PAYS_NAIS,NAISSANCE_DATE:e.NAISSANCE_DATE,CODE_NATIONALITE:e.CODE_NATIONALITE,NISS:e.NISS,TELEPHONE:e.TELEPHONE})),X("M"===e.SEXE_TYPE?"Gar\xe7on":"F"===e.SEXE_TYPE?"Fille":"X"===e.SEXE_TYPE?"Autres":""),ea({})},e4=()=>{let e=c.EY.safeParse(eH);if(!e.success){let t=Object.keys(e.error.flatten().fieldErrors).reduce((e,t)=>(e[t]=!0,e),{});return ea(e=>({...e,...t})),!1}return!0},e9=()=>{console.log(eH);let e=c.Sg.safeParse(eY);return e.success?e4():(ea({...Object.keys(e.error.flatten().fieldErrors).reduce((e,t)=>(e[t]=!0,e),{})}),e4(),!1)},te=()=>{eS(e=>!e),eN(!1),setTimeout(()=>{D.reload()},1e3)},tt=(e,t)=>{U(t),F(e)},ta=e=>{let t=e.target.selectedOptions[0];if(!t)return;let a={0:"M",1:"F",2:"X"}[t.dataset.type]||"";es?(X(t.value),""!==a&&ea(e=>({...e,SEXE_TYPE:!1})),eJ(e=>({...e,SEXE_TYPE:a}))):(V(t=>t.map((t,a)=>a===eD?e.target.selectedOptions[0].value:t)),eV(t=>t.map((t,a)=>a===eD?{...t,TYPE_CIVILITE:Number(e.target.selectedOptions[0].dataset.type)}:t)),ee(e=>({...e,TYPE_CIVILITE:!1})))},ts=()=>{if(ev){let e=document.querySelector("#researchResult");setTimeout(()=>window.HSOverlay.open(e),50),eI(!1)}},tl=()=>{let e=document.querySelector("#researchResult");window.HSOverlay.close(e)},tr=async()=>{var e,t,a,s,l,r,n,i,o,d,c,m,E;let N=0;if(void 0!==G&&eT){let l={...eY,ELEVE_ID:G},{data:r,error:n}=await (0,u.FI)("/eleves",!1,l);if(n){alert(JSON.stringify(null===(e=n.response)||void 0===e?void 0:e.data));return}let{data:i,error:o}=await (0,u.FI)("/adresse",!1,eH);if(o){alert(JSON.stringify(null===(t=o.response)||void 0===t?void 0:t.data));return}for(let e=0;e<ed.length;e++)if(ed[e]){let t={ELEVE_ID:G,FRAIS_ID:eM[e].FRAIS_ID,DATE_INSCRIPTION:(0,u.wj)(new Date)},{data:s,error:l}=await (0,u.sS)("/fraisinscription",!1,t);if(l){alert(JSON.stringify(null===(a=l.response)||void 0===a?void 0:a.data));return}console.log(s)}for(let e=0;e<eu.length;e++)if(eu[e]){let t={ELEVE_ID:G,FRAIS_ID:ez[e].FRAIS_ID},{data:a,error:l}=await (0,u.sS)("/fraiseleve",!1,t);if(l){alert(JSON.stringify(null===(s=l.response)||void 0===s?void 0:s.data));return}console.log(a)}}else if(void 0===G){let{data:e,error:t}=await (0,u.sS)("/eleves",!1,eY);if(t){alert(JSON.stringify(null===(l=t.response)||void 0===l?void 0:l.data));return}N=e.ELEVE_ID;let a={...eH,ELEVE_ID:N},{data:s,error:o}=await (0,u.sS)("/adresse",!1,a);if(o){alert(JSON.stringify(null===(r=o.response)||void 0===r?void 0:r.data));return}for(let e=0;e<ed.length;e++)if(console.log(ed[e]),ed[e]){let t={ELEVE_ID:N,FRAIS_ID:eM[e].FRAIS_ID,DATE_INSCRIPTION:(0,u.wj)(new Date)},{data:a,error:s}=await (0,u.sS)("/fraisinscription",!1,t);if(s){alert(JSON.stringify(null===(n=s.response)||void 0===n?void 0:n.data));return}console.log(a)}for(let e=0;e<eu.length;e++)if(eu[e]){let t={ELEVE_ID:N,FRAIS_ID:ez[e].FRAIS_ID},{data:a,error:s}=await (0,u.sS)("/fraiseleve",!1,t);if(s){alert(JSON.stringify(null===(i=s.response)||void 0===i?void 0:i.data));return}console.log(a)}}for(let e=0;e<eB.length;e++){let t=eB[e];if(void 0!==q[e]&&eO[e]){let a={...t,ID:q[e]},{data:s,error:l}=await (0,u.FI)("/responsables",!1,a);if(l){alert(JSON.stringify(null===(o=l.response)||void 0===o?void 0:o.data));return}let r={ADRESSE_ID:eG[e].ADRESSE_ID,ADRESSE:eG[e].ADRESSE,NUMERO:eG[e].NUMERO,CODE_POSTAL:eG[e].CODE_POSTAL,LOCALITE:eG[e].LOCALITE,NUM_BOITE:eG[e].NUM_BOITE,CODE_POSTAL2:eG[e].CODE_POSTAL2};console.log("\uD83D\uDCE6 Donn\xe9es patch envoy\xe9es \xe0 Axios :",r);let{error:n}=await (0,u.FI)("/adresse",!1,r);if(n){alert(JSON.stringify(null===(d=n.response)||void 0===d?void 0:d.data));return}}else if(void 0===q[e]){let{data:a,error:s}=await (0,u.sS)("/responsables",!1,t);if(s){alert(JSON.stringify(null===(c=s.response)||void 0===c?void 0:c.data));return}let l={ID_RESPONSABLE:a.ID,ID_ELEVE:void 0!==G?G:N},{data:r,error:n}=await (0,u.sS)("/responsableEleve",!1,l);if(n){alert(JSON.stringify(null===(m=n.response)||void 0===m?void 0:m.data));return}let i={...eG[e],RESPONSABLE_ID:a.ID},{data:o,error:d}=await (0,u.sS)("/adresse",!1,i);if(d){alert(JSON.stringify(null===(E=d.response)||void 0===E?void 0:E.data));return}}}te()};(0,l.useEffect)(()=>{if(!ef){P(window.location.href);let e=e=>{if(!er){if(window.confirm("Voulez-vous vraiment quitter cette page ?"))en(!0);else throw D.events.emit("routeChangeError"),window.history.pushState(null,"",M),Error("Navigation annul\xe9e")}},t=e=>{e.preventDefault(),e.returnValue=""};return window.addEventListener("beforeunload",t),D.events.on("routeChangeStart",e),()=>{window.removeEventListener("beforeunload",t),D.events.off("routeChangeStart",e)}}},[D,er,M,ef]),(0,l.useEffect)(()=>{ts()},[ev]),(0,l.useEffect)(()=>{let e=localStorage.getItem("annee");console.log(e),e&&Z(e)},[]),(0,l.useEffect)(()=>{if(W){let e=async()=>{var e,t,a;let{result:s}=await (0,u.Fd)("/frais/typefrais/0",!1,{AnneeScolaire:W}),l=null!==(e=null==s?void 0:s.data)&&void 0!==e?e:null,r=null!==(t=null==s?void 0:s.error)&&void 0!==t?t:null;if(r){alert(JSON.stringify(null===(a=r.response)||void 0===a?void 0:a.data));return}eU(l)};(async()=>{var e,t,a;let{result:s}=await (0,u.Fd)("/frais/typefrais/2",!1,{AnneeScolaire:W}),l=null!==(e=null==s?void 0:s.data)&&void 0!==e?e:null,r=null!==(t=null==s?void 0:s.error)&&void 0!==t?t:null;if(r){alert(JSON.stringify(null===(a=r.response)||void 0===a?void 0:a.data));return}eP(l)})(),e()}},[W]);let{result:tn}=(0,m.s)("/listtype/reference/TYPE_CIVILITE",!0),{result:ti}=(0,m.s)("/listtype/reference/TYPE_QUALITE",!0),to=null!==(O=null==tn?void 0:tn.data)&&void 0!==O?O:[],td=null!==(j=null==tn?void 0:tn.error)&&void 0!==j?j:null,tc=null!==(T=null==ti?void 0:ti.data)&&void 0!==T?T:[],tu=null!==(L=null==ti?void 0:ti.error)&&void 0!==L?L:null;if(td){alert(JSON.stringify(null===(_=td.response)||void 0===_?void 0:_.data));return}if(tu){alert(JSON.stringify(null===(y=tu.response)||void 0===y?void 0:y.data));return}return(0,l.useEffect)(()=>{(null==eM?void 0:eM.length)&&ec(Array(eM.length).fill(!1))},[null==eM?void 0:eM.length]),(0,l.useEffect)(()=>{R.current&&R.current.setState({open:!1})},[]),(0,s.jsxs)("div",{children:[(0,s.jsx)(o.A,{title:"Inscription"}),(0,s.jsx)(d.A,{currentpage:z,mainpage:k,activepage:"Inscription"}),(0,s.jsxs)("div",{className:"grid grid-cols-12 gap-6",children:[(0,s.jsx)("div",{id:"researchResult",className:"hs-overlay hidden ti-modal",children:(0,s.jsx)("div",{className:"hs-overlay-open:mt-7 ti-modal-box mt-0 ease-out lg:!max-w-4xl lg:w-full m-3 lg:!mx-auto",children:(0,s.jsxs)("div",{className:"ti-modal-content",children:[(0,s.jsxs)("div",{className:"ti-modal-header",children:[(0,s.jsx)("h3",{className:"ti-modal-title",children:"Resultat de recherche"}),(0,s.jsxs)("button",{type:"button",className:"hs-dropdown-toggle ti-modal-close-btn","data-hs-overlay":"#researchResult",children:[(0,s.jsx)("span",{className:"sr-only",children:"Fermer"}),(0,s.jsx)("svg",{className:"w-3.5 h-3.5",width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M0.258206 1.00652C0.351976 0.912791 0.479126 0.860131 0.611706 0.860131C0.744296 0.860131 0.871447 0.912791 0.965207 1.00652L3.61171 3.65302L6.25822 1.00652C6.30432 0.958771 6.35952 0.920671 6.42052 0.894471C6.48152 0.868271 6.54712 0.854471 6.61352 0.853901C6.67992 0.853321 6.74572 0.865971 6.80722 0.891111C6.86862 0.916251 6.92442 0.953381 6.97142 1.00032C7.01832 1.04727 7.05552 1.1031 7.08062 1.16454C7.10572 1.22599 7.11842 1.29183 7.11782 1.35822C7.11722 1.42461 7.10342 1.49022 7.07722 1.55122C7.05102 1.61222 7.01292 1.6674 6.96522 1.71352L4.31871 4.36002L6.96522 7.00648C7.05632 7.10078 7.10672 7.22708 7.10552 7.35818C7.10442 7.48928 7.05182 7.61468 6.95912 7.70738C6.86642 7.80018 6.74102 7.85268 6.60992 7.85388C6.47882 7.85498 6.35252 7.80458 6.25822 7.71348L3.61171 5.06702L0.965207 7.71348C0.870907 7.80458 0.744606 7.85498 0.613506 7.85388C0.482406 7.85268 0.357007 7.80018 0.264297 7.70738C0.171597 7.61468 0.119017 7.48928 0.117877 7.35818C0.116737 7.22708 0.167126 7.10078 0.258206 7.00648L2.90471 4.36002L0.258206 1.71352C0.164476 1.61976 0.111816 1.4926 0.111816 1.36002C0.111816 1.22744 0.164476 1.10028 0.258206 1.00652Z",fill:"currentColor"})})]})]}),(0,s.jsxs)("div",{className:"ti-modal-body",children:[eC.length>0&&es&&(0,s.jsxs)(s.Fragment,{children:[eC.map(e=>(0,s.jsx)("div",{className:"xxl:col-span-3 col-span-12",children:(0,s.jsx)("div",{className:"box !bg-text-dark text-dark",children:(0,s.jsx)("div",{className:"box-body",children:(0,s.jsx)("button",{type:"button",onClick:()=>e3(e),className:"flex items-center w-full",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-base font-semibold",children:"".concat(e.PRENOM," ").concat(e.NOM)}),(0,s.jsx)("p",{className:"mb-0 text-text-dark opacity-70 text-xs",children:(0,u.Ys)(e.NAISSANCE_DATE)})]})})})})},e.ELEVE_ID)),(0,s.jsx)("div",{className:"box !bg-primary text-white mt-6",children:(0,s.jsx)("div",{className:"box-body",children:(0,s.jsx)("button",{type:"button",className:"flex items-center w-full",onClick:()=>{tl(),el(!0)},children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("i",{className:"ri-account-circle-line text-5xl"}),(0,s.jsx)("div",{className:"text-base font-semibold",children:"Cr\xe9er un nouvel enfant"})]})})})})]}),ek&&eg&&(0,s.jsx)("div",{className:"xxl:col-span-3 col-span-12",children:(0,s.jsx)("div",{className:"box !bg-text-dark text-dark",children:(0,s.jsx)("div",{className:"box-body",children:(0,s.jsx)("button",{type:"button",onClick:()=>eZ(ek),className:"flex items-center w-full",children:(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)("div",{className:"text-base font-semibold",children:"".concat(null==ek?void 0:ek.PRENOM," ").concat(null==ek?void 0:ek.NOM)}),(0,s.jsx)("p",{className:"mb-0 text-text-dark opacity-70 text-xs",children:null==ek?void 0:ek.REGISTRE_NATIONAL})]})})})})})]}),(0,s.jsx)("div",{className:"ti-modal-footer",children:(0,s.jsx)("button",{type:"button",className:"hs-dropdown-toggle ti-btn ti-border font-medium bg-white text-gray-700 shadow-sm align-middle hover:bg-gray-50 focus:ring-offset-white focus:ring-primary dark:bg-bgdark dark:hover:bg-black/20 dark:border-white/10 dark:text-white/70 dark:hover:text-white dark:focus:ring-offset-white/10","data-hs-overlay":"#researchResult",children:"Fermer"})})]})})}),(0,s.jsx)("div",{className:"col-span-12",children:(0,s.jsxs)("div",{className:"box mt-5",children:[(0,s.jsx)("div",{className:"box-header",children:(0,s.jsx)("h5",{className:"box-title",children:es?"Enfant":eE?"R\xe9capitulatif":ex?"Activit\xe9s":eb?"Assurances":eg?"Responsable ".concat(eD+1):""})}),(0,s.jsxs)("div",{className:"box-body",children:[es&&(0,s.jsxs)("form",{className:"ti-validation",children:[(0,s.jsxs)("fieldset",{children:[(0,s.jsx)("legend",{className:"text-xl font-semibold bg-white dark:dark:bg-bgdark px-3 translate-y-3 translate-x-3",children:"Informations personnelles"}),(0,s.jsx)("hr",{className:"mb-6"}),(0,s.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2 date-of-birth relative",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Date de naissance"}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(n(),{className:et.NAISSANCE_DATE?"my-auto ti-form-input rounded-r-none !border-red-600":"my-auto ti-form-input rounded-r-none h-[42px]",name:"NAISSANCE_DATE",autoFocus:!0,ref:R,onKeyDown:e=>{switch(e.code){case"Digit1":case"Digit2":case"Digit3":case"Digit4":case"Digit5":case"Digit6":case"Digit7":case"Digit8":case"Digit9":case"Digit0":e.shiftKey&&R.current.setState({open:!0});break;case"Numpad0":case"Numpad1":case"Numpad2":case"Numpad3":case"Numpad4":case"Numpad5":case"Numpad6":case"Numpad7":case"Numpad8":case"Numpad9":R.current.setState({open:!0})}},showIcon:!0,locale:i.A,dateFormat:"dd/MM/yyyy",selected:e_,maxDate:new Date(function(e,t){return(0,p.A)(2,arguments),function(e,t){return(0,p.A)(2,arguments),function(e,t){(0,p.A)(2,arguments);var a=(0,x.A)(e),s=(0,N.A)(t);if(isNaN(s))return new Date(NaN);if(!s)return a;var l=a.getDate(),r=new Date(a.getTime());return(r.setMonth(a.getMonth()+s+1,0),l>=r.getDate())?r:(a.setFullYear(r.getFullYear(),r.getMonth(),l),a)}(e,12*(0,N.A)(t))}(e,-(0,N.A)(t))}(new Date,3)),onChange:e=>e6(e)}),(0,s.jsx)("button",{disabled:!e_,onClick:e8,"aria-label":"button",type:"button",className:"inline-flex flex-shrink-0 justify-center items-center h-[42px] w-[2.875rem] ltr:rounded-r-sm ltr:rounded-l-none rtl:rounded-r-none rtl:rounded-l-sm ti-btn ti-btn-outline ti-btn-outline-primary m-0 !border-l-0 font-semibold text-sm focus:ti-btn-primary",children:(0,s.jsx)("svg",{className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:(0,s.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})})})]}),et.NAISSANCE_DATE&&(0,s.jsx)("svg",{className:"h-5 w-5 text-danger absolute top-[45%] right-16",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:(0,s.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"})})]}),(0,s.jsxs)("div",{className:"space-y-2 relative",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Nom"}),(0,s.jsx)("input",{type:"text",className:et.NOM?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input",name:"NOM",value:eY.NOM,onChange:e7}),(0,m.B)(et.NOM)]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Pr\xe9nom"}),(0,s.jsx)("input",{type:"text",className:"my-auto ti-form-input",name:"PRENOM",value:eY.PRENOM,onChange:e7})]}),(0,s.jsxs)("div",{className:"space-y-2 relative",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Genre"}),(0,s.jsxs)("select",{className:et.SEXE_TYPE?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input",name:"SEXE_TYPE",defaultValue:"Choisir un genre",value:H,onChange:ta,children:[(0,s.jsx)("option",{selected:!0,children:"Choisir un genre"}),null==to?void 0:to.map(e=>(0,s.jsx)("option",{"data-type":e.ID_REFERENCE,children:e.LIBELLE_REFERENCE},e.ID))]}),(0,m.B)(et.SEXE_TYPE)]}),(0,s.jsxs)("div",{className:"space-y-2 relative",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Lieu de naissance"}),(0,s.jsx)("input",{type:"text",className:et.LIEU_NAISSANCE?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input",name:"LIEU_NAISSANCE",onChange:e7,value:eY.LIEU_NAISSANCE}),(0,m.B)(et.LIEU_NAISSANCE)]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Registre national"}),(0,s.jsx)("input",{type:"text",name:"NISS",onChange:e7,value:eY.NISS,className:et.NISS?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input"})]})]})]}),(0,s.jsxs)("fieldset",{className:"mt-6",children:[(0,s.jsx)("legend",{className:"text-xl font-semibold bg-white dark:dark:bg-bgdark px-3 translate-y-3 translate-x-3",children:"Adresse"}),(0,s.jsx)("hr",{className:"mb-6"}),(0,s.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2 relative",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Adresse"}),(0,s.jsx)("input",{type:"text",name:"ADRESSE",onChange:e5,value:eH.ADRESSE,className:et.ADRESSE?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input"}),(0,m.B)(et.ADRESSE)]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)("div",{className:"space-y-2 relative",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Num\xe9ro"}),(0,s.jsx)("input",{type:"text",name:"NUMERO",onChange:e5,value:eH.NUMERO,className:et.NUMERO?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input"}),(0,m.B)(et.NUMERO)]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Boite"}),(0,s.jsx)("input",{type:"text",name:"NUM_BOITE",onChange:e5,value:eH.NUM_BOITE,className:"my-auto ti-form-input"})]}),(0,s.jsxs)("div",{className:"space-y-2 relative",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Code postal"}),(0,s.jsx)("input",{type:"number",name:"CODE_POSTAL",onChange:e5,value:0===eH.CODE_POSTAL||null===eH.CODE_POSTAL?"":eH.CODE_POSTAL,className:et.CODE_POSTAL?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input"}),(0,m.B)(et.CODE_POSTAL)]})]}),(0,s.jsxs)("div",{className:"space-y-2 relative",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Localit\xe9"}),(0,s.jsx)("input",{type:"text",name:"LOCALITE",onChange:e5,value:eH.LOCALITE,className:et.LOCALITE?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input"}),(0,m.B)(et.LOCALITE)]})]})]})]}),ex&&(0,s.jsx)("ul",{className:"flex flex-col gap-3",children:null==eM?void 0:eM.map((e,t)=>(0,s.jsx)("li",{children:(0,s.jsxs)("label",{className:"max-w-xs flex items-center p-3 w-full bg-white border border-gray-200 rounded-sm text-sm focus:border-primary focus:ring-primary dark:bg-bgdark dark:border-white/10 dark:text-white/70",children:[(0,s.jsx)("input",{id:"hs-list-group-item-checkbox-1",type:"checkbox",className:"ti-form-checkbox",checked:ed[t],onChange:()=>e1(e.FRAIS_ID,t)}),(0,s.jsx)("span",{className:"text-sm text-gray-500 ltr:ml-2 rtl:mr-2 dark:text-white/70",children:e.LIBELLE})]})},t))}),eb&&(0,s.jsx)("ul",{className:"flex flex-col gap-3",children:null==ez?void 0:ez.map((e,t)=>(0,s.jsx)("li",{children:(0,s.jsxs)("label",{className:"max-w-xs flex items-center p-3 w-full bg-white border border-gray-200 rounded-sm text-sm focus:border-primary focus:ring-primary dark:bg-bgdark dark:border-white/10 dark:text-white/70",children:[(0,s.jsx)("input",{id:"hs-list-group-item-checkbox-1",type:"checkbox",className:"ti-form-checkbox",checked:eu[t],onChange:()=>e2(e.FRAIS_ID,t)}),(0,s.jsx)("span",{className:"text-sm text-gray-500 ltr:ml-2 rtl:mr-2 dark:text-white/70",children:e.LIBELLE})]})},t))}),eg&&(0,s.jsxs)("form",{className:"ti-validation",children:[(0,s.jsxs)("fieldset",{children:[(0,s.jsx)("legend",{className:"text-xl font-semibold bg-white dark:dark:bg-bgdark px-3 translate-y-3 translate-x-3",children:"Informations personnelles"}),(0,s.jsx)("hr",{className:"mb-6"}),(0,s.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Telephone"}),(0,s.jsxs)("div",{className:"relative flex",children:[(0,s.jsx)(b.LR,{defaultCountry:"be",value:(null===(t=eB[eD])||void 0===t?void 0:null===(e=t.TELEPHONE)||void 0===e?void 0:e.toString())||"32",onChange:e=>eq(e),ref:w,onFocus:()=>{requestAnimationFrame(()=>{if(C.current||w.current){let e=(C.current?C.current.value:w.current.value).length+1;C.current?C.current.setSelectionRange(e,e):w.current.setSelectionRange(e,e)}})},countries:h.Xr,className:"w-full",autoFocus:!0,inputClassName:$.TELEPHONE?"w-full !rounded-r-none dark:bg-bgdark !ml-[1px] !border-l !border-red-600":"w-full !rounded-r-none dark:bg-bgdark !border-[#e2e8f0]"}),$.TELEPHONE&&(0,s.jsx)("svg",{className:"h-5 w-5 text-danger absolute top-1/4 right-16",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:(0,s.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"})})]})]}),(0,s.jsxs)("div",{className:"space-y-2 relative",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Nom"}),(0,s.jsx)("input",{type:"text",className:$.NOM?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input",name:"NOM",value:(null===(a=eB[eD])||void 0===a?void 0:a.NOM)||"",onChange:eW}),(0,m.B)($.NOM)]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Pr\xe9nom"}),(0,s.jsx)("input",{type:"text",className:"my-auto ti-form-input",name:"PRENOM",value:(null===(r=eB[eD])||void 0===r?void 0:r.PRENOM)||"",onChange:eW})]}),(0,s.jsxs)("div",{className:"space-y-2 relative",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Genre"}),(0,s.jsxs)("select",{className:$.TYPE_CIVILITE?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input",name:"TYPE_CIVILITE",defaultValue:"Choisir un genre",value:B[eD],onChange:ta,children:[(0,s.jsx)("option",{selected:!0,children:"Choisir un genre"}),null==to?void 0:to.map(e=>(0,s.jsx)("option",{"data-type":e.ID_REFERENCE,children:e.LIBELLE_REFERENCE},e.ID))]}),(0,m.B)($.TYPE_CIVILITE)]}),(0,s.jsxs)("div",{className:"space-y-2 relative",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Qualit\xe9"}),(0,s.jsxs)("select",{className:$.QUALITE?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input",name:"QUALITE",defaultValue:"Choisir un genre",value:Y[eD],onChange:e=>{e.target.selectedOptions[0]&&(J(t=>t.map((t,a)=>a===eD?e.target.selectedOptions[0].value:t)),eV(t=>t.map((t,a)=>a===eD?{...t,QUALITE:Number(e.target.selectedOptions[0].dataset.type)}:t)),ee(e=>({...e,QUALITE:!1})))},children:[(0,s.jsx)("option",{selected:!0,children:"Choisir une qualit\xe9"}),null==tc?void 0:tc.map(e=>(0,s.jsx)("option",{"data-type":e.ID_REFERENCE,children:e.LIBELLE_REFERENCE},e.ID))]}),(0,m.B)($.QUALITE)]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Registre national"}),(0,s.jsx)("input",{type:"text",name:"REGISTRE_NATIONAL",onChange:eW,value:(null===(f=eB[eD])||void 0===f?void 0:f.REGISTRE_NATIONAL)||"",className:"my-auto ti-form-input"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"email"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"mail",name:"MAIL",onChange:eW,value:(null===(S=eB[eD])||void 0===S?void 0:S.MAIL)||"",className:"ti-form-input ltr:pl-11 rtl:pr-11 focus:z-10"}),(0,s.jsx)("div",{className:"absolute inset-y-0 ltr:left-0 rtl:right-0 flex items-center pointer-events-none z-20 ltr:pl-4 rtl:pr-4",children:(0,s.jsx)("i",{className:"ri-mail-line"})})]})]})]})]}),(0,s.jsxs)("fieldset",{className:"mt-6",children:[(0,s.jsx)("legend",{className:"text-xl font-semibold bg-white dark:bg-bgdark  px-3 translate-y-3 translate-x-3",children:"Adresse"}),(0,s.jsx)("hr",{className:"mb-6"}),(0,s.jsxs)("label",{className:"mb-6 p-3 max-w-sm flex items-center gap-3 bg-white border border-gray-200 rounded-sm text-sm focus:border-primary focus:ring-primary dark:bg-bgdark dark:border-white/10 dark:text-white/70",children:[(0,s.jsx)("input",{type:"checkbox",className:"ti-form-checkbox mt-0.5 pointer-events-none",checked:ei[eD],onChange:()=>{eo(e=>{let t=[...e];return t[eD]||t.push(!0),t[eD]=!t[eD],t[eD]?eQ(e=>{let t=[...e];return t[eD]||t.push({ADRESSE:"",ADRESSE_ID:0,CODE_POSTAL:0,LOCALITE:"",NUMERO:"",NUM_BOITE:""}),t[eD]={...eH},console.log(t[eD]),t}):eQ(e=>{let t=[...e];return t[eD]||t.push({ADRESSE:"",CODE_POSTAL:null,LOCALITE:"",NUMERO:"",NUM_BOITE:"",ADRESSE_ID:0}),t[eD]={ADRESSE:"",CODE_POSTAL:null,LOCALITE:"",NUMERO:"",NUM_BOITE:"",ADRESSE_ID:0},console.log(t[eD]),t}),t})}}),(0,s.jsx)("i",{className:"ri-account-circle-line text-3xl text-success"}),(0,s.jsx)("span",{className:"text-sm text-gray-500 ltr:ml-2 rtl:mr-2 dark:text-white/70",children:"M\xeame Adresse que l'enfant"})]}),(0,s.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2 relative",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Adresse"}),(0,s.jsx)("input",{type:"text",name:"ADRESSE",onChange:eK,value:(null===(v=eG[eD])||void 0===v?void 0:v.ADRESSE)||"",className:$.ADRESSE?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input"}),(0,m.B)($.ADRESSE)]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)("div",{className:"space-y-2 relative",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Num\xe9ro"}),(0,s.jsx)("input",{type:"text",name:"NUMERO",onChange:eK,value:eG[eD].NUMERO||"",className:$.NUMERO?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input"}),(0,m.B)($.NUMERO)]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Boite"}),(0,s.jsx)("input",{type:"text",name:"NUM_BOITE",onChange:eK,value:(null===(I=eG[eD])||void 0===I?void 0:I.NUM_BOITE)||"",className:"my-auto ti-form-input"})]}),(0,s.jsxs)("div",{className:"space-y-2 relative",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Code postal"}),(0,s.jsx)("input",{type:"number",name:"CODE_POSTAL",onChange:eK,value:(null===(g=eG[eD])||void 0===g?void 0:g.CODE_POSTAL)||"",className:$.CODE_POSTAL?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input"}),(0,m.B)($.CODE_POSTAL)]})]}),(0,s.jsxs)("div",{className:"space-y-2 relative",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Localit\xe9"}),(0,s.jsx)("input",{type:"text",name:"LOCALITE",onChange:eK,value:(null===(A=eG[eD])||void 0===A?void 0:A.LOCALITE)||"",className:$.LOCALITE?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input"}),(0,m.B)($.LOCALITE)]})]})]})]}),eE&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-[0.813rem] mb-3",children:"Vous \xeates sur le point d'inscrire :"}),(0,s.jsxs)("div",{className:"flex flex-col xl:flex-row gap-6 w-full",children:[(0,s.jsxs)("div",{className:"xl:w-1/3 w-full",children:[(0,s.jsx)("h4",{className:"badge bg-green-100 text-green-800 text-base",children:"Enfant"}),(0,s.jsxs)("div",{className:"box w-full",children:[(0,s.jsx)("div",{className:"box-header",children:(0,s.jsx)("div",{className:"flex items-center w-full",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("i",{className:"ri-account-circle-line text-3xl absolute"}),(0,s.jsxs)("div",{className:"text-base font-semibold pl-12",children:[eY.PRENOM," ",eY.NOM.toUpperCase()]})]})})}),(0,s.jsx)("div",{className:"box-body",children:(0,s.jsx)("table",{children:(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"w-1/2 font-medium text-sm",children:"Date de naissance :"}),(0,s.jsx)("td",{className:"text-sm",children:(0,u.Ys)(eY.NAISSANCE_DATE)})]}),eY.NISS&&(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"w-1/2 font-medium text-sm",children:"Registre national :"}),(0,s.jsx)("td",{className:"text-sm",children:eY.NISS})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"w-1/2 font-medium text-sm",children:"Adresse compl\xe8te :"}),(0,s.jsxs)("td",{children:[eH.NUMERO,eH.NUM_BOITE?"/".concat(eH.NUM_BOITE):"",", ",eH.ADRESSE," ",eH.CODE_POSTAL," ",eH.LOCALITE]})]})]})})})]})]}),(0,s.jsxs)("div",{className:"xl:w-1/3 w-full",children:[(0,s.jsx)("h4",{className:"badge rounded-mb bg-yellow-100 text-yellow-800 text-base",children:eB.length>1?"Responsables":"Responsable"}),eB.map((e,t)=>(0,s.jsx)(l.Fragment,{children:(0,s.jsxs)("div",{className:"box",children:[(0,s.jsx)("div",{className:"box-header",children:(0,s.jsxs)("div",{className:"flex items-center w-full relative justify-between",children:[(0,s.jsx)("div",{className:"",children:(0,s.jsxs)("h3",{className:"text-base font-semibold pl-12",children:[e.PRENOM," ",e.NOM.toUpperCase()]})}),(0,s.jsx)("span",{className:"rounded-r-full pr-4 py-3.5 absolute -left-4 bg-secondary/10 text-secondary",children:(0,s.jsx)("i",{className:"ri-number-".concat(e.NUMERO_RESPONSABLE," pl-2")})})]})}),(0,s.jsx)("div",{className:"box-body",children:(0,s.jsx)("table",{children:(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"w-1/2 font-medium text-sm",children:"T\xe9l\xe9phone :"}),(0,s.jsx)("td",{className:"text-sm",children:(0,u.fk)(String(e.TELEPHONE))})]}),e.MAIL&&(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"w-1/2 font-medium text-sm",children:"Mail :"}),(0,s.jsx)("td",{className:"text-sm",children:e.MAIL})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"w-1/2 font-medium text-sm",children:"Adresse compl\xe8te :"}),(0,s.jsxs)("td",{className:"text-sm",children:[eG[t].NUMERO,eG[t].NUM_BOITE?"/".concat(eG[t].NUM_BOITE,", "):", ",eG[t].ADRESSE," ",eG[t].CODE_POSTAL," ",eG[t].LOCALITE]})]})]})})})]})},t))]}),(0,s.jsxs)("div",{className:"w-1/3",children:[(0,s.jsx)("h4",{className:"badge bg-pink-100 text-pink-800 text-base",children:"Activit\xe9s - Assurances"}),eu.map((e,t)=>e?(0,s.jsx)(l.Fragment,{children:(0,s.jsx)("div",{className:"box",children:(0,s.jsx)("div",{className:"box-header",children:(0,s.jsx)("div",{className:"flex items-center w-full relative justify-between",children:(0,s.jsx)("div",{className:"",children:(0,s.jsx)("h3",{className:"text-base font-semibold pl-12",children:ez[t].LIBELLE})})})})})},t):null),ed.map((e,t)=>e?(0,s.jsx)(l.Fragment,{children:(0,s.jsx)("div",{className:"box",children:(0,s.jsx)("div",{className:"box-header",children:(0,s.jsx)("div",{className:"flex items-center w-full relative justify-between",children:(0,s.jsx)("div",{className:"",children:(0,s.jsx)("h3",{className:"text-base font-semibold pl-12",children:eM[t].LIBELLE})})})})})},t):null)]})]})]}),ef&&(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold",children:"L'inscription a bien \xe9t\xe9 effectu\xe9e !"}),(0,s.jsx)("i",{className:"ri-checkbox-circle-line text-[150px] leading-none text-success relative",children:(0,s.jsx)("span",{className:"bg-success/10 rounded-full absolute w-4/5 h-[105px] bottom-[15%] left-[10%]"})})]}),(0,s.jsxs)(s.Fragment,{children:[eD+1>1&&eg&&(0,s.jsxs)("button",{type:"button",className:"ti-btn !rounded-full ti-btn-outline ti-btn-outline-danger mt-6 focus:mt-6 focus:ti-btn focus:!rounded-full focus:ti-btn-danger",onClick:()=>{eA(!0),eV(e=>{let t=[...e];return t.splice(eD,1),t}),V(e=>{let t=[...e];return t.splice(eD,1),t}),eQ(e=>{let t=[...e];return t.splice(eD,1),t}),eR(e=>e-1)},children:["Annuler responsable ",eD+1]}),(eg||eE||ex||eb)&&(0,s.jsx)("button",{type:"button",className:"ti-btn !rounded-full ti-btn-outline ti-btn-outline-secondary mt-6 focus:mt-6 focus:ti-btn focus:!rounded-full focus:ti-btn-secondary",onClick:()=>{eE?(eR(eB.length-1),eN(!1),eA(!0),tt("Responsable","Nouvelle inscription")):eb?(eh(!1),ep(!0)):ex?(ep(!1),el(!0)):(eR(e=>e>0?e-1:0),0===eD&&(eh(!0),eA(!1),tt("Enfant","Nouvelle inscription")),ee({}))},children:"Pr\xe9c\xe9dent"}),!eE&&!ef&&(0,s.jsx)("button",{type:"button",className:"ti-btn !rounded-full ti-btn-outline ti-btn-outline-primary mt-6 focus:mt-6 focus:ti-btn focus:!rounded-full focus:ti-btn-primary",onClick:()=>{if(es){if(!e9())return;tt("Responsable","Nouvelle inscription"),el(!1),ep(!0)}if(ex&&(void 0===q[eD]&&ei[eD]&&eQ(e=>{let t=[...e];return t[eD]={...eH},t}),ep(!1),eh(!0)),eb&&(eh(!1),eA(!0)),eg){if(eD<eB.length-1){if(!e0())return;eR(e=>e+1)}else eV(e=>{let t=[...e];return t[eD]||t.push({NOM:"",NUMERO_RESPONSABLE:0,TELEPHONE:0,TYPE_CIVILITE:0,UID:"".concat(Math.random()),QUALITE:0}),t[eD].NUMERO_RESPONSABLE=eD+1,t}),setTimeout(()=>{e0()&&(eN(!0),eA(!1),tt("R\xe9capitulatif","Nouvelle inscription"))},50)}},children:"Suivant"}),eE&&(0,s.jsx)("button",{type:"button",className:"ti-btn !rounded-full ti-btn-outline ti-btn-outline-success mt-6 focus:mt-6 focus:ti-btn focus:!rounded-full focus:ti-btn-success",onClick:tr,children:"Valider"}),eg&&eD+1<2&&eD===eB.length-1&&(0,s.jsx)("button",{type:"button",className:"ti-btn !rounded-full ti-btn-outline ti-btn-outline-info mt-6 focus:mt-6 focus:ti-btn focus:!rounded-full focus:ti-btn-info",onClick:()=>{e0()&&(eV(e=>{let t=[...e];return t[eD].NUMERO_RESPONSABLE=eD+1,t}),eR(e=>e+1),V(e=>{let t=[...e];return t.push(""),t}),eV(e=>{let t=[...e];return t.push({NUMERO_RESPONSABLE:0,TELEPHONE:32,NOM:"",PRENOM:"",REGISTRE_NATIONAL:"",TYPE_CIVILITE:null,MAIL:"",UID:"".concat(Math.random())}),t}),eo(e=>{let t=[...e];return t.push(!0),t}),eQ(e=>{let t=[...e];return t.push({ADRESSE:eH.ADRESSE,CODE_POSTAL:eH.CODE_POSTAL,LOCALITE:eH.LOCALITE,NUMERO:eH.NUMERO,NUM_BOITE:eH.NUM_BOITE}),t}))},children:"Ajouter un nouveau responsable"})]})]})]})})]})]})};f.layout="Contentlayout";let S=f},93107:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var s=a(74848),l=a(91106),r=a.n(l);a(96540);let n=e=>(0,s.jsxs)("div",{className:"block justify-between page-header md:flex",children:[(0,s.jsx)("div",{children:(0,s.jsx)("h3",{className:"text-gray-700 hover:text-gray-900 dark:text-white dark:hover:text-white text-2xl font-medium",children:e.currentpage})}),(0,s.jsxs)("ol",{className:"flex items-center whitespace-nowrap min-w-0",children:[(0,s.jsx)("li",{className:"text-sm",children:(0,s.jsxs)(r(),{className:"flex items-center font-semibold text-primary hover:text-primary dark:text-primary truncate",href:"#!",children:[e.activepage,(0,s.jsx)("i",{className:"ti ti-chevrons-right flex-shrink-0 mx-3 overflow-visible text-gray-300 dark:text-gray-300 rtl:rotate-180"})]})}),(0,s.jsx)("li",{className:"text-sm text-gray-500 hover:text-primary dark:text-white/70 ","aria-current":"page",children:e.mainpage})]})]})},40350:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var s=a(74848);a(96540);var l=a(13368),r=a.n(l);let n={src:"/orgaFlowDev/V12.1/_next/static/media/favicon.ab2d95a1.ico"},i=e=>{let{title:t}=e;return(0,s.jsxs)(r(),{children:[(0,s.jsx)("title",{children:"".concat(t)}),(0,s.jsx)("link",{href:n.src,rel:"icon"}),(0,s.jsx)("meta",{name:"description",content:"Synto - Nextjs Admin & Dashboard Template"}),(0,s.jsx)("meta",{name:"author",content:"Spruko Technologies Private Limited"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,s.jsx)("meta",{name:"keywords",content:"tailwind nextjs, dashboard tailwind, tailwind admin, nextjs tailwind, tailwind in nextjs, admin dashboard tailwind, tailwind dashboards, tailwind template admin, tailwind and nextjs, admin panel, template dashboard, admin dashboard template, admin panel template"})]})}},18940:(e,t,a)=>{"use strict";a.d(t,{EY:()=>d,JO:()=>c,LB:()=>r,Sg:()=>o,UG:()=>i,Yo:()=>E,iR:()=>n});var s=a(18322),l=a(14476);let r=l.z.object({MAIL:l.z.string().min(1),TEL:l.z.string().optional(),PASSWORD:l.z.string()}),n=l.z.object({MAIL:l.z.string().email().optional(),TELEPHONE:l.z.number().refine(e=>{let t=e.toString();return!(t.length<3)&&(0,s.Q7)("+".concat(t))},{message:"Le num\xe9ro doit contenir au moins 3 chiffres et \xeatre valide avec l'indicatif du pays.,"}),PASSWORD:l.z.string().min(1),TYPE_USER:l.z.number().min(1),FLAG_MAIL_VERIFIED:l.z.number().optional(),FLAG_TELEPHONE_VERIFIED:l.z.number().optional(),DATETIME_CREATION:l.z.string().datetime({local:!0}).min(1),CODE_PIN:l.z.number().optional()}),i=l.z.object({ID:l.z.number().optional(),NOM:l.z.string().min(1),PRENOM:l.z.string().optional(),REGISTRE_NATIONAL:l.z.string().optional(),TYPE_CIVILITE:l.z.number().optional(),QUALITE:l.z.number().optional(),NUMERO_RESPONSABLE:l.z.number(),UID:l.z.string().min(1),TELEPHONE:l.z.number().refine(e=>{let t=e.toString();return(0,s.Q7)("+".concat(t))},{message:"Le num\xe9ro doit \xeatre valide avec le format du pays."}),MAIL:l.z.string().email().optional()});l.z.object({username:l.z.string().min(1),password:l.z.string().min(1)});let o=l.z.object({NOM:l.z.string().min(1),ELEVE_ID:l.z.number().optional(),PRENOM:l.z.string().optional(),SEXE_TYPE:l.z.string().optional(),LIEU_NAISSANCE:l.z.string().optional(),CODE_PAYS_NAIS:l.z.string().optional(),NAISSANCE_DATE:l.z.string().datetime({local:!0}).min(1),CODE_NATIONALITE:l.z.string().optional(),NISS:l.z.string().optional()}),d=l.z.object({ADRESSE_ID:l.z.number().optional(),ELEVE_ID:l.z.number().optional(),RESPONSABLE_ID:l.z.number().optional(),ADRESSE:l.z.string().min(1),NUMERO:l.z.string().min(1),CODE_POSTAL:l.z.number().min(4).nullable(),LOCALITE:l.z.string().min(1),NUM_BOITE:l.z.string().optional(),CODE_POSTAL2:l.z.string().optional()}),c=l.z.object({LIBELLE:l.z.string().min(1),MONTANT:l.z.number().min(1).nullable(),ANNEE_SCOLAIRE:l.z.number().min(1),TYPE_FRAIS:l.z.number().min(0),DATE_FRAIS:l.z.string().optional(),DATE_ECHEANCE:l.z.string().datetime().optional(),DATE_FRAIS_FIN:l.z.string().datetime().optional(),FRAIS_ID:l.z.number().optional(),CATEGORIE_ID:l.z.number()});l.z.object({FRAIS_INSCRIPTION_ID:l.z.number().optional(),FRAIS_ELEVE_ID:l.z.number().optional(),ELEVE_ID:l.z.number(),FRAIS_ID:l.z.number(),DATE_INSCRIPTION:l.z.string().datetime({local:!0}).optional(),DATE_DEPART:l.z.string().datetime({local:!0}).optional()}),l.z.object({FRAIS_ITEM_ID:l.z.number().optional(),FRAIS_PARENT_ID:l.z.number().optional(),LIBELLE:l.z.string().optional(),PRIX:l.z.number().optional()}),l.z.object({FRAIS_ITEM_ELEVE_ID:l.z.number().optional(),FRAIS_ITEM_ID:l.z.number().optional(),ELEVE_ID:l.z.number().optional(),QTE:l.z.number().optional(),COUT_UNIT:l.z.number(),COUT_TOTAL:l.z.number().optional(),DATE_FRAIS:l.z.string().datetime({local:!0}),DATE_MODIF:l.z.string().optional(),USER_ENCODE:l.z.string().optional(),USER_ID:l.z.number().optional(),PROF_ID:l.z.string().optional()});let u=l.z.object({ELEVE_ID:l.z.number().optional(),FRAIS_ID:l.z.number(),LIBELLE:l.z.string(),COUT_TOTAL:l.z.number(),COMMUNICATION_STRUCTUREE:l.z.string().optional()}),m=l.z.object({ELEVE_ID:l.z.number(),FRAIS_ITEM:l.z.array(u)});l.z.array(m),l.z.object({COUT_TOTAL:l.z.number(),MONTANT_PAYE:l.z.number(),BALANCE:l.z.number()}),l.z.object({ELEVE_ID:l.z.number(),COUT_TOTAL:l.z.number(),MONTANT_PAYE:l.z.number(),BALANCE:l.z.number()}),l.z.object({ELEVE_ID:l.z.number(),FRAIS_ID:l.z.number(),LIBELLE:l.z.string(),DATE_FRAIS:l.z.string().datetime({local:!0})}),l.z.object({ID:l.z.number(),REFERENCE:l.z.string(),ID_REFERENCE:l.z.string(),LIBELLE_REFERENCE:l.z.string()});let E=l.z.object({FRAIS_PAIEMENT_ID:l.z.number().optional(),ELEVE_ID:l.z.number(),MONTANT:l.z.number().optional(),TYPE_PAIEMENT:l.z.number(),DATE_PAIEMENT:l.z.string().datetime({local:!0}),FRAIS_ID:l.z.number(),REMARQUE:l.z.string(),FLG_REMBOURSEMENT:l.z.number(),EXTRAIT_ID:l.z.number(),ANNEE_SCOLAIRE:l.z.number(),PARENT_PAIEMENT_ID:l.z.number(),TRANSFERT_LIER_ID:l.z.number(),MODULE_TYPE_TRANSFERT:l.z.number()});l.z.object({ID:l.z.number().optional(),ID_RESPONSABLE:l.z.string(),ID_ELEVE:l.z.string()})},66503:(e,t,a)=>{"use strict";a.d(t,{Xr:()=>i,if:()=>o,rX:()=>n});var s=a(11011),l=a(50810),r=a(84477);let n="12";l.registerLocale(r);let i=s.i4.map(e=>{let t=(0,s.Ot)(e);return t.name=l.getName(t.iso2,"fr")||t.name,(0,s.vg)(t)}),o=["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"]},6861:(e,t,a)=>{"use strict";a.d(t,{B:()=>c,s:()=>d});var s=a(74848),l=a(96540),r=a(86857),n=a(95977);let i=()=>navigator.onLine,o=()=>{alert("No internet connection. Please check your network and try again.")},d=(e,t,a)=>{let[s,d]=(0,l.useState)(null),[c,u]=(0,l.useState)(!0);return(0,l.useEffect)(()=>{(async()=>{try{if(!i()){o(),d({data:null,error:{message:"No internet connection"}}),u(!1);return}let s=new URLSearchParams;a&&Object.entries(a).forEach(e=>{let[t,a]=e;Array.isArray(a)||"object"==typeof a?s.append(t,JSON.stringify(a)):s.append(t,a)});let l="".concat(e,"?").concat(s.toString()),m=(0,n.w)(),E=t?await r.A.get(e):await m.get(l);c&&(d({data:E.data,error:null}),u(!1))}catch(e){c&&(d({data:null,error:e}),u(!1))}})()},[e,t,a]),{result:s,loading:c}},c=e=>{if(e)return(0,s.jsx)("svg",{className:"h-5 w-5 text-danger absolute top-[45%] right-8",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:(0,s.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"})})}},74148:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[833,150,701,552,328,636,593,792],()=>t(96088)),_N_E=e.O()}]);