(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[915],{84630:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/activiteEnfant",function(){return a(84969)}])},84969:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var r=a(74848),s=a(96540),l=a(40350),n=a(93107),i=a(18322),c=a(74230);let o=()=>{let[e,t]=(0,s.useState)(!1),[a,o]=(0,s.useState)(!1),[d,u]=(0,s.useState)(!0),[h,m]=(0,s.useState)(!0),[x,b]=(0,s.useState)(!1),[g,p]=(0,s.useState)(0),[f,N]=(0,s.useState)([]),[w,j]=(0,s.useState)([]),[v,y]=(0,s.useState)([]),[k,E]=(0,s.useState)([]),[A,I]=(0,s.useState)(0),S=(0,s.useRef)(null),_=(0,s.useRef)(null),D=async()=>{o(!0),_.current&&(_.current.classList.add("open"),_.current.classList.remove("hidden"));let{data:e,error:t,loading:a}=await (0,i.Fd)("/eleves",!1,{champs:["NOM","PRENOM"]});m(a),t&&console.error(t),E(null==e?void 0:e.filter(e=>!f.includes(Number(e.ELEVE_ID))))},L=()=>{o(!1),_.current&&(_.current.classList.remove("open"),_.current.classList.add("hidden"))},C=async(e,a)=>{let{data:r,error:s}=await (0,i.Wv)("/fraisinscription/".concat(e));if(s){console.error(s);return}let l=v.filter(e=>e.ELEVE_ID!==Number(a));y(l);let n=k.filter(e=>e.ELEVE_ID!==Number(a));E(n=n.sort((e,t)=>e.NOM.localeCompare(t.NOM))),N(f.filter(e=>e!==Number(a))),j(t=>t.filter(t=>t!==e)),0===l.length&&t(!1)},O=async e=>{var a;L(),b(!0),p(e),u(!0);let{data:r,error:s}=await (0,i.Fd)("/fraisinscription/frais/".concat(e));s&&console.error(s),null==r||r.map(e=>{j(t=>[...t,Number(e.FRAIS_INSCRIPTION_ID)])});let l=null!==(a=null==r?void 0:r.map(e=>e.ELEVE_ID))&&void 0!==a?a:[];if(0===l.length){t(!1),u(!1),N([]);return}N(l);let{data:n,error:c,loading:o}=await (0,i.Fd)("/eleves",!1,{IDs:l,champs:["NOM","PRENOM"]});c&&console.error(c),u(o),t(!0),y(null!=n?n:[])},R=async e=>{0===f.length?y([e]):y(t=>[...t,e].sort((e,t)=>e.NOM.localeCompare(t.NOM))),0===f.length?N([Number(e.ELEVE_ID)]):N(t=>[...t,Number(e.ELEVE_ID)]),E(t=>t.filter(t=>t.ELEVE_ID!==Number(e.ELEVE_ID))),t(!0);let a={ELEVE_ID:Number(e.ELEVE_ID),FRAIS_ID:g},{data:r,error:s}=await (0,i.sS)("/fraisinscription/",!1,a);r&&console.log(r),s&&console.error(s),j(e=>[...e,null==r?void 0:r.FRAIS_INSCRIPTION_ID])},{data:M,loading:P,error:F}=(0,i.st)("/frais/typefrais/2");return F&&console.error(F),(0,r.jsxs)("div",{children:[(0,r.jsx)(l.A,{title:"Pr\xe9sences"}),(0,r.jsx)(n.A,{currentpage:"Liaison",mainpage:"Liaison",activepage:"Gestion des activit\xe9s"}),(0,r.jsxs)("div",{className:"sm:grid space-y-6 sm:space-y-0 gap-4 font-mono text-white text-sm text-center font-bold \n          ".concat(a?"grid-cols-3":"grid-cols-2"),children:[(0,r.jsxs)("div",{className:"box",children:[(0,r.jsx)("div",{className:"box-header",children:(0,r.jsx)("h5",{className:"box-title",children:"Liste des activit\xe9s"})}),(0,r.jsxs)("div",{className:"box-body",children:[P&&(0,r.jsx)(c._N,{}),!P&&(0,r.jsx)("ul",{className:"w-full flex flex-col",children:null==M?void 0:M.map(e=>(0,r.jsx)("li",{className:"ti-list-group gap-x-3.5 bg-white text-gray-800 dark:bg-bgdark \n                                dark:border-white/10 dark:text-white\n                                ".concat(g===e.FRAIS_ID?"!bg-primary text-white":""),onClick:()=>O(e.FRAIS_ID),children:e.LIBELLE},e.FRAIS_ID))})]})]}),(0,r.jsxs)("div",{className:"box",children:[(0,r.jsx)("div",{className:"box-header",children:(0,r.jsx)("h5",{className:"box-title",children:"Liste des enfants"})}),d&&x&&(0,r.jsx)("div",{className:"box-body",children:(0,r.jsx)(c._N,{})}),!d&&(0,r.jsxs)("div",{className:e?"box-body":"box-body h-full flex items-center justify-center",children:[!e&&(0,r.jsxs)("button",{className:"ti-btn !rounded-full ti-btn-outline ti-btn-outline-info",onClick:D,children:[(0,r.jsx)("i",{className:"ri-user-add-line text-4xl"}),(0,r.jsx)("span",{children:"Ajouter des enfants"})]}),e&&(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsxs)("button",{className:"ti-btn !rounded-full ti-btn-outline ti-btn-outline-info mb-6 w-48",onClick:D,children:[(0,r.jsx)("i",{className:"ri-user-add-line"}),(0,r.jsx)("span",{children:"Ajouter des enfants"})]}),(0,r.jsx)("ul",{className:"flex flex-col gap-3",children:v.map((e,t)=>(0,r.jsx)("li",{className:"ti-list-group gap-x-3.5 bg-white text-gray-800 dark:bg-bgdark dark:border-white/10 dark:text-white",children:(0,r.jsxs)("button",{type:"button",className:"w-full text-left",onClick:()=>C(w[t],e.ELEVE_ID),children:[e.NOM," ",e.PRENOM]})},e.ELEVE_ID))})]})]})]}),(0,r.jsxs)("div",{className:"hidden my-offcanvas my-offcanvas-right",tabIndex:-1,ref:_,children:[(0,r.jsxs)("div",{className:"my-offcanvas-header flex-col !p-0",children:[(0,r.jsxs)("div",{className:"w-full flex items-center justify-between p-3",children:[(0,r.jsx)("h3",{className:"my-offcanvas-title",children:"Liste des enfants"}),(0,r.jsxs)("button",{type:"button",className:"ti-btn flex-shrink-0 h-8 w-8 !p-0 transition-none text-gray-500 hover:text-gray-700 focus:ring-gray-400 focus:ring-offset-white dark:text-white/70 dark:hover:text-white/80 dark:focus:ring-white/10 dark:focus:ring-offset-white/10",onClick:L,children:[(0,r.jsx)("span",{className:"sr-only",children:"Close modal"}),(0,r.jsx)("i",{className:"ri-close-line text-2xl"})]})]}),(0,r.jsx)("input",{onChange:e=>{let t=e.target.value,a=(0,i.eV)(t);S.current&&S.current.querySelectorAll("li").forEach(e=>{let t=(0,i.eV)(e.textContent||"");e.style.display=t.includes(a)?"block":"none"})},placeholder:"Rerchercher...",type:"text",className:"ti-form-input rounded-none !border-b-0 !border-l-0 !border-r-0 focus:z-10 w-full text-gray-800 dark:text-white/70"})]}),(0,r.jsxs)("div",{className:"my-offcanvas-body !p-0",children:[h&&(0,r.jsx)(c._N,{}),!h&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("ul",{className:"flex flex-col",ref:S,children:null==k?void 0:k.map((e,t)=>{var a,s;return 0===t?(0,r.jsx)("li",{className:"ti-list-group bg-white text-gray-800 dark:bg-bgdark dark:border-white/10 dark:text-white border-t-0 border-x-0",children:(0,r.jsxs)("button",{type:"button",className:"flex items-center w-full",onClick:()=>R(e),children:[(0,r.jsx)("div",{className:"ltr:mr-2 rtl:ml-2",children:(0,r.jsx)("span",{className:"inline-flex items-center justify-center avatar avatar-sm bg-primary text-white rounded-full",children:"".concat(e.NOM.charAt(0).toUpperCase()).concat(null===(a=e.PRENOM)||void 0===a?void 0:a.charAt(0).toUpperCase())})}),(0,r.jsx)("p",{className:"font-semibold mb-0",children:"".concat(e.NOM," ").concat(e.PRENOM)})]})},t):(0,r.jsx)("li",{className:"ti-list-group bg-white text-gray-800 dark:bg-bgdark dark:border-white/10 dark:text-white border-x-0",children:(0,r.jsxs)("button",{type:"button",className:"flex items-center w-full",onClick:()=>R(e),children:[(0,r.jsx)("div",{className:"ltr:mr-2 rtl:ml-2",children:(0,r.jsx)("span",{className:"inline-flex items-center justify-center avatar avatar-sm bg-primary text-white rounded-full",children:"".concat(e.NOM.charAt(0).toUpperCase()).concat(null===(s=e.PRENOM)||void 0===s?void 0:s.charAt(0).toUpperCase())})}),(0,r.jsx)("p",{className:"font-semibold mb-0",children:"".concat(e.NOM," ").concat(e.PRENOM)})]})})})})})]})]},A)]})]})};o.layout="Contentlayout";let d=o},74230:(e,t,a)=>{"use strict";a.d(t,{Qv:()=>n,_N:()=>i,eI:()=>l,mH:()=>s});var r=a(74848);a(96540);let s=()=>(0,r.jsx)("div",{className:"h-4 w-40 bg-gray-200 rounded-sm dark:bg-black/20"}),l=()=>(0,r.jsxs)("div",{className:"border rounded-sm shadow-sm p-6 dark:bg-bgdark dark:border-white/10",children:[(0,r.jsx)("h3",{className:"h-4 bg-gray-200 rounded-sm dark:bg-black/20 w-2/5]"}),(0,r.jsx)("ul",{className:"mt-5 space-y-3",children:Array.from({length:5}).map((e,t)=>(0,r.jsx)("li",{className:"w-full h-4 bg-gray-200 rounded-sm dark:bg-black/20"},t))})]}),n=e=>{let{numberOfColumns:t}=e;return(0,r.jsxs)("table",{className:"table-auto w-full rounded-sm shadow-sm dark:bg-bgdark dark:border-white/10",children:[(0,r.jsx)("thead",{className:"border-b",children:(0,r.jsx)("tr",{children:Array.from({length:t}).map((e,t)=>(0,r.jsx)("th",{className:"w-1/4 py-3 pl-6",children:(0,r.jsx)("div",{className:"h-4 w-10 bg-gray-200 rounded-sm dark:bg-black/20"})},t))})}),(0,r.jsx)("tbody",{children:Array.from({length:5}).map((e,a)=>(0,r.jsx)("tr",{children:Array.from({length:t}).map((e,t)=>(0,r.jsx)("td",{className:"w-1/4 py-3 pl-6",children:(0,r.jsx)("div",{className:"h-4 w-40 bg-gray-200 rounded-sm dark:bg-black/20"})},t))},a))})]})},i=()=>(0,r.jsx)("ul",{className:"w-full flex flex-col",children:Array.from({length:5}).map((e,t)=>(0,r.jsx)("li",{className:"ti-list-group gap-x-3.5 bg-white text-gray-800 dark:bg-bgdark dark:border-white/10 dark:text-white",children:(0,r.jsx)("div",{className:"h-4 w-40 bg-gray-200 rounded-sm dark:bg-black/20"})},t))})},93107:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(74848),s=a(91106),l=a.n(s);a(96540);let n=e=>(0,r.jsxs)("div",{className:"block justify-between page-header md:flex",children:[(0,r.jsx)("div",{children:(0,r.jsx)("h3",{className:"text-gray-700 hover:text-gray-900 dark:text-white dark:hover:text-white text-2xl font-medium",children:e.currentpage})}),(0,r.jsxs)("ol",{className:"flex items-center whitespace-nowrap min-w-0",children:[(0,r.jsx)("li",{className:"text-sm",children:(0,r.jsxs)(l(),{className:"flex items-center font-semibold text-primary hover:text-primary dark:text-primary truncate",href:"#!",children:[e.activepage,(0,r.jsx)("i",{className:"ti ti-chevrons-right flex-shrink-0 mx-3 overflow-visible text-gray-300 dark:text-gray-300 rtl:rotate-180"})]})}),(0,r.jsx)("li",{className:"text-sm text-gray-500 hover:text-primary dark:text-white/70 ","aria-current":"page",children:e.mainpage})]})]})},40350:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var r=a(74848);a(96540);var s=a(13368),l=a.n(s);let n={src:"/orgaFlowDev/V6/_next/static/media/favicon.3659de1b.ico"},i=e=>{let{title:t}=e;return(0,r.jsxs)(l(),{children:[(0,r.jsx)("title",{children:"Synto - ".concat(t)}),(0,r.jsx)("link",{href:n.src,rel:"icon"}),(0,r.jsx)("meta",{name:"description",content:"Synto - Nextjs Admin & Dashboard Template"}),(0,r.jsx)("meta",{name:"author",content:"Spruko Technologies Private Limited"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,r.jsx)("meta",{name:"keywords",content:"tailwind nextjs, dashboard tailwind, tailwind admin, nextjs tailwind, tailwind in nextjs, admin dashboard tailwind, tailwind dashboards, tailwind template admin, tailwind and nextjs, admin panel, template dashboard, admin dashboard template, admin panel template"})]})}},86857:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var r=a(94335),s=a(18987),l=a(18322);new AbortController;let n=r.A.create({baseURL:"https://rest.pre.econcept.be"});n.interceptors.request.use(async e=>{await (0,l.RI)();let t=s.A.get("secret");return t&&(e.headers.Secret=t),e},e=>Promise.reject(e)),n.interceptors.response.use(e=>((0,l.cH)(),e),e=>Promise.reject(e));let i=n},95977:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var r=a(94335),s=a(18987),l=a(18322);let n=new AbortController,i=r.A.create({baseURL:s.A.get("ip")});i.interceptors.request.use(async e=>{await (0,l.RI)();let t=s.A.get("session-token"),a=s.A.get("tenant-id"),r=s.A.get("tenant-secret");return t&&(e.headers["X-Embarcadero-Session-Token"]=t),a&&(e.headers["X-Embarcadero-Tenant-Id"]=a),r&&(e.headers["X-Embarcadero-Tenant-Secret"]=r),e.signal=n.signal,e},e=>Promise.reject(e)),i.interceptors.response.use(e=>((0,l.cH)(),e),e=>Promise.reject(e));let c=i},18322:(e,t,a)=>{"use strict";a.d(t,{Bi:()=>p,Fd:()=>j,Q7:()=>b,RI:()=>N,We:()=>h,Wv:()=>y,Ys:()=>m,cH:()=>f,eV:()=>k,fk:()=>x,sS:()=>v,st:()=>w,wj:()=>g});var r=a(74848),s=a(96540),l=a(87e3),n=a(18987),i=a(86715),c=a.n(i),o=a(95977),d=a(86857);let u=l.PhoneNumberUtil.getInstance(),h=e=>"".concat(e[0]).concat(e.slice(1).toLowerCase()),m=e=>{let t=new Date(e),a=t.getDate().toString().padStart(2,"0"),r=(t.getMonth()+1).toString().padStart(2,"0");return"".concat(a,"/").concat(r,"/").concat(t.getFullYear())},x=e=>{try{let t=u.parse("+".concat(e)),a=u.format(t,l.PhoneNumberFormat.INTERNATIONAL);return"".concat(a)}catch(e){return console.error(e),""}},b=e=>{try{return u.isValidNumber(u.parseAndKeepRawInput(e))}catch(e){return!1}},g=e=>e?new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())).toISOString():new Date(Date.UTC(new Date().getFullYear(),new Date().getMonth(),new Date().getDate())).toISOString(),p=e=>{if(e)return(0,r.jsx)("svg",{className:"h-5 w-5 text-danger absolute top-[45%] right-8",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:(0,r.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"})})},f=()=>{let e=n.A.get("session-token");e&&n.A.set("session-token",e,{path:"/",secure:!0,sameSite:"strict",expires:new Date(new Date().getTime()+24e5)})},N=async()=>{let e=n.A.get("session-token");return e||await c().replace("/"),void 0!==e},w=(e,t,a)=>{let[r,l]=(0,s.useState)(null),[n,i]=(0,s.useState)(!0),[c,u]=(0,s.useState)(null);return(0,s.useEffect)(()=>{(async()=>{try{let r=(t?await (0,d.A)(e):await (0,o.A)(e,{params:a})).data;n&&(l(r),i(!1))}catch(e){n&&(u(e),i(!1))}})()},[e,t,a]),{data:r,loading:n,error:c}},j=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0;try{let r=new URLSearchParams;a&&Object.entries(a).forEach(e=>{let[t,a]=e;Array.isArray(a)?r.append(t,JSON.stringify(a)):r.append(t,a)});let s="".concat(e,"?").concat(r.toString());return{data:(t?await (0,d.A)(s):await (0,o.A)(s)).data,error:null,loading:!1}}catch(e){return{data:null,error:e,loading:!1}}},v=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0;try{return{data:(t?await d.A.put(e,a):await o.A.put(e,a)).data,error:null}}catch(e){return{data:null,error:e}}},y=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{return{data:(t?await d.A.delete(e):await o.A.delete(e)).data,error:null}}catch(e){return{data:null,error:e}}},k=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}},e=>{var t=t=>e(e.s=t);e.O(0,[374,846,636,593,792],()=>t(84630)),_N_E=e.O()}]);