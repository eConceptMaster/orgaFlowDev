(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[543],{43318:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/presence",function(){return a(91163)}])},93503:(e,t,a)=>{"use strict";function r(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}a.d(t,{A:()=>r})},20068:(e,t,a)=>{"use strict";function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}a.d(t,{A:()=>r})},52496:(e,t,a)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a.d(t,{A:()=>s});var l=a(93503);function s(e){(0,l.A)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===r(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(Error().stack)),new Date(NaN))}},91163:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var r=a(74848),l=a(96540),s=a(40350),n=a(93107),i=a(18322),d=a(18382);a(77571);var o=a(59386),c=a.n(o),u=a(20757),m=a(20068),h=a(52496),x=a(93503);function g(e,t){(0,x.A)(2,arguments);var a=(0,h.A)(e),r=(0,m.A)(t);return isNaN(r)?new Date(NaN):(r&&a.setDate(a.getDate()+r),a)}let b=()=>{let[e,t]=(0,l.useState)(!1),[a,o]=(0,l.useState)(!1),[h,b]=(0,l.useState)(!1),[f,p]=(0,l.useState)(new Date),[v,N]=(0,l.useState)([]),[j,w]=(0,l.useState)([]),[y,k]=(0,l.useState)([]),[E,S]=(0,l.useState)(),[_,I]=(0,l.useState)(),[A,D]=(0,l.useState)([]),[F,O]=(0,l.useState)(!0),[T,L]=(0,l.useState)(),[M,R]=(0,l.useState)(null),C=async(e,t)=>{if(v[t])v[t]&&(await (0,i.Wv)("/fraisitemeleve/".concat(A[t])),N(e=>{let a=[...e];return a[t]=!1,a}));else{let r={COUT_UNIT:_,QTE:1,DATE_FRAIS:(0,i.wj)(f),DATE_MODIF:"".concat(new Date),FRAIS_ITEM_ID:T,ELEVE_ID:e,USER_ID:Number(localStorage.getItem("id"))},{error:l}=await (0,i.sS)("/fraisitemeleve",!1,r);if(l){var a;alert(JSON.stringify(null===(a=l.response)||void 0===a?void 0:a.data));return}N(e=>{let a=[...e];return a[t]=!0,a})}},P=async(e,a)=>{var r,l,s,n,d,c,u,m,h,x,g,p,v,j;o(!0),S(e),I(a),b(!0),N([]),D([]);let{result:y}=await (0,i.Fd)("/fraisinscription/frais/".concat(e)),k=null!==(l=null==y?void 0:y.data)&&void 0!==l?l:null,E=null!==(s=null==y?void 0:y.error)&&void 0!==s?s:null;if(E){alert(JSON.stringify(null===(n=E.response)||void 0===n?void 0:n.data));return}let{result:_}=await (0,i.Fd)("/fraisitem/FraisItem/".concat(e)),A=null!==(d=null==_?void 0:_.data)&&void 0!==d?d:null,F=null!==(c=null==_?void 0:_.error)&&void 0!==c?c:null;if(F){alert(JSON.stringify(null===(u=F.response)||void 0===u?void 0:u.data));return}L(null===(r=A[0])||void 0===r?void 0:r.FRAIS_ITEM_ID);let O=null!==(m=null==k?void 0:k.map(e=>e.ELEVE_ID))&&void 0!==m?m:[];if(0===O.length){t(!1),b(!1);return}O.map(e=>{N(e=>{let t=[...e];return t.push(!1),t})});let{result:T,loading:M}=await (0,i.Fd)("/eleves",!1,{IDs:O,champs:["NOM","PRENOM"]}),R=null!==(h=null==T?void 0:T.data)&&void 0!==h?h:null,C=null!==(x=null==T?void 0:T.error)&&void 0!==x?x:null;if(C){alert(JSON.stringify(null===(g=C.response)||void 0===g?void 0:g.data));return}t(!0),w(null!=R?R:[]);let{result:P}=await (0,i.Fd)("/fraisitemeleve/FraisItem/".concat(A[0].FRAIS_ITEM_ID,"/datefrais/").concat((0,i.wj)(f))),V=null!==(p=null==P?void 0:P.data)&&void 0!==p?p:null,J=null!==(v=null==P?void 0:P.error)&&void 0!==v?v:null;if(J){alert(JSON.stringify(null===(j=J.response)||void 0===j?void 0:j.data));return}let U=[],Q=[];(null!=R?R:[]).forEach(e=>{let t=null==V?void 0:V.find(t=>t.ELEVE_ID===e.ELEVE_ID);t?(U.push(!0),Q.push(t.FRAIS_ITEM_ELEVE_ID)):(U.push(!1),Q.push(null))}),N(U),D(Q),b(M)};return(0,l.useEffect)(()=>{let e=localStorage.getItem("annee");console.log(e),e&&R(e)},[]),(0,l.useEffect)(()=>{M&&(async()=>{var e,t,a;let{result:r}=await (0,i.Fd)("/frais/typefrais/2",!1,{AnneeScolaire:M}),l=null!==(e=null==r?void 0:r.data)&&void 0!==e?e:[],s=null!==(t=null==r?void 0:r.error)&&void 0!==t?t:null;if(s){alert(JSON.stringify(null===(a=s.response)||void 0===a?void 0:a.data));return}k(l),O(!1)})()},[M]),(0,r.jsxs)("div",{children:[(0,r.jsx)(s.A,{title:"Prise de pr\xe9sences"}),(0,r.jsx)(n.A,{currentpage:"Prise de pr\xe9sences",activepage:"Prise de pr\xe9sences",mainpage:""}),(0,r.jsxs)("div",{className:"flex gap-6",children:[(0,r.jsxs)("div",{className:"box w-1/3",children:[(0,r.jsx)("div",{className:"box-header",children:(0,r.jsx)("h5",{className:"box-title",children:"Liste des activit\xe9s"})}),(0,r.jsxs)("div",{className:"box-body flex flex-col gap-6",children:[(0,r.jsxs)("div",{className:"self-center flex gap-6 items-center",children:[(0,r.jsx)("button",{className:"ti-btn ti-btn-outline ti-btn-outline-light flex items-center",onClick:()=>{p(e=>(function(e,t){return(0,x.A)(2,arguments),g(e,-(0,m.A)(t))})(e,1)),S(null),w([])},children:(0,r.jsx)("i",{className:"ri-arrow-left-line text-2xl"})}),(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"px-4 inline-flex items-center min-w-fit ltr:rounded-l-sm rtl:rounded-r-sm border ltr:border-r-0 rtl:border-l-0 border-gray-200 bg-gray-50 dark:bg-black/20 dark:border-white/10",children:(0,r.jsx)("span",{className:"text-sm text-gray-500 dark:text-white/70",children:(0,r.jsx)("i",{className:"ri ri-calendar-line"})})}),(0,r.jsx)(c(),{className:"ti-form-input ltr:rounded-l-none rtl:rounded-r-none focus:z-10",locale:u.A,dateFormat:"dd/MM/yyyy",selected:f,onChange:e=>p(e)})]}),(0,r.jsx)("button",{className:"ti-btn ti-btn-outline ti-btn-outline-light flex items-center",onClick:()=>{p(e=>g(e,1)),S(null),w([])},children:(0,r.jsx)("i",{className:"ri-arrow-right-line text-2xl"})})]}),F&&(0,r.jsx)(d._N,{}),!F&&(0,r.jsxs)("ul",{className:"w-full flex flex-col",children:[y&&0===y.length&&(0,r.jsx)("li",{children:"Aucun activit\xe9 pour ce jour"}),y&&y.length>0&&(null==y?void 0:y.map(e=>(0,r.jsx)("li",{className:"ti-list-group gap-x-3.5 bg-white text-gray-800 dark:bg-bgdark \n                                dark:border-white/10 dark:text-white\n                                ".concat(E===e.FRAIS_ID?"!bg-primary text-white":""),onClick:()=>P(e.FRAIS_ID,e.MONTANT),children:e.LIBELLE},e.FRAIS_ID)))]})]})]}),(0,r.jsxs)("div",{className:"box w-2/3",children:[(0,r.jsx)("div",{className:"box-header",children:(0,r.jsx)("h5",{className:"box-title",children:"Liste des enfants"})}),h&&a&&(0,r.jsx)("div",{className:"box-body",children:(0,r.jsx)(d._N,{})}),!h&&(0,r.jsxs)("div",{className:e?"box-body":"box-body h-full flex items-center justify-center",children:[!e&&a&&(0,r.jsx)("p",{children:"Aucun enfant inscrit \xe0 cette activit\xe9"}),e&&a&&(0,r.jsx)("div",{className:"flex flex-col",children:(0,r.jsx)("ul",{className:"flex flex-col gap-3",children:j.map((e,t)=>(0,r.jsx)("li",{className:"ti-list-group gap-x-3.5 bg-white text-gray-800 dark:bg-bgdark dark:border-white/10 dark:text-white",children:(0,r.jsxs)("label",{className:"flex items-center gap-3",children:[(0,r.jsx)("input",{type:"checkbox",id:"switch-".concat(e.ELEVE_ID),className:"ti-switch shrink-0 checked:bg-none checked:bg-green-600 checked:hover:bg-green-600 checked:focus:bg-green-600 focus:border-green-600 focus:ring-green-600 dark:checked:bg-green-600 checked:before:bg-green-200 dark:checked:before:bg-green-200",onChange:()=>C(e.ELEVE_ID,t),checked:v[t]}),(0,r.jsxs)("p",{className:"w-full text-left",children:[e.NOM," ",e.PRENOM]})]})},e.ELEVE_ID))})})]})]})]})]})};b.layout="Contentlayout";let f=b},18382:(e,t,a)=>{"use strict";a.d(t,{Qv:()=>n,_N:()=>i,eI:()=>s,mH:()=>l});var r=a(74848);a(96540);let l=()=>(0,r.jsx)("div",{className:"h-4 w-40 bg-gray-200 rounded-sm dark:bg-black/20"}),s=()=>(0,r.jsxs)("div",{className:"border rounded-sm shadow-sm p-6 dark:bg-bgdark dark:border-white/10",children:[(0,r.jsx)("h3",{className:"h-4 bg-gray-200 rounded-sm dark:bg-black/20 w-2/5]"}),(0,r.jsx)("ul",{className:"mt-5 space-y-3",children:Array.from({length:5}).map((e,t)=>(0,r.jsx)("li",{className:"w-full h-4 bg-gray-200 rounded-sm dark:bg-black/20"},t))})]}),n=e=>{let{numberOfColumns:t}=e;return(0,r.jsxs)("table",{className:"table-auto w-full rounded-sm shadow-sm dark:bg-bgdark dark:border-white/10",children:[(0,r.jsx)("thead",{className:"border-b",children:(0,r.jsx)("tr",{children:Array.from({length:t}).map((e,t)=>(0,r.jsx)("th",{className:"w-1/4 py-3 pl-6",children:(0,r.jsx)("div",{className:"h-4 w-10 bg-gray-200 rounded-sm dark:bg-black/20"})},t))})}),(0,r.jsx)("tbody",{children:Array.from({length:5}).map((e,a)=>(0,r.jsx)("tr",{children:Array.from({length:t}).map((e,t)=>(0,r.jsx)("td",{className:"w-1/4 py-3 pl-6",children:(0,r.jsx)("div",{className:"h-4 w-40 bg-gray-200 rounded-sm dark:bg-black/20"})},t))},a))})]})},i=()=>(0,r.jsx)("ul",{className:"w-full flex flex-col",children:Array.from({length:5}).map((e,t)=>(0,r.jsx)("li",{className:"ti-list-group gap-x-3.5 bg-white text-gray-800 dark:bg-bgdark dark:border-white/10 dark:text-white",children:(0,r.jsx)("div",{className:"h-4 w-40 bg-gray-200 rounded-sm dark:bg-black/20"})},t))})},93107:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(74848),l=a(91106),s=a.n(l);a(96540);let n=e=>(0,r.jsxs)("div",{className:"block justify-between page-header md:flex",children:[(0,r.jsx)("div",{children:(0,r.jsx)("h3",{className:"text-gray-700 hover:text-gray-900 dark:text-white dark:hover:text-white text-2xl font-medium",children:e.currentpage})}),(0,r.jsxs)("ol",{className:"flex items-center whitespace-nowrap min-w-0",children:[(0,r.jsx)("li",{className:"text-sm",children:(0,r.jsxs)(s(),{className:"flex items-center font-semibold text-primary hover:text-primary dark:text-primary truncate",href:"#!",children:[e.activepage,(0,r.jsx)("i",{className:"ti ti-chevrons-right flex-shrink-0 mx-3 overflow-visible text-gray-300 dark:text-gray-300 rtl:rotate-180"})]})}),(0,r.jsx)("li",{className:"text-sm text-gray-500 hover:text-primary dark:text-white/70 ","aria-current":"page",children:e.mainpage})]})]})},40350:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var r=a(74848);a(96540);var l=a(13368),s=a.n(l);let n={src:"/orgaFlowDev/V12.3/_next/static/media/favicon.ab2d95a1.ico"},i=e=>{let{title:t}=e;return(0,r.jsxs)(s(),{children:[(0,r.jsx)("title",{children:"".concat(t)}),(0,r.jsx)("link",{href:n.src,rel:"icon"}),(0,r.jsx)("meta",{name:"description",content:"Synto - Nextjs Admin & Dashboard Template"}),(0,r.jsx)("meta",{name:"author",content:"Spruko Technologies Private Limited"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,r.jsx)("meta",{name:"keywords",content:"tailwind nextjs, dashboard tailwind, tailwind admin, nextjs tailwind, tailwind in nextjs, admin dashboard tailwind, tailwind dashboards, tailwind template admin, tailwind and nextjs, admin panel, template dashboard, admin dashboard template, admin panel template"})]})}},13368:(e,t,a)=>{e.exports=a(86085)}},e=>{var t=t=>e(e.s=t);e.O(0,[833,150,552,636,593,792],()=>t(43318)),_N_E=e.O()}]);