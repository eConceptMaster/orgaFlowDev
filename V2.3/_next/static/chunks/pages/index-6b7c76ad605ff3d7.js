(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2022:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(4600)}])},4600:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var s=a(4848),r=a(350),i=a(6540),n=a(5902),d=a(4335),o=a(8987),l=a(6715);let c=()=>{let e=(0,l.useRouter)(),[t,a]=(0,i.useState)({}),[c,m]=i.useState({MAIL:"",TEL:"",PASSWORD:"",CODE_ETAB:"ARLuka"}),h=e=>{let{name:t,value:s}=e.target;m(e=>({...e,[t]:s})),a(e=>({...e,[t]:!1}))},u=async t=>{t.preventDefault();let s={MAIL:c.MAIL,TEL:c.TEL,PASSWORD:c.PASSWORD,CODE_ETAB:c.CODE_ETAB};try{let t=await d.A.post("https://rest.pre.econcept.be/RADServer/emsserver.dll/compteutilisateur/Connexion",s,{headers:{"X-Embarcadero-Tenant-Id":"7AF015A3-2D49-4488-8883-CD059F02EB34","X-Embarcadero-Tenant-Secret":"Ab123456",Secret:"EcoleEnPoche"}});if(console.log(t.data,s),200===t.status){let a={"X-Embarcadero-Tenant-Id":t.data.TENANT_ID,"X-Embarcadero-Tenant-Secret":t.data.TENANT_SECRET,Secret:"EcoleEnPoche","X-Embarcadero-Session-Token":""},s="https://".concat(t.data.IP),r={username:t.data.ID,password:c.PASSWORD},i=await d.A.post("".concat(s,"/users/login"),r,{headers:a});200===i.status&&(o.A.set("tenant-id",t.data.TENANT_ID,{path:"/",secure:!0,sameSite:"strict"}),o.A.set("tenant-secret",t.data.TENANT_SECRET,{path:"/",secure:!0,sameSite:"strict"}),o.A.set("secret","EcoleEnPoche",{path:"/",secure:!0,sameSite:"strict"}),o.A.set("ip",s,{path:"/",secure:!0,sameSite:"strict"}),o.A.set("session-token",i.data.sessionToken,{path:"/",secure:!0,sameSite:"strict"}),await e.push("/dashboard"))}}catch(e){a(e=>({...e,MAIL:!0,PASSWORD:!0})),console.log(e)}};return(0,s.jsxs)("div",{className:"flex justify-center min-h-screen align-middle",children:[(0,s.jsx)(r.A,{title:"Signin-cover1"}),(0,s.jsxs)(n.vd,{children:[(0,s.jsx)(n.mg,{children:(0,s.jsx)("body",{className:"cover1 justify-center"})}),(0,s.jsxs)("main",{id:"content",className:"w-full max-w-md mx-auto my-auto p-6",children:[(0,s.jsx)("span",{className:"header-logo",children:(0,s.jsx)("img",{src:"/assets/img/logos/logoEConcept.png",alt:"logo",className:"mx-auto block object-cover"})}),(0,s.jsx)("div",{className:"mt-7 bg-white rounded-sm shadow-sm dark:bg-bgdark",children:(0,s.jsxs)("div",{className:"p-4 sm:p-7",children:[(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("h1",{className:"block text-2xl font-bold text-gray-800 dark:text-white",children:"Se connecter"})}),(0,s.jsx)("div",{className:"mt-5",children:(0,s.jsx)("div",{children:(0,s.jsxs)("form",{onSubmit:u,className:"grid gap-y-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm mb-2 dark:text-white",children:"Adresse mail"}),(0,s.jsx)("input",{type:"text",value:c.MAIL,onChange:h,id:"email",name:"MAIL",className:t.MAIL?"py-2 px-3 block w-full  rounded-sm text-sm focus:border-primary focus:ring-primary dark:bg-bgdark dark:border-white/10 dark:text-white/70 !border-red-600":"py-2 px-3 block w-full border-gray-200 rounded-sm text-sm focus:border-primary focus:ring-primary dark:bg-bgdark dark:border-white/10 dark:text-white/70"}),t.MAIL&&(0,s.jsx)("svg",{className:"h-5 w-5 text-danger absolute top-[55%] right-8",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:(0,s.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"})})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"flex justify-between items-center",children:(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm mb-2 dark:text-white",children:"Mot de passe"})}),(0,s.jsx)("input",{type:"password",id:"password",name:"PASSWORD",value:c.PASSWORD,onChange:h,className:t.PASSWORD?"py-2 px-3 block w-full  rounded-sm text-sm focus:border-primary focus:ring-primary dark:bg-bgdark dark:border-white/10 dark:text-white/70 !border-red-600":"py-2 px-3 block w-full border-gray-200 rounded-sm text-sm focus:border-primary focus:ring-primary dark:bg-bgdark dark:border-white/10 dark:text-white/70"}),t.PASSWORD&&(0,s.jsx)("svg",{className:"h-5 w-5 text-danger absolute top-[55%] right-8",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:(0,s.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"})})]}),(0,s.jsx)("button",{type:"button",onClick:u,className:"py-2 px-3 inline-flex justify-center items-center gap-2 rounded-sm border border-transparent font-semibold bg-primary text-white hover:bg-primary focus:outline-none focus:ring-0 focus:ring-primary focus:ring-offset-0 transition-all text-sm dark:focus:ring-offset-white/10",children:"Se connecter"})]})})})]})})]})]})]})};c.layout="Authenticationlayout";let m=c},350:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var s=a(4848);a(6540);var r=a(3368),i=a.n(r);let n={src:"/orgaFlowDev/V2.3/_next/static/media/favicon.3659de1b.ico"},d=e=>{let{title:t}=e;return(0,s.jsxs)(i(),{children:[(0,s.jsx)("title",{children:"Synto - ".concat(t)}),(0,s.jsx)("link",{href:n.src,rel:"icon"}),(0,s.jsx)("meta",{name:"description",content:"Synto - Nextjs Admin & Dashboard Template"}),(0,s.jsx)("meta",{name:"author",content:"Spruko Technologies Private Limited"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,s.jsx)("meta",{name:"keywords",content:"tailwind nextjs, dashboard tailwind, tailwind admin, nextjs tailwind, tailwind in nextjs, admin dashboard tailwind, tailwind dashboards, tailwind template admin, tailwind and nextjs, admin panel, template dashboard, admin dashboard template, admin panel template"})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[846,636,593,792],()=>t(2022)),_N_E=e.O()}]);