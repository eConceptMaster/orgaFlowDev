(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[372],{38692:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/gestionEnfants",function(){return a(61319)}])},61319:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var s=a(74848),l=a(93107),r=a(40350),i=a(96540),n=a(96967);a(13084);var d=a(18382),o=a(18322);class c extends i.Component{componentDidMount(){this.fetchData()}render(){let{data:e}=this.state;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"box-body space-y-3",children:(0,s.jsx)("div",{className:"overflow-hidden table-bordered",children:(0,s.jsxs)("div",{children:[this.isLoading&&(0,s.jsx)(d.Qv,{numberOfColumns:this.columns.length}),!this.isLoading&&(0,s.jsx)(n.ReactTabulator,{columns:this.columns,options:{pagination:"local",paginationSize:10,paginationSizeSelector:[10,20,50,100],paginationInitialPage:1,paginationButtonCount:5,paginationDataReceived:{last_page:1},paginationDataSent:{page:1,size:10}},events:{rowClick:this.rowClick},onRef:e=>{this.props.refTable(e)},data:e,"data-custom-attr":"test-custom-attribute",className:"ti-custom-table ti-striped-table ti-custom-table-hover"})]})})})})}constructor(e){super(e),this.isLoading=!0,this.handleNamePage=(e,t,a)=>{let{namePage:s,isActif:l,mainPage:r,idUser:i}=this.props;s(e),l(!0),r(t),i(a)},this.columns=[{title:"Nom",field:"NOM"},{title:"Registre National",field:"NISS"},{title:"Civilit\xe9",field:"SEXE_TYPE"}],this.fetchData=async()=>{var e,t,a;let{result:s,loading:l}=await (0,o.Fd)("/eleves"),r=null!==(e=null==s?void 0:s.data)&&void 0!==e?e:null,i=null!==(t=null==s?void 0:s.error)&&void 0!==t?t:null;i&&alert(JSON.stringify(null===(a=i.response)||void 0===a?void 0:a.data));let n=(null!=r?r:[]).map(e=>({ID:e.ELEVE_ID,NOM:"".concat(e.NOM," ").concat(void 0!==e.PRENOM?e.PRENOM:""),NISS:e.NISS,DATE_NAISSANCE:e.DATE_NAISSANCE,SEXE_TYPE:"M"===e.SEXE_TYPE?"Gar\xe7on":"F"===e.SEXE_TYPE?"Fille":"X"===e.SEXE_TYPE?"Autres":""}));this.setState({data:n}),this.props.dataTable(n),this.isLoading=l,setTimeout(()=>{let e=document.querySelector(".tabulator-page[title='First Page']"),t=document.querySelector(".tabulator-page[title='Prev Page']"),a=document.querySelector(".tabulator-page[title='Next Page']"),s=document.querySelector(".tabulator-page[title='Last Page']");e&&(e.textContent="Premi\xe8re"),t&&(t.textContent="Pr\xe9c\xe9dente"),a&&(a.textContent="Suivante"),s&&(s.textContent="Derni\xe8re")},10)},this.rowClick=(e,t)=>{this.handleNamePage("Info enfant","Info enfant",String(t.getData().ID))},this.clearData=()=>{this.setState({data:[]})},this.state={data:[]}}}var m=a(59386),u=a.n(m);a(77571);var h=a(20757);a(74148);var x=a(6861),N=a(76424),b=a(91106),p=a.n(b);let E=e=>{var t,a,l,r,n,c,m,b,E,v,g,f,j,S,y,w,A,C;let{namePage:O,isActif:_,mainPage:I,idUser:L,setIdUser:k}=e,[T,D]=(0,i.useState)({}),[P,R]=(0,i.useState)(null),[M,U]=(0,i.useState)(null),[F,B]=(0,i.useState)(!0),[X,Y]=(0,i.useState)(""),[J,z]=(0,i.useState)({NOM:"",PRENOM:"",SEXE_TYPE:"",LIEU_NAISSANCE:"",CODE_PAYS_NAIS:"",NAISSANCE_DATE:"",CODE_NATIONALITE:"",NISS:""}),[V,q]=(0,i.useState)({NOM:"",PRENOM:"",SEXE_TYPE:"",LIEU_NAISSANCE:"",CODE_PAYS_NAIS:"",NAISSANCE_DATE:"",CODE_NATIONALITE:"",NISS:""}),[G,Q]=(0,i.useState)(null),[H,W]=(0,i.useState)({ADRESSE:"",CODE_POSTAL:0,LOCALITE:"",NUMERO:""}),[Z,K]=(0,i.useState)({ADRESSE:"",CODE_POSTAL:0,LOCALITE:"",NUMERO:""}),[$,ee]=(0,i.useState)(null);(0,N.useRouter)();let et=(e,t)=>{_(!1),O(e),I(t),k("")},ea=e=>{let{name:t,value:a,type:s}=e.target;W(e=>({...e,[t]:"number"===s?Number(a):a})),D(e=>({...e,[t]:!1}))},es=e=>{z(t=>({...t,NAISSANCE_DATE:e?(0,o.wj)(e):""})),R(e),D(e=>({...e,NAISSANCE_DATE:!1}))},el=e=>{let{name:t,value:a}=e.target;D(e=>({...e,[t]:!1})),z(e=>({...e,[t]:a}))},er=async()=>{try{let e={...J,ELEVE_ID:L},{data:t,error:a}=await (0,o.FI)("/eleves/",!1,e),{data:s,error:l}=await (0,o.FI)("/adresse/",!1,H);if(a){alert(JSON.stringify(a));return}if(l){alert(JSON.stringify(l));return}B(!1)}catch(e){console.error(e)}},ei=async()=>{try{let{error:t}=await (0,o.Wv)("/eleves/".concat(L));if(t){var e;alert(JSON.stringify(null===(e=t.response)||void 0===e?void 0:e.data));return}setTimeout(()=>et("Utilisateurs",""),50)}catch(e){console.error(e)}},en=(e,t)=>{let a=e.SEXE_TYPE;z({NOM:e.NOM,PRENOM:e.PRENOM,SEXE_TYPE:e.SEXE_TYPE,LIEU_NAISSANCE:e.LIEU_NAISSANCE,CODE_PAYS_NAIS:e.CODE_PAYS_NAIS,NAISSANCE_DATE:e.NAISSANCE_DATE,CODE_NATIONALITE:e.CODE_NATIONALITE,NISS:e.NISS}),Y(a?({M:"Gar\xe7on",F:"Fille",X:"Autres"})[a]:""),void 0!==e.NAISSANCE_DATE&&R(new Date(e.NAISSANCE_DATE)),W({ADRESSE_ID:t.ADRESSE_ID,ELEVE_ID:t.ELEVE_ID,ADRESSE:t.ADRESSE,NUMERO:t.NUMERO,CODE_POSTAL:t.CODE_POSTAL,NUM_BOITE:t.NUM_BOITE,LOCALITE:t.LOCALITE})},{result:ed,loading:eo}=(0,x.s)("/listtype/reference/type_civilite",!0),{result:ec,loading:em}=(0,x.s)("/listtype/reference/type_qualite",!0),{result:eu,loading:eh}=(0,x.s)("/eleves/".concat(L)),{result:ex,loading:eN}=(0,x.s)("/adresse/eleve/".concat(L)),{result:eb,loading:ep}=(0,x.s)("/responsableeleve/eleve/".concat(L)),{result:eE,loading:ev}=(0,x.s)("/frais/typefrais/2",!1,{AnneeScolaire:2023}),eg=eo||eh||eN||ep||em||ev,ef=null!==(t=null==eu?void 0:eu.data)&&void 0!==t?t:null,ej=null!==(a=null==ex?void 0:ex.data)&&void 0!==a?a:null,eS=null!==(l=null==ed?void 0:ed.data)&&void 0!==l?l:null,ey=null!==(r=null==eb?void 0:eb.data)&&void 0!==r?r:null,ew=null!==(n=null==ec?void 0:ec.data)&&void 0!==n?n:null,eA=null!==(c=null==eE?void 0:eE.data)&&void 0!==c?c:null,eC=null!==(m=null==eu?void 0:eu.error)&&void 0!==m?m:null,eO=null!==(b=null==ex?void 0:ex.error)&&void 0!==b?b:null,e_=null!==(E=null==ed?void 0:ed.error)&&void 0!==E?E:null,eI=null!==(v=null==eb?void 0:eb.error)&&void 0!==v?v:null,eL=null!==(g=null==ec?void 0:ec.error)&&void 0!==g?g:null,ek=null!==(f=null==eE?void 0:eE.error)&&void 0!==f?f:null;if(eC){alert(JSON.stringify(null===(j=eC.response)||void 0===j?void 0:j.data));return}if(eO){alert(JSON.stringify(null===(S=eO.response)||void 0===S?void 0:S.data));return}if(e_){alert(JSON.stringify(null===(y=e_.response)||void 0===y?void 0:y.data));return}if(eI){alert(JSON.stringify(null===(w=eI.response)||void 0===w?void 0:w.data));return}if(eL){alert(JSON.stringify(null===(A=eL.response)||void 0===A?void 0:A.data));return}if(ek){alert(JSON.stringify(null===(C=ek.response)||void 0===C?void 0:C.data));return}return(0,i.useEffect)(()=>{(async()=>{if(ey){let e=(await Promise.all(ey.map(async e=>{try{let{result:t}=await (0,o.Fd)("/responsables/".concat(e.ID_RESPONSABLE));return null==t?void 0:t.data}catch(e){return console.error("Error fetching responsible:",e),null}}))).filter(e=>null!==e),t=(await Promise.all(ey.map(async e=>{try{let{result:t}=await (0,o.Fd)("adresse/responsable/".concat(e.ID_RESPONSABLE));return null==t?void 0:t.data}catch(e){return console.error("Error fetching responsible:",e),null}}))).filter(e=>null!==e);ee(e),Q(t)}})()},[ey]),(0,i.useEffect)(()=>{ef&&ej&&(en(ef,ej),B(!1))},[ef,ej]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"grid grid-cols-12 gap-6",children:(0,s.jsx)("div",{className:"col-span-12",children:(0,s.jsxs)("div",{className:"box",children:[(0,s.jsx)("div",{className:"box-header",children:(0,s.jsxs)("button",{type:"button",className:"ti-btn !rounded-full ti-btn-outline-info",onClick:()=>et("Enfants",""),children:[(0,s.jsx)("i",{className:"ti ti-arrow-back font-bold"}),"Retour"]})}),eg&&(0,s.jsx)(d.eI,{}),!eg&&(0,s.jsxs)("div",{className:"box-body",children:[(0,s.jsx)("div",{className:"sm:border-b-2 border-gray-200 dark:border-white/10",children:(0,s.jsxs)("nav",{className:"-mb-0.5 sm:flex sm:space-x-6 rtl:space-x-reverse",children:[(0,s.jsxs)("span",{className:"w-full sm:w-auto hs-tab-active:font-semibold hs-tab-active:border-primary hs-tab-active:text-primary py-4 px-1 inline-flex items-center gap-2 border-b-[3px] border-transparent text-sm whitespace-nowrap text-gray-500 dark:text-white/70 hover:text-primary active",id:"icon-item-1","data-hs-tab":"#icon-1","aria-controls":"icon-1",children:[(0,s.jsx)("i",{className:"ri-file-user-line side-menu__icon"}),"Informations"]}),(0,s.jsxs)("span",{className:"w-full sm:w-auto hs-tab-active:font-semibold hs-tab-active:border-primary hs-tab-active:text-primary py-4 px-1 inline-flex items-center gap-2 border-b-[3px] border-transparent text-sm whitespace-nowrap text-gray-500 dark:text-white/70 hover:text-primary",id:"icon-item-2","data-hs-tab":"#icon-2","aria-controls":"icon-2",children:[(0,s.jsx)("i",{className:"ri-group-line side-menu__icon"}),"Responsable"]}),(0,s.jsxs)("span",{className:"w-full sm:w-auto hs-tab-active:font-semibold hs-tab-active:border-primary hs-tab-active:text-primary py-4 px-1 inline-flex items-center gap-2 border-b-[3px] border-transparent text-sm whitespace-nowrap text-gray-500 dark:text-white/70 hover:text-primary",id:"icon-item-3","data-hs-tab":"#icon-3","aria-controls":"icon-3",children:[(0,s.jsx)("i",{className:"ri-heart-line side-menu__icon"}),"Activit\xe9s"]})]})}),(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsx)("div",{id:"icon-1",role:"tabpanel","aria-labelledby":"icon-item-1",children:(0,s.jsxs)("form",{className:"ti-validation",children:[(0,s.jsxs)("fieldset",{children:[(0,s.jsx)("legend",{className:"text-xl font-semibold bg-white dark:dark:bg-bgdark px-3 translate-y-3 translate-x-3",children:"Informations personnelles"}),(0,s.jsx)("hr",{className:"mb-6"}),(0,s.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Nom"}),(0,s.jsx)("input",{type:"text",className:T.NOM?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input",name:"NOM",value:J.NOM,readOnly:!F,onChange:el,autoFocus:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Pr\xe9nom"}),(0,s.jsx)("input",{type:"text",className:"my-auto ti-form-input",name:"PRENOM",value:J.PRENOM,onChange:el,readOnly:!F})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Civilit\xe9"}),(0,s.jsxs)("select",{className:T.SEXE_TYPE?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input",name:"SEXE_TYPE",value:X,onChange:e=>{let t=e.target.selectedOptions[0];if(!t)return;let a={0:"M",1:"F",2:"X"}[t.dataset.type]||"";Y(t.value),""!==X&&D(e=>({...e,SEXE_TYPE:!1})),z(e=>({...e,SEXE_TYPE:a}))},disabled:!F,children:[(0,s.jsx)("option",{selected:!0,children:"Choisir une civilit\xe9"}),eS&&eS.map(e=>(0,s.jsx)("option",{"data-type":e.ID_REFERENCE,children:e.LIBELLE_REFERENCE},e.ID))]})]}),(0,s.jsxs)("div",{className:"space-y-2 date-of-birth",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Date de naissance"}),(0,s.jsx)("div",{className:"flex",children:(0,s.jsx)(u(),{className:T.NAISSANCE_DATE?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input",name:"NAISSANCE_DATE",showIcon:!0,locale:h.A,dateFormat:"dd/MM/yyyy",selected:P,onChange:e=>es(e),disabled:!F})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Lieu de naissance"}),(0,s.jsx)("input",{type:"text",className:T.LIEU_NAISSANCE?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input",name:"LIEU_NAISSANCE",onChange:el,value:J.LIEU_NAISSANCE,readOnly:!F})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Registre national"}),(0,s.jsx)("input",{type:"text",name:"NISS",onChange:el,value:J.NISS,className:T.NISS?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input",readOnly:!F})]})]})]}),(0,s.jsxs)("fieldset",{className:"mt-6",children:[(0,s.jsx)("legend",{className:"text-xl font-semibold bg-white dark:dark:bg-bgdark px-3 translate-y-3 translate-x-3",children:"Adresse"}),(0,s.jsx)("hr",{className:"mb-6"}),(0,s.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2 relative",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Adresse"}),(0,s.jsx)("input",{type:"text",name:"ADRESSE",onChange:ea,value:H.ADRESSE,readOnly:!F,className:T.ADRESSE?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input"}),(0,x.B)(T.ADRESSE)]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)("div",{className:"space-y-2 relative",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Num\xe9ro"}),(0,s.jsx)("input",{type:"text",name:"NUMERO",onChange:ea,value:H.NUMERO,readOnly:!F,className:T.NUMERO?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input"}),(0,x.B)(T.NUMERO)]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Boite"}),(0,s.jsx)("input",{type:"text",name:"NUM_BOITE",onChange:ea,value:H.NUM_BOITE,readOnly:!F,className:"my-auto ti-form-input"})]}),(0,s.jsxs)("div",{className:"space-y-2 relative",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Code postal"}),(0,s.jsx)("input",{type:"number",name:"CODE_POSTAL",onChange:ea,readOnly:!F,value:0===H.CODE_POSTAL||null===H.CODE_POSTAL?"":H.CODE_POSTAL,className:T.CODE_POSTAL?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input"}),(0,x.B)(T.CODE_POSTAL)]})]}),(0,s.jsxs)("div",{className:"space-y-2 relative",children:[(0,s.jsx)("label",{className:"ti-form-label mb-0",children:"Localit\xe9"}),(0,s.jsx)("input",{type:"text",name:"LOCALITE",onChange:ea,value:H.LOCALITE,readOnly:!F,className:T.LOCALITE?"my-auto ti-form-input !border-red-600":"my-auto ti-form-input"}),(0,x.B)(T.LOCALITE)]})]})]}),(0,s.jsxs)("div",{children:[F&&(0,s.jsx)("button",{type:"button",className:"mt-4 ti-btn ti-btn-success",onClick:er,children:"Valider"}),!F&&(0,s.jsx)("button",{type:"button",className:"mt-4 ti-btn ti-btn-warning",onClick:()=>{B(!0),q({...J}),K({...H}),U(P)},children:"Editer"}),!F&&(0,s.jsx)("button",{type:"button",className:"mt-4 ti-btn ti-btn-danger","data-hs-overlay":"#deleteModal",children:"Supprimer"}),F&&(0,s.jsx)("button",{type:"submit",className:"hs-dropdown-toggle ti-btn ti-border font-medium bg-white text-gray-700 shadow-sm align-middle hover:bg-gray-50 focus:ring-offset-white focus:ring-primary dark:bg-bgdark dark:hover:bg-black/20 dark:border-white/10 dark:text-white/70 dark:hover:text-white dark:focus:ring-offset-white/10",onClick:()=>{B(!1),z({...V}),W({...Z}),R(M)},children:"Annuler"})]})]})}),(0,s.jsx)("div",{id:"icon-2",className:"hidden",role:"tabpanel","aria-labelledby":"icon-item-2",children:(0,s.jsx)("div",{className:"flex gap-2",children:null==$?void 0:$.map((e,t)=>{var a,l,r,i,n,d,c,m;return(0,s.jsxs)("div",{className:"box w-full ",children:[(0,s.jsx)("div",{className:"box-header",children:(0,s.jsxs)("div",{className:"flex items-center w-full relative justify-between",children:[(0,s.jsx)("div",{className:"",children:(0,s.jsxs)("h3",{className:"text-base font-semibold pl-12",children:[e.PRENOM," ",e.NOM.toUpperCase()]})}),(0,s.jsx)("span",{className:"rounded-r-full pr-4 py-3.5 absolute -left-4 bg-secondary/10 text-secondary",children:(0,s.jsx)("i",{className:"ri-number-".concat(e.NUMERO_RESPONSABLE," pl-2")})})]})}),(0,s.jsxs)("div",{className:"box-body",children:[(0,s.jsx)("table",{className:"w-full",children:(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"w-1/5 font-medium text-sm",children:"Registre national :"}),(0,s.jsx)("td",{className:"text-sm",children:null!==(r=e.REGISTRE_NATIONAL)&&void 0!==r?r:"Sans information"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"w-1/5 font-medium text-sm",children:"Qualit\xe9 :"}),(0,s.jsx)("td",{className:"text-sm",children:null!==(i=null==ew?void 0:null===(a=ew.find(t=>Number(t.ID_REFERENCE)===e.QUALITE))||void 0===a?void 0:a.LIBELLE_REFERENCE)&&void 0!==i?i:"Sans information"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"w-1/5 font-medium text-sm",children:"Civilit\xe9 :"}),(0,s.jsx)("td",{className:"text-sm",children:null!==(n=null==eS?void 0:null===(l=eS.find(t=>Number(t.ID_REFERENCE)===e.TYPE_CIVILITE))||void 0===l?void 0:l.LIBELLE_REFERENCE)&&void 0!==n?n:"Sans information"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"w-1/5 font-medium text-sm",children:"T\xe9l\xe9phone :"}),(0,s.jsx)("td",{className:"text-sm",children:(0,o.fk)(String(null!==(d=e.TELEPHONE)&&void 0!==d?d:"Sans information"))})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"w-1/5 font-medium text-sm",children:"Mail :"}),(0,s.jsx)("td",{className:"text-sm",children:null!==(c=e.MAIL)&&void 0!==c?c:"Sans information"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"w-1/5 font-medium text-sm",children:"Num\xe9ro de rue :"}),(0,s.jsx)("td",{className:"text-sm",children:G?G[t].NUMERO:"Sans information"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"w-1/5 font-medium text-sm",children:"Rue :"}),(0,s.jsx)("td",{className:"text-sm",children:G?G[t].ADRESSE:"Sans information"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"w-1/5 font-medium text-sm",children:"Boite :"}),(0,s.jsx)("td",{className:"text-sm",children:G&&null!==(m=G[t].NUM_BOITE)&&void 0!==m?m:"Sans information"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"w-1/5 font-medium text-sm",children:"Code postal :"}),(0,s.jsx)("td",{className:"text-sm",children:G?G[t].CODE_POSTAL:"Sans information"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"w-1/5 font-medium text-sm",children:"Localit\xe9 :"}),(0,s.jsx)("td",{className:"text-sm",children:G?G[t].LOCALITE:"Sans information"})]})]})}),(0,s.jsx)(p(),{className:"mt-4 ti-btn ti-btn-warning",href:{pathname:"/gestionResponsables",query:{id:e.ID}},children:"Modifier"})]})]})})})}),(0,s.jsx)("div",{id:"icon-3",className:"hidden",role:"tabpanel","aria-labelledby":"icon-item-3",children:(0,s.jsx)("div",{className:"flex flex-col gap-3",children:JSON.stringify(eA)})})]}),(0,s.jsx)("div",{id:"deleteModal",className:"hs-overlay hidden ti-modal",children:(0,s.jsx)("div",{className:"hs-overlay-open:mt-7 ti-modal-box mt-0 ease-out",children:(0,s.jsxs)("div",{className:"ti-modal-content",children:[(0,s.jsxs)("div",{className:"ti-modal-header",children:[(0,s.jsx)("h3",{className:"ti-modal-title",children:"Suppression d'enfant"}),(0,s.jsxs)("button",{type:"button",className:"hs-dropdown-toggle ti-modal-close-btn","data-hs-overlay":"#deleteModal",children:[(0,s.jsx)("span",{className:"sr-only",children:"Fermer"}),(0,s.jsx)("svg",{className:"w-3.5 h-3.5",width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M0.258206 1.00652C0.351976 0.912791 0.479126 0.860131 0.611706 0.860131C0.744296 0.860131 0.871447 0.912791 0.965207 1.00652L3.61171 3.65302L6.25822 1.00652C6.30432 0.958771 6.35952 0.920671 6.42052 0.894471C6.48152 0.868271 6.54712 0.854471 6.61352 0.853901C6.67992 0.853321 6.74572 0.865971 6.80722 0.891111C6.86862 0.916251 6.92442 0.953381 6.97142 1.00032C7.01832 1.04727 7.05552 1.1031 7.08062 1.16454C7.10572 1.22599 7.11842 1.29183 7.11782 1.35822C7.11722 1.42461 7.10342 1.49022 7.07722 1.55122C7.05102 1.61222 7.01292 1.6674 6.96522 1.71352L4.31871 4.36002L6.96522 7.00648C7.05632 7.10078 7.10672 7.22708 7.10552 7.35818C7.10442 7.48928 7.05182 7.61468 6.95912 7.70738C6.86642 7.80018 6.74102 7.85268 6.60992 7.85388C6.47882 7.85498 6.35252 7.80458 6.25822 7.71348L3.61171 5.06702L0.965207 7.71348C0.870907 7.80458 0.744606 7.85498 0.613506 7.85388C0.482406 7.85268 0.357007 7.80018 0.264297 7.70738C0.171597 7.61468 0.119017 7.48928 0.117877 7.35818C0.116737 7.22708 0.167126 7.10078 0.258206 7.00648L2.90471 4.36002L0.258206 1.71352C0.164476 1.61976 0.111816 1.4926 0.111816 1.36002C0.111816 1.22744 0.164476 1.10028 0.258206 1.00652Z",fill:"currentColor"})})]})]}),(0,s.jsx)("div",{className:"ti-modal-body",children:(0,s.jsx)("p",{className:"mt-1 text-gray-800 dark:text-white/70",children:"\xcates-vous s\xfbr de vouloir supprimer cet enfant ?"})}),(0,s.jsxs)("div",{className:"ti-modal-footer",children:[(0,s.jsx)("button",{type:"button",className:"hs-dropdown-toggle ti-btn ti-btn-danger bg-danger font-medium shadow-sm align-middle hover:bg-danger/80 focus:ring-offset-white focus:ring-danger dark:bg-danger dark:hover:bg-danger/80 dark:focus:ring-offset-white/10","data-hs-overlay":"#deleteModal",onClick:ei,children:"Supprimer"}),(0,s.jsx)("button",{type:"button",className:"hs-dropdown-toggle ti-btn ti-border font-medium bg-white text-gray-700 shadow-sm align-middle hover:bg-gray-50 focus:ring-offset-white focus:ring-primary dark:bg-bgdark dark:hover:bg-black/20 dark:border-white/10 dark:text-white/70 dark:hover:text-white dark:focus:ring-offset-white/10","data-hs-overlay":"#deleteModal",children:"Annuler"})]})]})})})]})]})})})})},v=()=>{let[e,t]=(0,i.useState)("Enfants"),[a,n]=(0,i.useState)(""),[d,m]=(0,i.useState)(!1),[u,h]=(0,i.useState)(void 0),[x,N]=(0,i.useState)(void 0),[b,v]=(0,i.useState)(["NOM","NISS","SEXE_TYPE"]),[g,f]=(0,i.useState)(!1),[j,S]=(0,i.useState)(""),y=(e,t,a,s)=>{let l=e.target.value.trim().toLowerCase(),r=(0,o.eV)(l);if(s.current){let e=l?a.filter(e=>t.some(t=>{var a;let s=null===(a=e[t])||void 0===a?void 0:a.toString().toLowerCase();return(0,o.eV)(s).includes(r)})):a;s.current.replaceData(e),s.current.redraw()}};return(0,s.jsxs)("div",{children:[(0,s.jsx)(r.A,{title:"Enfants"}),(0,s.jsx)(l.A,{currentpage:e,mainpage:a,activepage:"Gestion des enfants"}),(0,s.jsx)("div",{className:"grid grid-cols-12 gap-6",children:(0,s.jsxs)("div",{className:"col-span-12",children:[!d&&(0,s.jsxs)("div",{className:"box basic-data-table",children:[(0,s.jsxs)("div",{className:"box-header flex items-center ",children:[(0,s.jsxs)(p(),{href:"/inscription",className:"ti-btn !rounded-full ti-btn-outline-success mr-auto",children:[(0,s.jsx)("i",{className:"ti ti-plus font-bold"}),"Ajouter un enfant"]}),(0,s.jsx)("div",{className:"max-w-sm space-y-3",children:(0,s.jsxs)("div",{className:"flex rounded-sm",children:[(0,s.jsx)("input",{onChange:e=>y(e,b,u,x),placeholder:"Rerchercher...",type:"text",id:"hs-trailing-button-add-on-with-icon",name:"hs-trailing-button-add-on-with-icon",className:"ti-form-input rounded-none ltr:rounded-l-sm rtl:rounded-r-sm focus:z-10"}),(0,s.jsx)("button",{"aria-label":"button",type:"button",className:"inline-flex flex-shrink-0 justify-center items-center h-[2.875rem] w-[2.875rem] ltr:rounded-r-sm rtl:rounded-l-sm border border-transparent font-semibold bg-primary text-white hover:bg-primary focus:z-10 focus:outline-none focus:ring-0 focus:ring-primary transition-all text-sm",children:(0,s.jsx)("svg",{className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:(0,s.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})})})]})})]}),(0,s.jsx)(c,{namePage:t,isActif:m,mainPage:n,idUser:S,dataTable:h,refTable:N})]}),d&&(0,s.jsx)(E,{namePage:t,isActif:m,mainPage:n,idUser:j,setIdUser:S})]})})]})};v.layout="Contentlayout";let g=v},18382:(e,t,a)=>{"use strict";a.d(t,{Qv:()=>i,_N:()=>n,eI:()=>r,mH:()=>l});var s=a(74848);a(96540);let l=()=>(0,s.jsx)("div",{className:"h-4 w-40 bg-gray-200 rounded-sm dark:bg-black/20"}),r=()=>(0,s.jsxs)("div",{className:"border rounded-sm shadow-sm p-6 dark:bg-bgdark dark:border-white/10",children:[(0,s.jsx)("h3",{className:"h-4 bg-gray-200 rounded-sm dark:bg-black/20 w-2/5]"}),(0,s.jsx)("ul",{className:"mt-5 space-y-3",children:Array.from({length:5}).map((e,t)=>(0,s.jsx)("li",{className:"w-full h-4 bg-gray-200 rounded-sm dark:bg-black/20"},t))})]}),i=e=>{let{numberOfColumns:t}=e;return(0,s.jsxs)("table",{className:"table-auto w-full rounded-sm shadow-sm dark:bg-bgdark dark:border-white/10",children:[(0,s.jsx)("thead",{className:"border-b",children:(0,s.jsx)("tr",{children:Array.from({length:t}).map((e,t)=>(0,s.jsx)("th",{className:"w-1/4 py-3 pl-6",children:(0,s.jsx)("div",{className:"h-4 w-10 bg-gray-200 rounded-sm dark:bg-black/20"})},t))})}),(0,s.jsx)("tbody",{children:Array.from({length:5}).map((e,a)=>(0,s.jsx)("tr",{children:Array.from({length:t}).map((e,t)=>(0,s.jsx)("td",{className:"w-1/4 py-3 pl-6",children:(0,s.jsx)("div",{className:"h-4 w-40 bg-gray-200 rounded-sm dark:bg-black/20"})},t))},a))})]})},n=()=>(0,s.jsx)("ul",{className:"w-full flex flex-col",children:Array.from({length:5}).map((e,t)=>(0,s.jsx)("li",{className:"ti-list-group gap-x-3.5 bg-white text-gray-800 dark:bg-bgdark dark:border-white/10 dark:text-white",children:(0,s.jsx)("div",{className:"h-4 w-40 bg-gray-200 rounded-sm dark:bg-black/20"})},t))})},93107:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var s=a(74848),l=a(91106),r=a.n(l);a(96540);let i=e=>(0,s.jsxs)("div",{className:"block justify-between page-header md:flex",children:[(0,s.jsx)("div",{children:(0,s.jsx)("h3",{className:"text-gray-700 hover:text-gray-900 dark:text-white dark:hover:text-white text-2xl font-medium",children:e.currentpage})}),(0,s.jsxs)("ol",{className:"flex items-center whitespace-nowrap min-w-0",children:[(0,s.jsx)("li",{className:"text-sm",children:(0,s.jsxs)(r(),{className:"flex items-center font-semibold text-primary hover:text-primary dark:text-primary truncate",href:"#!",children:[e.activepage,(0,s.jsx)("i",{className:"ti ti-chevrons-right flex-shrink-0 mx-3 overflow-visible text-gray-300 dark:text-gray-300 rtl:rotate-180"})]})}),(0,s.jsx)("li",{className:"text-sm text-gray-500 hover:text-primary dark:text-white/70 ","aria-current":"page",children:e.mainpage})]})]})},40350:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var s=a(74848);a(96540);var l=a(13368),r=a.n(l);let i={src:"/orgaFlowDev/V12/_next/static/media/favicon.ab2d95a1.ico"},n=e=>{let{title:t}=e;return(0,s.jsxs)(r(),{children:[(0,s.jsx)("title",{children:"".concat(t)}),(0,s.jsx)("link",{href:i.src,rel:"icon"}),(0,s.jsx)("meta",{name:"description",content:"Synto - Nextjs Admin & Dashboard Template"}),(0,s.jsx)("meta",{name:"author",content:"Spruko Technologies Private Limited"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,s.jsx)("meta",{name:"keywords",content:"tailwind nextjs, dashboard tailwind, tailwind admin, nextjs tailwind, tailwind in nextjs, admin dashboard tailwind, tailwind dashboards, tailwind template admin, tailwind and nextjs, admin panel, template dashboard, admin dashboard template, admin panel template"})]})}},6861:(e,t,a)=>{"use strict";a.d(t,{B:()=>c,s:()=>o});var s=a(74848),l=a(96540),r=a(86857),i=a(95977);let n=()=>navigator.onLine,d=()=>{alert("No internet connection. Please check your network and try again.")},o=(e,t,a)=>{let[s,o]=(0,l.useState)(null),[c,m]=(0,l.useState)(!0);return(0,l.useEffect)(()=>{(async()=>{try{if(!n()){d(),o({data:null,error:{message:"No internet connection"}}),m(!1);return}let s=new URLSearchParams;a&&Object.entries(a).forEach(e=>{let[t,a]=e;Array.isArray(a)||"object"==typeof a?s.append(t,JSON.stringify(a)):s.append(t,a)});let l="".concat(e,"?").concat(s.toString()),u=(0,i.w)(),h=t?await r.A.get(e):await u.get(l);c&&(o({data:h.data,error:null}),m(!1))}catch(e){c&&(o({data:null,error:e}),m(!1))}})()},[e,t,a]),{result:s,loading:c}},c=e=>{if(e)return(0,s.jsx)("svg",{className:"h-5 w-5 text-danger absolute top-[45%] right-8",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:(0,s.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"})})}},13368:(e,t,a)=>{e.exports=a(86085)}},e=>{var t=t=>e(e.s=t);e.O(0,[833,518,150,552,230,185,636,593,792],()=>t(38692)),_N_E=e.O()}]);