"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[416],{71416:(e,a,s)=>{s.r(a),s.d(a,{default:()=>o});var t=s(74848),l=s(96540),i=s(59386),n=s.n(i);s(77571);var r=s(87185),c=s(94335),m=s(18987);let E=e=>{let{namePage:a,isActif:s,mainPage:i,isChecking:E,setInfoChecking:o,idUser:d}=e,[N,u]=(0,l.useState)(""),[p,h]=(0,l.useState)(),[b,A]=(0,l.useState)(["DEMO","PROF","PARENT","ELEVE","DIRECTION","PROVISEUR","EDUCATEUR","SECRETAIRE","ECONOME","OUVRIER"]),[R,x]=(0,l.useState)({MAIL:"",TELEPHONE:"",PASSWORD:"",TYPE_USER:0,FLAG_MAIL_VERIFIED:0,FLAG_TELEPHONE_VERIFIED:0,DATETIME_CREATION:"",CODE_PIN:0,REGISTRE_NATIONAL:"",NOM:"",PRENOM:"",DATE_NAISSANCE:""}),[S,T]=(0,l.useState)({MAIL:"",TELEPHONE:"",PASSWORD:"",NOM:"",PRENOM:"",DATE_NAISSANCE:"",REGISTRE_NATIONAL:"",TYPE_USER:0}),O=(e,t)=>{s(!1),a(e),i(t),o(!1)},I=e=>{u(r.z[e.TYPE_USER]),T({MAIL:e.MAIL,TELEPHONE:e.TELEPHONE,PASSWORD:e.PASSWORD,NOM:e.NOM,PRENOM:e.PRENOM,REGISTRE_NATIONAL:e.REGISTRE_NATIONAL,DATE_NAISSANCE:"",TYPE_USER:e.TYPE_USER}),void 0!==e.DATE_NAISSANCE&&h(new Date(e.DATE_NAISSANCE))},j=e=>{let a=e.target.value.toUpperCase(),s=r.L[a];void 0!==s&&(u(e.target.value),x({...R,TYPE_USER:s}))},y=(e,a)=>{if(e){let{name:a,value:s}=e.target;x({...R,[a]:s})}a&&(x({...R,DATE_NAISSANCE:a.toISOString()}),h(a))},P=async e=>{e.preventDefault(),x({...R,DATETIME_CREATION:new Date().toISOString()});let a=JSON.stringify(R);console.log(a);try{let e={"X-Embarcadero-Tenant-Id":m.A.get("tenant-id"),"X-Embarcadero-Tenant-Secret":m.A.get("tenant-secret"),Secret:m.A.get("secret")},s=m.A.get("ip"),t=await c.A.put("".concat(s,"/compteutilisateur/interne"),a,{headers:e});200===t.status&&(x({MAIL:"",TELEPHONE:"",PASSWORD:"",TYPE_USER:0,FLAG_MAIL_VERIFIED:0,FLAG_TELEPHONE_VERIFIED:0,DATETIME_CREATION:"",CODE_PIN:0,REGISTRE_NATIONAL:"",NOM:"",PRENOM:"",DATE_NAISSANCE:""}),u("DEMO"))}catch(e){console.log(e)}};return(0,l.useEffect)(()=>{let e=async()=>{try{let e={"X-Embarcadero-Tenant-Id":m.A.get("tenant-id"),"X-Embarcadero-Tenant-Secret":m.A.get("tenant-secret"),Secret:m.A.get("secret")},a=m.A.get("ip"),s=await c.A.get("".concat(a,"/compteutilisateur/").concat(d),{headers:e});I(s.data)}catch(e){console.error(e)}};E&&e()},[]),(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"grid grid-cols-12 gap-6",children:(0,t.jsx)("div",{className:"col-span-12",children:(0,t.jsxs)("div",{className:"box",children:[(0,t.jsx)("div",{className:"box-header",children:(0,t.jsxs)("button",{type:"button",className:"ti-btn !rounded-full ti-btn-outline-info",onClick:()=>O("Utilisateurs",""),children:[(0,t.jsx)("i",{className:"ti ti-arrow-back font-bold"}),"Retour"]})}),(0,t.jsxs)("div",{className:"box-body",children:[!E&&(0,t.jsxs)("form",{className:"ti-validation",onSubmit:P,children:[(0,t.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"ti-form-label mb-0",children:"Nom"}),(0,t.jsx)("input",{type:"text",className:"my-auto ti-form-input",name:"NOM",value:R.NOM,onChange:y,placeholder:"Nom",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"ti-form-label mb-0",children:"Prenom"}),(0,t.jsx)("input",{type:"text",className:"my-auto ti-form-input",name:"PRENOM",value:R.PRENOM,onChange:y,placeholder:"Pr\xe9nom",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"ti-form-label mb-0",children:"T\xe9l\xe9phone"}),(0,t.jsx)("input",{type:"number",className:"my-auto ti-form-input",name:"TELEPHONE",value:R.TELEPHONE,onChange:y,placeholder:"+32412345678",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"ti-form-label mb-0",children:"Mail"}),(0,t.jsx)("input",{type:"email",className:"my-auto ti-form-input",name:"MAIL",value:R.MAIL,onChange:y,placeholder:"your@site.com",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"ti-form-label mb-0",children:"Mot de passe"}),(0,t.jsx)("input",{type:"password",className:"ti-form-input",name:"PASSWORD",value:R.PASSWORD,onChange:y,placeholder:"Mot de passe",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2 date-of-birth",children:[(0,t.jsx)("label",{className:"ti-form-label mb-0",children:"Date de naissance"}),(0,t.jsx)(n(),{className:"ti-form-input",name:"DATE_NAISSANCE",placeholderText:"01/01/2000",showIcon:!0,selected:p,onChange:e=>y(void 0,e)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"ti-form-label mb-0",children:"Registre national"}),(0,t.jsx)("input",{type:"text",name:"REGISTRE_NATIONAL",onChange:y,value:R.REGISTRE_NATIONAL,className:"my-auto ti-form-input",placeholder:"BG",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"ti-form-label mb-0",children:"Type d'utilisateur"}),(0,t.jsx)("select",{name:"TYPE_USER",className:"my-auto ti-form-input",value:N,onChange:j,required:!0,children:b.map((e,a)=>(0,t.jsx)("option",{children:e},a))})]})]}),!E&&(0,t.jsx)("button",{type:"submit",className:"mt-4 ti-btn ti-btn-primary",children:"Cr\xe9er"}),E&&(0,t.jsx)("button",{type:"submit",className:"mt-4 ti-btn ti-btn-warning",children:"Editer"}),E&&(0,t.jsx)("button",{type:"submit",className:"mt-4 ti-btn ti-btn-danger",children:"Supprimer"})]}),E&&(0,t.jsxs)("form",{className:"ti-validation",onSubmit:P,children:[(0,t.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"ti-form-label mb-0",children:"Nom"}),(0,t.jsx)("input",{type:"text",className:"my-auto ti-form-input",name:"NOM",value:S.NOM,onChange:y,placeholder:"Nom",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"ti-form-label mb-0",children:"Prenom"}),(0,t.jsx)("input",{type:"text",className:"my-auto ti-form-input",name:"PRENOM",value:S.PRENOM,onChange:y,placeholder:"Pr\xe9nom",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"ti-form-label mb-0",children:"T\xe9l\xe9phone"}),(0,t.jsx)("input",{type:"number",className:"my-auto ti-form-input",name:"TELEPHONE",value:S.TELEPHONE,onChange:y,placeholder:"+32412345678",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"ti-form-label mb-0",children:"Mail"}),(0,t.jsx)("input",{type:"email",className:"my-auto ti-form-input",name:"MAIL",value:S.MAIL,onChange:y,placeholder:"your@site.com",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"ti-form-label mb-0",children:"Mot de passe"}),(0,t.jsx)("input",{type:"password",className:"ti-form-input",name:"PASSWORD",value:S.PASSWORD,onChange:y,placeholder:"Mot de passe",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2 date-of-birth",children:[(0,t.jsx)("label",{className:"ti-form-label mb-0",children:"Date de naissance"}),(0,t.jsx)(n(),{className:"ti-form-input",name:"DATE_NAISSANCE",placeholderText:"01/01/2000",showIcon:!0,selected:p,onChange:e=>y(void 0,e)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"ti-form-label mb-0",children:"Registre national"}),(0,t.jsx)("input",{type:"text",name:"REGISTRE_NATIONAL",onChange:y,value:S.REGISTRE_NATIONAL,className:"my-auto ti-form-input",placeholder:"BG",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"ti-form-label mb-0",children:"Type d'utilisateur"}),(0,t.jsxs)("select",{name:"TYPE_USER",className:"my-auto ti-form-input",value:N,onChange:j,required:!0,children:[b.map((e,a)=>(0,t.jsx)("option",{children:e},a)),";"]})]})]}),!E&&(0,t.jsx)("button",{type:"submit",className:"mt-4 ti-btn ti-btn-primary",children:"Cr\xe9er"}),E&&(0,t.jsx)("button",{type:"submit",className:"mt-4 ti-btn ti-btn-warning",children:"Editer"}),E&&(0,t.jsx)("button",{type:"button",className:"mt-4 ti-btn ti-btn-danger",children:"Supprimer"})]})]})]})})})})};E.layout="Contentlayout";let o=E},87185:(e,a,s)=>{s.d(a,{L:()=>l,z:()=>t});let t={0:"DEMO",1:"PROF",2:"PARENT",3:"ELEVE",4:"DIRECTION",5:"PROVISEUR",6:"EDUCATEUR",7:"SECRETAIRE",8:"ECONOME",9:"OUVRIER"},l={DEMO:0,PROF:1,PARENT:2,ELEVE:3,DIRECTION:4,PROVISEUR:5,EDUCATEUR:6,SECRETAIRE:7,ECONOME:8,OUVRIER:9}}}]);